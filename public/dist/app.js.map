{"version":3,"names":[],"mappings":"","sources":["app.js"],"sourcesContent":["!function e(t,i,n){function s(r,l){if(!i[r]){if(!t[r]){var o=\"function\"==typeof require&&require;if(!l&&o)return o(r,!0);if(a)return a(r,!0);var u=new Error(\"Cannot find module '\"+r+\"'\");throw u.code=\"MODULE_NOT_FOUND\",u}var c=i[r]={exports:{}};t[r][0].call(c.exports,function(e){var i=t[r][1][e];return s(i||e)},c,c.exports,e,t,i,n)}return i[r].exports}for(var a=\"function\"==typeof require&&require,r=0;r<n.length;r++)s(n[r]);return s}({1:[function(e,t,i){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}var s=e(\"jquery\"),a=n(s),r=e(\"tinymce/tinymce\");n(r);e(\"tinymce/themes/modern/theme\"),e(\"tinymce/plugins/paste\"),e(\"tinymce/plugins/link\");var l=e(\"debug\"),o=n(l);e(\"float-labels.js/src/float-labels.js\");var u=e(\"./scripts/fields/relation\"),c=n(u),f=(0,o.default)(\"r2admin\");localStorage.debug=\"*\",(0,a.default)(function(){var e=new window.FloatLabels(\"form\",{style:1,transform:\"input, select, textarea\"});f(\"page init\"),(0,c.default)(),console.log(window.FloatLabels),console.log(e)})},{\"./scripts/fields/relation\":2,debug:\"debug\",\"float-labels.js/src/float-labels.js\":3,jquery:\"jquery\",\"tinymce/plugins/link\":\"tinymce/plugins/link\",\"tinymce/plugins/paste\":\"tinymce/plugins/paste\",\"tinymce/themes/modern/theme\":\"tinymce/themes/modern/theme\",\"tinymce/tinymce\":\"tinymce/tinymce\"}],2:[function(e,t,i){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,\"__esModule\",{value:!0});var s=e(\"jquery\"),a=n(s),r=e(\"debug\"),l=n(r);e(\"selectize\");var o=(0,l.default)(\"r2admin:field:relation\"),u=function(e){var t=e.data(),i=t.ref,n=t.display,s=t.value,r=t.placeholder;return n?e.selectize({placeholder:r,valueField:\"_id\",labelField:n,searchField:n,load:function(e,t){return e.length?a.default.get(\"/admin/\"+i+\"/search\",{field:n,q:e},function(e){t(e.data)},\"json\"):t()},onInitialize:function(){var e=this;return!!s&&a.default.get(\"/admin/\"+i+\"/ids\",{field:n,ids:s},function(t){e.clear();var i=[];t.data.forEach(function(t){e.updateOption(t._id,t),i.push(t._id)}),e.setValue(i)},\"json\")},onFocus:function(){e.parent().addClass(\"fl-has-focus\")},onBlur:function(){e.parent().removeClass(\"fl-has-focus\")},onChange:function(t){return t&&t.length?e.parent().addClass(\"fl-is-active\"):e.parent().removeClass(\"fl-is-active\")}}):o(i+\", data-display not found\")};i.default=function(){(0,a.default)(\".f-relation\").each(function(){u((0,a.default)(this))})}},{debug:\"debug\",jquery:\"jquery\",selectize:\"selectize\"}],3:[function(e,t,i){!function(e,t,i){\"use strict\";var n=e.jQuery||e.Zepto||e.$,s=function(e,i){this.el=this.isString(e)?t.querySelectorAll(e):e,this.options=i,this.prefix=\"fl-\",this.init()};s.prototype={defaults:{customEvent:null,customLabel:null,exclude:\".no-label\",inputRegex:/email|number|password|search|tel|text|url/,prioritize:\"label\",requiredClass:\"required\",style:0,transform:\"input,select,textarea\"},init:function(){var e=this;Array.prototype.forEach.call(this.el,function(t){e.config=e.extend({},e.defaults,e.options,t.getAttribute(\"data-options\"));var i=e.sprintf(\":not($0)\",e.config.exclude.split(/[\\s,]+/).join(\"):not(\"));e.on(\"reset\",t,e.onReset.bind(e)),e.addClass(t,e.prefixed(\"form\")),e.config.style&&e.addClass(t,e.prefixed(\"style-\"+e.config.style)),e.config.transform.split(/[\\s,]+/).forEach(function(n){t.querySelectorAll(n+i).forEach(function(i){e.floatLabel(t,i)})})})},floatLabel:function(e,t){if(t.getAttribute(\"id\")&&!this.hasClass(t.parentNode,this.prefixed(\"wrap\"))&&(\"INPUT\"!==t.tagName||this.config.inputRegex.test(t.getAttribute(\"type\")))){var i=this.getLabel(t,e);i&&(this.addClass(i,this.prefixed(\"label\")),this.addClass(t,this.prefixed(t.tagName.toLowerCase())),this.setLabel(i,t),this.wrapLabel(i,t),this.runEvents(t))}},getLabel:function(e,t){var i=this.sprintf('label[for=\"$0\"]',e.getAttribute(\"id\")),n=t.querySelectorAll(i);return n.length>1&&(n=e.parentNode.querySelectorAll(i)),1===n.length&&n[0]},setLabel:function(e,t){var i=e.textContent.replace(/[*:]/g,\"\").trim(),n=t.getAttribute(\"placeholder\");if((!i||i&&n&&\"placeholder\"===this.config.prioritize)&&(i=n),\"function\"==typeof this.config.customLabel){var s=this.config.customLabel.call(this,e,t);void 0!==s&&(i=s)}e.text=i,\"SELECT\"===t.tagName?\"\"!==t.firstElementChild.value?t.insertBefore(new Option(i,\"\",!0,!0),t.firstElementChild):\"\"===t.firstElementChild.value&&\"\"===t.options[0].text&&(t.firstElementChild.text=i):n&&\"label\"!==this.config.prioritize||t.setAttribute(\"placeholder\",i)},wrapLabel:function(e,t){var i=this.createEl(\"div\",{class:this.prefixed(\"wrap\")+\" \"+this.prefixed(\"wrap-\"+t.tagName.toLowerCase())});(t.getAttribute(\"data-value\")||t.value.length)&&this.addClass(i,this.prefixed(\"is-active\")),(null!==t.getAttribute(\"required\")||this.hasClass(t,this.config.requiredClass))&&this.addClass(i,this.prefixed(\"is-required\")),t.parentNode.insertBefore(i,t),i.appendChild(e),i.appendChild(t)},runEvents:function(e){\"function\"==typeof this.config.customEvent&&this.config.customEvent.call(this,e),this.on(\"blur\",e,this.onBlur.bind(this)),this.on(\"input\",e,this.onChange.bind(this)),this.on(\"focus\",e,this.onFocus.bind(this))},onBlur:function(e){this.removeClass(e.target.parentNode,this.prefixed(\"has-focus\"))},onChange:function(e){this[(e.target.value.length?\"add\":\"remove\")+\"Class\"](e.target.parentNode,this.prefixed(\"is-active\"))},onFocus:function(e){this.addClass(e.target.parentNode,this.prefixed(\"has-focus\"))},onReset:function(e){var t=this;this.config.transform.split(/[\\s,]+/).forEach(function(i){e.target.querySelectorAll(i).forEach(function(e){t.removeClass(e.parentNode,t.prefixed(\"is-active\"))})})},addClass:function(e,t){e.classList?e.classList.add(t):this.hasClass(e,t)||(e.className+=\" \"+t)},hasClass:function(e,t){return e.classList?e.classList.contains(t):new RegExp(\"\\\\b\"+t+\"\\\\b\").test(e.className)},removeClass:function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp(\"\\\\b\"+t+\"\\\\b\",\"g\"),\"\")},event:function(e,t,i,n){t.split(\" \").forEach(function(t){i[e+\"EventListener\"](t,n,!1)})},on:function(e,t,i){this.event(\"add\",e,t,i)},off:function(e,t,i){this.event(\"remove\",e,t,i)},trigger:function(e,i){var n=t.createEvent(\"HTMLEvents\");n.initEvent(e,!1,!0),i.dispatchEvent(n)},extend:function(){var e=[].slice.call(arguments),t=e[0],i=e.slice(1);return Object.keys(i).forEach(function(e){for(var n in i[e])i[e].hasOwnProperty(n)&&(t[n]=i[e][n])}),t},isString:function(e){return\"[object String]\"===Object.prototype.toString.call(e)},createEl:function(e,i){var n=\"string\"==typeof e?t.createElement(e):e;i=i||{};for(var s in i)i.hasOwnProperty(s)&&n.setAttribute(s,i[s]);return n},prefixed:function(e){return this.prefix+e},sprintf:function(e){var t=[].slice.call(arguments,1,arguments.length);return e.replace(/\\$(\\d+)/g,function(e,i){return void 0!==t[i]?t[i]:e})}},s.defaults=s.prototype.defaults,e.FloatLabels=s,n&&(n.fn.floatlabels=function(e){n.data(this,\"plugin_floatlabels\")||n.data(this,\"plugin_floatlabels\",new s(this,e))})}(window,document)},{}]},{},[1]);"],"file":"app.js"}