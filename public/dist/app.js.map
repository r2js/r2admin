{"version":3,"names":[],"mappings":"","sources":["app.js"],"sourcesContent":["!function e(t,n,i){function o(a,l){if(!n[a]){if(!t[a]){var c=\"function\"==typeof require&&require;if(!l&&c)return c(a,!0);if(r)return r(a,!0);var s=new Error(\"Cannot find module '\"+a+\"'\");throw s.code=\"MODULE_NOT_FOUND\",s}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return o(n||e)},u,u.exports,e,t,n,i)}return n[a].exports}for(var r=\"function\"==typeof require&&require,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(e,t,n){\"use strict\";function i(e){return e&&e.__esModule?e:{default:e}}var o=e(\"jquery\"),r=i(o),a=e(\"debug\"),l=i(a);e(\"float-labels.js/src/float-labels.js\");var c=e(\"./scripts/fields/relation\"),s=i(c),u=e(\"./scripts/fields/richText\"),d=i(u),f=(0,l.default)(\"r2admin\");localStorage.debug=\"*\",(0,r.default)(function(){new window.FloatLabels(\"form\",{style:1,transform:\"input, select, textarea\"}),f(\"page init\"),(0,s.default)(),(0,d.default)()})},{\"./scripts/fields/relation\":2,\"./scripts/fields/richText\":3,debug:\"debug\",\"float-labels.js/src/float-labels.js\":4,jquery:\"jquery\"}],2:[function(e,t,n){\"use strict\";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,\"__esModule\",{value:!0});var o=e(\"jquery\"),r=i(o),a=e(\"debug\"),l=i(a);e(\"selectize\");var c=(0,l.default)(\"r2admin:field:relation\"),s=function(e){var t=e.data(),n=t.ref,i=t.display,o=t.value,a=t.placeholder;return i?e.selectize({placeholder:a,valueField:\"_id\",labelField:i,searchField:i,load:function(e,t){return e.length?r.default.get(\"/admin/\"+n+\"/search\",{field:i,q:e},function(e){t(e.data)},\"json\"):t()},onInitialize:function(){var e=this;return!!o&&r.default.get(\"/admin/\"+n+\"/ids\",{field:i,ids:o},function(t){e.clear();var n=[];t.data.forEach(function(t){e.updateOption(t._id,t),n.push(t._id)}),e.setValue(n)},\"json\")},onFocus:function(){e.parent().addClass(\"fl-has-focus\")},onBlur:function(){e.parent().removeClass(\"fl-has-focus\")},onChange:function(t){return t&&t.length?e.parent().addClass(\"fl-is-active\"):e.parent().removeClass(\"fl-is-active\")}}):c(n+\", data-display not found\")};n.default=function(){(0,r.default)(\".f-relation\").each(function(){s((0,r.default)(this))})}},{debug:\"debug\",jquery:\"jquery\",selectize:\"selectize\"}],3:[function(e,t,n){\"use strict\";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,\"__esModule\",{value:!0});var o=e(\"jquery\"),r=i(o),a=e(\"tinymce/tinymce\"),l=i(a);e(\"tinymce/themes/modern/theme\"),e(\"tinymce/plugins/advlist\"),e(\"tinymce/plugins/autolink\"),e(\"tinymce/plugins/link\"),e(\"tinymce/plugins/image\"),e(\"tinymce/plugins/lists\"),e(\"tinymce/plugins/charmap\"),e(\"tinymce/plugins/print\"),e(\"tinymce/plugins/preview\"),e(\"tinymce/plugins/hr\"),e(\"tinymce/plugins/anchor\"),e(\"tinymce/plugins/pagebreak\"),e(\"tinymce/plugins/spellchecker\"),e(\"tinymce/plugins/searchreplace\"),e(\"tinymce/plugins/wordcount\"),e(\"tinymce/plugins/visualblocks\"),e(\"tinymce/plugins/visualchars\"),e(\"tinymce/plugins/code\"),e(\"tinymce/plugins/fullscreen\"),e(\"tinymce/plugins/insertdatetime\"),e(\"tinymce/plugins/media\"),e(\"tinymce/plugins/nonbreaking\"),e(\"tinymce/plugins/save\"),e(\"tinymce/plugins/table\"),e(\"tinymce/plugins/contextmenu\"),e(\"tinymce/plugins/directionality\"),e(\"tinymce/plugins/emoticons\"),e(\"tinymce/plugins/template\"),e(\"tinymce/plugins/paste\"),e(\"tinymce/plugins/textcolor\"),e(\"tinymce/plugins/placeholder\");var c=function(e){l.default.init({selector:e,height:\"300\",skin:!1,menubar:!1,content_css:\"/assets/css/richText.css?v=2\",plugins:[\"advlist autolink link image lists charmap print preview hr anchor pagebreak spellchecker\",\"searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime media nonbreaking\",\"save table contextmenu directionality emoticons template paste textcolor placeholder\"],toolbar:\"undo redo bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image media | print preview | forecolor backcolor\",setup:function(e){e.on(\"focus\",function(){(0,r.default)(\"#\"+(0,r.default)(this)[0].id).parent().addClass(\"fl-is-active\").addClass(\"fl-has-focus\")}),e.on(\"blur\",function(){(0,r.default)(\"#\"+(0,r.default)(this)[0].id).parent().removeClass(\"fl-has-focus\")})}})};n.default=function(){c(\".f-richtext\")}},{jquery:\"jquery\",\"tinymce/plugins/advlist\":5,\"tinymce/plugins/anchor\":7,\"tinymce/plugins/autolink\":9,\"tinymce/plugins/charmap\":11,\"tinymce/plugins/code\":13,\"tinymce/plugins/contextmenu\":15,\"tinymce/plugins/directionality\":17,\"tinymce/plugins/emoticons\":19,\"tinymce/plugins/fullscreen\":21,\"tinymce/plugins/hr\":23,\"tinymce/plugins/image\":25,\"tinymce/plugins/insertdatetime\":27,\"tinymce/plugins/link\":\"tinymce/plugins/link\",\"tinymce/plugins/lists\":29,\"tinymce/plugins/media\":31,\"tinymce/plugins/nonbreaking\":33,\"tinymce/plugins/pagebreak\":35,\"tinymce/plugins/paste\":\"tinymce/plugins/paste\",\"tinymce/plugins/placeholder\":37,\"tinymce/plugins/preview\":39,\"tinymce/plugins/print\":41,\"tinymce/plugins/save\":43,\"tinymce/plugins/searchreplace\":45,\"tinymce/plugins/spellchecker\":47,\"tinymce/plugins/table\":49,\"tinymce/plugins/template\":51,\"tinymce/plugins/textcolor\":53,\"tinymce/plugins/visualblocks\":55,\"tinymce/plugins/visualchars\":57,\"tinymce/plugins/wordcount\":59,\"tinymce/themes/modern/theme\":\"tinymce/themes/modern/theme\",\"tinymce/tinymce\":\"tinymce/tinymce\"}],4:[function(e,t,n){!function(e,t,n){\"use strict\";var i=e.jQuery||e.Zepto||e.$,o=function(e,n){this.el=this.isString(e)?t.querySelectorAll(e):e,this.options=n,this.prefix=\"fl-\",this.init()};o.prototype={defaults:{customEvent:null,customLabel:null,exclude:\".no-label\",inputRegex:/email|number|password|search|tel|text|url/,prioritize:\"label\",requiredClass:\"required\",style:0,transform:\"input,select,textarea\"},init:function(){var e=this;Array.prototype.forEach.call(this.el,function(t){e.config=e.extend({},e.defaults,e.options,t.getAttribute(\"data-options\"));var n=e.sprintf(\":not($0)\",e.config.exclude.split(/[\\s,]+/).join(\"):not(\"));e.on(\"reset\",t,e.onReset.bind(e)),e.addClass(t,e.prefixed(\"form\")),e.config.style&&e.addClass(t,e.prefixed(\"style-\"+e.config.style)),e.config.transform.split(/[\\s,]+/).forEach(function(i){t.querySelectorAll(i+n).forEach(function(n){e.floatLabel(t,n)})})})},floatLabel:function(e,t){if(t.getAttribute(\"id\")&&!this.hasClass(t.parentNode,this.prefixed(\"wrap\"))&&(\"INPUT\"!==t.tagName||this.config.inputRegex.test(t.getAttribute(\"type\")))){var n=this.getLabel(t,e);n&&(this.addClass(n,this.prefixed(\"label\")),this.addClass(t,this.prefixed(t.tagName.toLowerCase())),this.setLabel(n,t),this.wrapLabel(n,t),this.runEvents(t))}},getLabel:function(e,t){var n=this.sprintf('label[for=\"$0\"]',e.getAttribute(\"id\")),i=t.querySelectorAll(n);return i.length>1&&(i=e.parentNode.querySelectorAll(n)),1===i.length&&i[0]},setLabel:function(e,t){var n=e.textContent.replace(/[*:]/g,\"\").trim(),i=t.getAttribute(\"placeholder\");if((!n||n&&i&&\"placeholder\"===this.config.prioritize)&&(n=i),\"function\"==typeof this.config.customLabel){var o=this.config.customLabel.call(this,e,t);void 0!==o&&(n=o)}e.text=n,\"SELECT\"===t.tagName?\"\"!==t.firstElementChild.value?t.insertBefore(new Option(n,\"\",!0,!0),t.firstElementChild):\"\"===t.firstElementChild.value&&\"\"===t.options[0].text&&(t.firstElementChild.text=n):i&&\"label\"!==this.config.prioritize||t.setAttribute(\"placeholder\",n)},wrapLabel:function(e,t){var n=this.createEl(\"div\",{class:this.prefixed(\"wrap\")+\" \"+this.prefixed(\"wrap-\"+t.tagName.toLowerCase())});(t.getAttribute(\"data-value\")||t.value.length)&&this.addClass(n,this.prefixed(\"is-active\")),(null!==t.getAttribute(\"required\")||this.hasClass(t,this.config.requiredClass))&&this.addClass(n,this.prefixed(\"is-required\")),t.parentNode.insertBefore(n,t),n.appendChild(e),n.appendChild(t)},runEvents:function(e){\"function\"==typeof this.config.customEvent&&this.config.customEvent.call(this,e),this.on(\"blur\",e,this.onBlur.bind(this)),this.on(\"input\",e,this.onChange.bind(this)),this.on(\"focus\",e,this.onFocus.bind(this))},onBlur:function(e){this.removeClass(e.target.parentNode,this.prefixed(\"has-focus\"))},onChange:function(e){this[(e.target.value.length?\"add\":\"remove\")+\"Class\"](e.target.parentNode,this.prefixed(\"is-active\"))},onFocus:function(e){this.addClass(e.target.parentNode,this.prefixed(\"has-focus\"))},onReset:function(e){var t=this;this.config.transform.split(/[\\s,]+/).forEach(function(n){e.target.querySelectorAll(n).forEach(function(e){t.removeClass(e.parentNode,t.prefixed(\"is-active\"))})})},addClass:function(e,t){e.classList?e.classList.add(t):this.hasClass(e,t)||(e.className+=\" \"+t)},hasClass:function(e,t){return e.classList?e.classList.contains(t):new RegExp(\"\\\\b\"+t+\"\\\\b\").test(e.className)},removeClass:function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp(\"\\\\b\"+t+\"\\\\b\",\"g\"),\"\")},event:function(e,t,n,i){t.split(\" \").forEach(function(t){n[e+\"EventListener\"](t,i,!1)})},on:function(e,t,n){this.event(\"add\",e,t,n)},off:function(e,t,n){this.event(\"remove\",e,t,n)},trigger:function(e,n){var i=t.createEvent(\"HTMLEvents\");i.initEvent(e,!1,!0),n.dispatchEvent(i)},extend:function(){var e=[].slice.call(arguments),t=e[0],n=e.slice(1);return Object.keys(n).forEach(function(e){for(var i in n[e])n[e].hasOwnProperty(i)&&(t[i]=n[e][i])}),t},isString:function(e){return\"[object String]\"===Object.prototype.toString.call(e)},createEl:function(e,n){var i=\"string\"==typeof e?t.createElement(e):e;n=n||{};for(var o in n)n.hasOwnProperty(o)&&i.setAttribute(o,n[o]);return i},prefixed:function(e){return this.prefix+e},sprintf:function(e){var t=[].slice.call(arguments,1,arguments.length);return e.replace(/\\$(\\d+)/g,function(e,n){return void 0!==t[n]?t[n]:e})}},o.defaults=o.prototype.defaults,e.FloatLabels=o,i&&(i.fn.floatlabels=function(e){i.data(this,\"plugin_floatlabels\")||i.data(this,\"plugin_floatlabels\",new o(this,e))})}(window,document)},{}],5:[function(e,t,n){e(\"./plugin.js\")},{\"./plugin.js\":6}],6:[function(e,t,n){!function(){var e={},t=function(t){for(var n=e[t],o=n.deps,r=n.defn,a=o.length,l=new Array(a),c=0;c<a;++c)l[c]=i(o[c]);var s=r.apply(null,l);if(void 0===s)throw\"module [\"+t+\"] returned undefined\";n.instance=s},n=function(t,n,i){if(\"string\"!=typeof t)throw\"module id must be a string\";if(void 0===n)throw\"no dependencies for \"+t;if(void 0===i)throw\"no definition function for \"+t;e[t]={deps:n,defn:i,instance:void 0}},i=function(n){var i=e[n];if(void 0===i)throw\"module [\"+n+\"] was undefined\";return void 0===i.instance&&t(n),i.instance},o=function(e,t){for(var n=e.length,o=new Array(n),r=0;r<n;++r)o.push(i(e[r]));t.apply(null,t)};({}).bolt={module:{api:{define:n,require:o,demand:i}}};var r=n;!function(e,t){r(e,[],function(){return t})}(\"global!tinymce.util.Tools.resolve\",tinymce.util.Tools.resolve),r(\"tinymce.core.PluginManager\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.PluginManager\")}),r(\"tinymce.core.util.Tools\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.util.Tools\")}),r(\"tinymce.plugins.advlist.Plugin\",[\"tinymce.core.PluginManager\",\"tinymce.core.util.Tools\"],function(e,t){return e.add(\"advlist\",function(e){function n(t){return e.$.contains(e.getBody(),t)}function i(e){return e&&/^(OL|UL|DL)$/.test(e.nodeName)&&n(e)}function o(e,n){var i=[];return n&&t.each(n.split(/[ ,]/),function(e){i.push({text:e.replace(/\\-/g,\" \").replace(/\\b\\w/g,function(e){return e.toUpperCase()}),data:\"default\"==e?\"\":e})}),i}function r(n,i){e.undoManager.transact(function(){var o,r=e.dom,a=e.selection;if(!(o=r.getParent(a.getNode(),\"ol,ul\"))||o.nodeName!=n||!1===i){var l={\"list-style-type\":i||\"\"};e.execCommand(\"UL\"==n?\"InsertUnorderedList\":\"InsertOrderedList\",!1,l)}o=r.getParent(a.getNode(),\"ol,ul\"),o&&t.each(r.select(\"ol,ul\",o).concat([o]),function(e){e.nodeName!==n&&!1!==i&&(e=r.rename(e,n)),r.setStyle(e,\"listStyleType\",i||null),e.removeAttribute(\"data-mce-style\")}),e.focus()})}function a(t){var n=e.dom.getStyle(e.dom.getParent(e.selection.getNode(),\"ol,ul\"),\"listStyleType\")||\"\";t.control.items().each(function(e){e.active(e.settings.data===n)})}var l,c;l=o(\"OL\",e.getParam(\"advlist_number_styles\",\"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman\")),c=o(\"UL\",e.getParam(\"advlist_bullet_styles\",\"default,circle,disc,square\"));var s=function(n){return function(){var o=this;e.on(\"NodeChange\",function(e){var r=t.grep(e.parents,i);o.active(r.length>0&&r[0].nodeName===n)})}};(function(e,n){var i=e.settings.plugins?e.settings.plugins:\"\";return-1!==t.inArray(i.split(/[ ,]/),n)})(e,\"lists\")&&(e.addCommand(\"ApplyUnorderedListStyle\",function(e,t){r(\"UL\",t[\"list-style-type\"])}),e.addCommand(\"ApplyOrderedListStyle\",function(e,t){r(\"OL\",t[\"list-style-type\"])}),e.addButton(\"numlist\",{type:l.length>0?\"splitbutton\":\"button\",tooltip:\"Numbered list\",menu:l,onPostRender:s(\"OL\"),onshow:a,onselect:function(e){r(\"OL\",e.control.settings.data)},onclick:function(){r(\"OL\",!1)}}),e.addButton(\"bullist\",{type:c.length>0?\"splitbutton\":\"button\",tooltip:\"Bullet list\",onPostRender:s(\"UL\"),menu:c,onshow:a,onselect:function(e){r(\"UL\",e.control.settings.data)},onclick:function(){r(\"UL\",!1)}}))}),function(){}}),i(\"tinymce.plugins.advlist.Plugin\")()}()},{}],7:[function(e,t,n){e(\"./plugin.js\")},{\"./plugin.js\":8}],8:[function(e,t,n){!function(){var e={},t=function(t){for(var n=e[t],o=n.deps,r=n.defn,a=o.length,l=new Array(a),c=0;c<a;++c)l[c]=i(o[c]);var s=r.apply(null,l);if(void 0===s)throw\"module [\"+t+\"] returned undefined\";n.instance=s},n=function(t,n,i){if(\"string\"!=typeof t)throw\"module id must be a string\";if(void 0===n)throw\"no dependencies for \"+t;if(void 0===i)throw\"no definition function for \"+t;e[t]={deps:n,defn:i,instance:void 0}},i=function(n){var i=e[n];if(void 0===i)throw\"module [\"+n+\"] was undefined\";return void 0===i.instance&&t(n),i.instance},o=function(e,t){for(var n=e.length,o=new Array(n),r=0;r<n;++r)o.push(i(e[r]));t.apply(null,t)};({}).bolt={module:{api:{define:n,require:o,demand:i}}};var r=n;!function(e,t){r(e,[],function(){return t})}(\"global!tinymce.util.Tools.resolve\",tinymce.util.Tools.resolve),r(\"tinymce.core.Env\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.Env\")}),r(\"tinymce.core.PluginManager\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.PluginManager\")}),r(\"tinymce.plugins.anchor.Plugin\",[\"tinymce.core.Env\",\"tinymce.core.PluginManager\"],function(e,t){return t.add(\"anchor\",function(t){var n=function(e){return!e.attr(\"href\")&&(e.attr(\"id\")||e.attr(\"name\"))&&!e.firstChild},i=function(e){return function(t){for(var i=0;i<t.length;i++)n(t[i])&&t[i].attr(\"contenteditable\",e)}},o=function(e){return/^[A-Za-z][A-Za-z0-9\\-:._]*$/.test(e)},r=function(){var e=t.selection.getNode(),n=\"A\"==e.tagName&&\"\"===t.dom.getAttrib(e,\"href\"),i=\"\";n&&(i=e.id||e.name||\"\"),t.windowManager.open({title:\"Anchor\",body:{type:\"textbox\",name:\"id\",size:40,label:\"Id\",value:i},onsubmit:function(i){var r=i.data.id;if(!o(r))return i.preventDefault(),void t.windowManager.alert(\"Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.\");n?(e.removeAttribute(\"name\"),e.id=r):(t.selection.collapse(!0),t.execCommand(\"mceInsertContent\",!1,t.dom.createHTML(\"a\",{id:r})))}})};e.ceFalse&&t.on(\"PreInit\",function(){t.parser.addNodeFilter(\"a\",i(\"false\")),t.serializer.addNodeFilter(\"a\",i(null))}),t.addCommand(\"mceAnchor\",r),t.addButton(\"anchor\",{icon:\"anchor\",tooltip:\"Anchor\",onclick:r,stateSelector:\"a:not([href])\"}),t.addMenuItem(\"anchor\",{icon:\"anchor\",text:\"Anchor\",context:\"insert\",onclick:r})}),function(){}}),i(\"tinymce.plugins.anchor.Plugin\")()}()},{}],9:[function(e,t,n){e(\"./plugin.js\")},{\"./plugin.js\":10}],10:[function(e,t,n){!function(){var e={},t=function(t){for(var n=e[t],o=n.deps,r=n.defn,a=o.length,l=new Array(a),c=0;c<a;++c)l[c]=i(o[c]);var s=r.apply(null,l);if(void 0===s)throw\"module [\"+t+\"] returned undefined\";n.instance=s},n=function(t,n,i){if(\"string\"!=typeof t)throw\"module id must be a string\";if(void 0===n)throw\"no dependencies for \"+t;if(void 0===i)throw\"no definition function for \"+t;e[t]={deps:n,defn:i,instance:void 0}},i=function(n){var i=e[n];if(void 0===i)throw\"module [\"+n+\"] was undefined\";return void 0===i.instance&&t(n),i.instance},o=function(e,t){for(var n=e.length,o=new Array(n),r=0;r<n;++r)o.push(i(e[r]));t.apply(null,t)};({}).bolt={module:{api:{define:n,require:o,demand:i}}};var r=n;!function(e,t){r(e,[],function(){return t})}(\"global!tinymce.util.Tools.resolve\",tinymce.util.Tools.resolve),r(\"tinymce.core.Env\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.Env\")}),r(\"tinymce.core.PluginManager\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.PluginManager\")}),r(\"tinymce.plugins.autolink.Plugin\",[\"tinymce.core.Env\",\"tinymce.core.PluginManager\"],function(e,t){return t.add(\"autolink\",function(t){function n(e){r(e,-1,\"(\")}function i(e){r(e,0,\"\")}function o(e){r(e,-1,\"\")}function r(e,t,n){function i(e,t){if(t<0&&(t=0),3==e.nodeType){var n=e.data.length;t>n&&(t=n)}return t}function o(e,t){1!=e.nodeType||e.hasChildNodes()?a.setStart(e,i(e,t)):a.setStartBefore(e)}function r(e,t){1!=e.nodeType||e.hasChildNodes()?a.setEnd(e,i(e,t)):a.setEndAfter(e)}var a,c,s,u,d,f,m,g,p,h;if(\"A\"!=e.selection.getNode().tagName){if(a=e.selection.getRng(!0).cloneRange(),a.startOffset<5){if(!(g=a.endContainer.previousSibling)){if(!a.endContainer.firstChild||!a.endContainer.firstChild.nextSibling)return;g=a.endContainer.firstChild.nextSibling}if(p=g.length,o(g,p),r(g,p),a.endOffset<5)return;c=a.endOffset,u=g}else{if(u=a.endContainer,3!=u.nodeType&&u.firstChild){for(;3!=u.nodeType&&u.firstChild;)u=u.firstChild;3==u.nodeType&&(o(u,0),r(u,u.nodeValue.length))}c=1==a.endOffset?2:a.endOffset-1-t}s=c;do{o(u,c>=2?c-2:0),r(u,c>=1?c-1:0),c-=1,h=a.toString()}while(\" \"!=h&&\"\"!==h&&160!=h.charCodeAt(0)&&c-2>=0&&h!=n);a.toString()==n||160==a.toString().charCodeAt(0)?(o(u,c),r(u,s),c+=1):0===a.startOffset?(o(u,0),r(u,s)):(o(u,c),r(u,s)),f=a.toString(),\".\"==f.charAt(f.length-1)&&r(u,s-1),f=a.toString(),m=f.match(l),m&&(\"www.\"==m[1]?m[1]=\"http://www.\":/@$/.test(m[1])&&!/^mailto:/.test(m[1])&&(m[1]=\"mailto:\"+m[1]),d=e.selection.getBookmark(),e.selection.setRng(a),e.execCommand(\"createlink\",!1,m[1]+m[2]),e.settings.default_link_target&&e.dom.setAttrib(e.selection.getNode(),\"target\",e.settings.default_link_target),e.selection.moveToBookmark(d),e.nodeChanged())}}var a,l=/^(https?:\\/\\/|ssh:\\/\\/|ftp:\\/\\/|file:\\/|www\\.|(?:mailto:)?[A-Z0-9._%+\\-]+@)(.+)$/i;if(t.settings.autolink_pattern&&(l=t.settings.autolink_pattern),t.on(\"keydown\",function(e){if(13==e.keyCode)return o(t)}),e.ie)return void t.on(\"focus\",function(){if(!a){a=!0;try{t.execCommand(\"AutoUrlDetect\",!1,!0)}catch(e){}}});t.on(\"keypress\",function(e){if(41==e.keyCode)return n(t)}),t.on(\"keyup\",function(e){if(32==e.keyCode)return i(t)})}),function(){}}),i(\"tinymce.plugins.autolink.Plugin\")()}()},{}],11:[function(e,t,n){e(\"./plugin.js\")},{\"./plugin.js\":12}],12:[function(e,t,n){!function(){var e={},t=function(t){for(var n=e[t],o=n.deps,r=n.defn,a=o.length,l=new Array(a),c=0;c<a;++c)l[c]=i(o[c]);var s=r.apply(null,l);if(void 0===s)throw\"module [\"+t+\"] returned undefined\";n.instance=s},n=function(t,n,i){if(\"string\"!=typeof t)throw\"module id must be a string\";if(void 0===n)throw\"no dependencies for \"+t;if(void 0===i)throw\"no definition function for \"+t;e[t]={deps:n,defn:i,instance:void 0}},i=function(n){var i=e[n];if(void 0===i)throw\"module [\"+n+\"] was undefined\";return void 0===i.instance&&t(n),i.instance},o=function(e,t){for(var n=e.length,o=new Array(n),r=0;r<n;++r)o.push(i(e[r]));t.apply(null,t)};({}).bolt={module:{api:{define:n,require:o,demand:i}}};var r=n;!function(e,t){r(e,[],function(){return t})}(\"global!tinymce.util.Tools.resolve\",tinymce.util.Tools.resolve),r(\"tinymce.core.PluginManager\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.PluginManager\")}),r(\"tinymce.core.util.Tools\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.util.Tools\")}),r(\"tinymce.plugins.charmap.Plugin\",[\"tinymce.core.PluginManager\",\"tinymce.core.util.Tools\"],function(e,t){return e.add(\"charmap\",function(e){function n(){return[[\"160\",\"no-break space\"],[\"173\",\"soft hyphen\"],[\"34\",\"quotation mark\"],[\"162\",\"cent sign\"],[\"8364\",\"euro sign\"],[\"163\",\"pound sign\"],[\"165\",\"yen sign\"],[\"169\",\"copyright sign\"],[\"174\",\"registered sign\"],[\"8482\",\"trade mark sign\"],[\"8240\",\"per mille sign\"],[\"181\",\"micro sign\"],[\"183\",\"middle dot\"],[\"8226\",\"bullet\"],[\"8230\",\"three dot leader\"],[\"8242\",\"minutes / feet\"],[\"8243\",\"seconds / inches\"],[\"167\",\"section sign\"],[\"182\",\"paragraph sign\"],[\"223\",\"sharp s / ess-zed\"],[\"8249\",\"single left-pointing angle quotation mark\"],[\"8250\",\"single right-pointing angle quotation mark\"],[\"171\",\"left pointing guillemet\"],[\"187\",\"right pointing guillemet\"],[\"8216\",\"left single quotation mark\"],[\"8217\",\"right single quotation mark\"],[\"8220\",\"left double quotation mark\"],[\"8221\",\"right double quotation mark\"],[\"8218\",\"single low-9 quotation mark\"],[\"8222\",\"double low-9 quotation mark\"],[\"60\",\"less-than sign\"],[\"62\",\"greater-than sign\"],[\"8804\",\"less-than or equal to\"],[\"8805\",\"greater-than or equal to\"],[\"8211\",\"en dash\"],[\"8212\",\"em dash\"],[\"175\",\"macron\"],[\"8254\",\"overline\"],[\"164\",\"currency sign\"],[\"166\",\"broken bar\"],[\"168\",\"diaeresis\"],[\"161\",\"inverted exclamation mark\"],[\"191\",\"turned question mark\"],[\"710\",\"circumflex accent\"],[\"732\",\"small tilde\"],[\"176\",\"degree sign\"],[\"8722\",\"minus sign\"],[\"177\",\"plus-minus sign\"],[\"247\",\"division sign\"],[\"8260\",\"fraction slash\"],[\"215\",\"multiplication sign\"],[\"185\",\"superscript one\"],[\"178\",\"superscript two\"],[\"179\",\"superscript three\"],[\"188\",\"fraction one quarter\"],[\"189\",\"fraction one half\"],[\"190\",\"fraction three quarters\"],[\"402\",\"function / florin\"],[\"8747\",\"integral\"],[\"8721\",\"n-ary sumation\"],[\"8734\",\"infinity\"],[\"8730\",\"square root\"],[\"8764\",\"similar to\"],[\"8773\",\"approximately equal to\"],[\"8776\",\"almost equal to\"],[\"8800\",\"not equal to\"],[\"8801\",\"identical to\"],[\"8712\",\"element of\"],[\"8713\",\"not an element of\"],[\"8715\",\"contains as member\"],[\"8719\",\"n-ary product\"],[\"8743\",\"logical and\"],[\"8744\",\"logical or\"],[\"172\",\"not sign\"],[\"8745\",\"intersection\"],[\"8746\",\"union\"],[\"8706\",\"partial differential\"],[\"8704\",\"for all\"],[\"8707\",\"there exists\"],[\"8709\",\"diameter\"],[\"8711\",\"backward difference\"],[\"8727\",\"asterisk operator\"],[\"8733\",\"proportional to\"],[\"8736\",\"angle\"],[\"180\",\"acute accent\"],[\"184\",\"cedilla\"],[\"170\",\"feminine ordinal indicator\"],[\"186\",\"masculine ordinal indicator\"],[\"8224\",\"dagger\"],[\"8225\",\"double dagger\"],[\"192\",\"A - grave\"],[\"193\",\"A - acute\"],[\"194\",\"A - circumflex\"],[\"195\",\"A - tilde\"],[\"196\",\"A - diaeresis\"],[\"197\",\"A - ring above\"],[\"256\",\"A - macron\"],[\"198\",\"ligature AE\"],[\"199\",\"C - cedilla\"],[\"200\",\"E - grave\"],[\"201\",\"E - acute\"],[\"202\",\"E - circumflex\"],[\"203\",\"E - diaeresis\"],[\"274\",\"E - macron\"],[\"204\",\"I - grave\"],[\"205\",\"I - acute\"],[\"206\",\"I - circumflex\"],[\"207\",\"I - diaeresis\"],[\"298\",\"I - macron\"],[\"208\",\"ETH\"],[\"209\",\"N - tilde\"],[\"210\",\"O - grave\"],[\"211\",\"O - acute\"],[\"212\",\"O - circumflex\"],[\"213\",\"O - tilde\"],[\"214\",\"O - diaeresis\"],[\"216\",\"O - slash\"],[\"332\",\"O - macron\"],[\"338\",\"ligature OE\"],[\"352\",\"S - caron\"],[\"217\",\"U - grave\"],[\"218\",\"U - acute\"],[\"219\",\"U - circumflex\"],[\"220\",\"U - diaeresis\"],[\"362\",\"U - macron\"],[\"221\",\"Y - acute\"],[\"376\",\"Y - diaeresis\"],[\"562\",\"Y - macron\"],[\"222\",\"THORN\"],[\"224\",\"a - grave\"],[\"225\",\"a - acute\"],[\"226\",\"a - circumflex\"],[\"227\",\"a - tilde\"],[\"228\",\"a - diaeresis\"],[\"229\",\"a - ring above\"],[\"257\",\"a - macron\"],[\"230\",\"ligature ae\"],[\"231\",\"c - cedilla\"],[\"232\",\"e - grave\"],[\"233\",\"e - acute\"],[\"234\",\"e - circumflex\"],[\"235\",\"e - diaeresis\"],[\"275\",\"e - macron\"],[\"236\",\"i - grave\"],[\"237\",\"i - acute\"],[\"238\",\"i - circumflex\"],[\"239\",\"i - diaeresis\"],[\"299\",\"i - macron\"],[\"240\",\"eth\"],[\"241\",\"n - tilde\"],[\"242\",\"o - grave\"],[\"243\",\"o - acute\"],[\"244\",\"o - circumflex\"],[\"245\",\"o - tilde\"],[\"246\",\"o - diaeresis\"],[\"248\",\"o slash\"],[\"333\",\"o macron\"],[\"339\",\"ligature oe\"],[\"353\",\"s - caron\"],[\"249\",\"u - grave\"],[\"250\",\"u - acute\"],[\"251\",\"u - circumflex\"],[\"252\",\"u - diaeresis\"],[\"363\",\"u - macron\"],[\"253\",\"y - acute\"],[\"254\",\"thorn\"],[\"255\",\"y - diaeresis\"],[\"563\",\"y - macron\"],[\"913\",\"Alpha\"],[\"914\",\"Beta\"],[\"915\",\"Gamma\"],[\"916\",\"Delta\"],[\"917\",\"Epsilon\"],[\"918\",\"Zeta\"],[\"919\",\"Eta\"],[\"920\",\"Theta\"],[\"921\",\"Iota\"],[\"922\",\"Kappa\"],[\"923\",\"Lambda\"],[\"924\",\"Mu\"],[\"925\",\"Nu\"],[\"926\",\"Xi\"],[\"927\",\"Omicron\"],[\"928\",\"Pi\"],[\"929\",\"Rho\"],[\"931\",\"Sigma\"],[\"932\",\"Tau\"],[\"933\",\"Upsilon\"],[\"934\",\"Phi\"],[\"935\",\"Chi\"],[\"936\",\"Psi\"],[\"937\",\"Omega\"],[\"945\",\"alpha\"],[\"946\",\"beta\"],[\"947\",\"gamma\"],[\"948\",\"delta\"],[\"949\",\"epsilon\"],[\"950\",\"zeta\"],[\"951\",\"eta\"],[\"952\",\"theta\"],[\"953\",\"iota\"],[\"954\",\"kappa\"],[\"955\",\"lambda\"],[\"956\",\"mu\"],[\"957\",\"nu\"],[\"958\",\"xi\"],[\"959\",\"omicron\"],[\"960\",\"pi\"],[\"961\",\"rho\"],[\"962\",\"final sigma\"],[\"963\",\"sigma\"],[\"964\",\"tau\"],[\"965\",\"upsilon\"],[\"966\",\"phi\"],[\"967\",\"chi\"],[\"968\",\"psi\"],[\"969\",\"omega\"],[\"8501\",\"alef symbol\"],[\"982\",\"pi symbol\"],[\"8476\",\"real part symbol\"],[\"978\",\"upsilon - hook symbol\"],[\"8472\",\"Weierstrass p\"],[\"8465\",\"imaginary part\"],[\"8592\",\"leftwards arrow\"],[\"8593\",\"upwards arrow\"],[\"8594\",\"rightwards arrow\"],[\"8595\",\"downwards arrow\"],[\"8596\",\"left right arrow\"],[\"8629\",\"carriage return\"],[\"8656\",\"leftwards double arrow\"],[\"8657\",\"upwards double arrow\"],[\"8658\",\"rightwards double arrow\"],[\"8659\",\"downwards double arrow\"],[\"8660\",\"left right double arrow\"],[\"8756\",\"therefore\"],[\"8834\",\"subset of\"],[\"8835\",\"superset of\"],[\"8836\",\"not a subset of\"],[\"8838\",\"subset of or equal to\"],[\"8839\",\"superset of or equal to\"],[\"8853\",\"circled plus\"],[\"8855\",\"circled times\"],[\"8869\",\"perpendicular\"],[\"8901\",\"dot operator\"],[\"8968\",\"left ceiling\"],[\"8969\",\"right ceiling\"],[\"8970\",\"left floor\"],[\"8971\",\"right floor\"],[\"9001\",\"left-pointing angle bracket\"],[\"9002\",\"right-pointing angle bracket\"],[\"9674\",\"lozenge\"],[\"9824\",\"black spade suit\"],[\"9827\",\"black club suit\"],[\"9829\",\"black heart suit\"],[\"9830\",\"black diamond suit\"],[\"8194\",\"en space\"],[\"8195\",\"em space\"],[\"8201\",\"thin space\"],[\"8204\",\"zero width non-joiner\"],[\"8205\",\"zero width joiner\"],[\"8206\",\"left-to-right mark\"],[\"8207\",\"right-to-left mark\"]]}function i(e){return t.grep(e,function(e){return s(e)&&2==e.length})}function o(e){return s(e)?[].concat(i(e)):\"function\"==typeof e?e():[]}function r(t){var n=e.settings;return n.charmap&&(t=o(n.charmap)),n.charmap_append?[].concat(t).concat(o(n.charmap_append)):t}function a(){return r(n())}function l(t){e.fire(\"insertCustomChar\",{chr:t}).chr,e.execCommand(\"mceInsertContent\",!1,t)}function c(){function t(e){for(;e;){if(\"TD\"==e.nodeName)return e;e=e.parentNode}}var n,i,o,r;n='<table role=\"presentation\" cellspacing=\"0\" class=\"mce-charmap\"><tbody>';var c=a(),s=Math.min(c.length,25),u=Math.ceil(c.length/s);for(o=0;o<u;o++){for(n+=\"<tr>\",i=0;i<s;i++){var d=o*s+i;if(d<c.length){var f=c[d],m=f?String.fromCharCode(parseInt(f[0],10)):\"&nbsp;\";n+='<td title=\"'+f[1]+'\"><div tabindex=\"-1\" title=\"'+f[1]+'\" role=\"button\" data-chr=\"'+m+'\">'+m+\"</div></td>\"}else n+=\"<td />\"}n+=\"</tr>\"}n+=\"</tbody></table>\";var g={type:\"container\",html:n,onclick:function(e){var n=e.target;if(/^(TD|DIV)$/.test(n.nodeName)){var i=t(n).firstChild;i&&i.hasAttribute(\"data-chr\")&&(l(i.getAttribute(\"data-chr\")),e.ctrlKey||r.close())}},onmouseover:function(e){var n=t(e.target);n&&n.firstChild?(r.find(\"#preview\").text(n.firstChild.firstChild.data),r.find(\"#previewTitle\").text(n.title)):(r.find(\"#preview\").text(\" \"),r.find(\"#previewTitle\").text(\" \"))}};r=e.windowManager.open({title:\"Special character\",spacing:10,padding:10,items:[g,{type:\"container\",layout:\"flex\",direction:\"column\",align:\"center\",spacing:5,minWidth:160,minHeight:160,items:[{type:\"label\",name:\"preview\",text:\" \",style:\"font-size: 40px; text-align: center\",border:1,minWidth:140,minHeight:80},{type:\"label\",name:\"previewTitle\",text:\" \",style:\"text-align: center\",border:1,minWidth:140,minHeight:80}]}],buttons:[{text:\"Close\",onclick:function(){r.close()}}]})}var s=t.isArray;return e.addCommand(\"mceShowCharmap\",c),e.addButton(\"charmap\",{icon:\"charmap\",tooltip:\"Special character\",cmd:\"mceShowCharmap\"}),e.addMenuItem(\"charmap\",{icon:\"charmap\",text:\"Special character\",cmd:\"mceShowCharmap\",context:\"insert\"}),{getCharMap:a,insertChar:l}}),function(){}}),i(\"tinymce.plugins.charmap.Plugin\")()}()},{}],13:[function(e,t,n){e(\"./plugin.js\")},{\"./plugin.js\":14}],14:[function(e,t,n){!function(){var e={},t=function(t){for(var n=e[t],o=n.deps,r=n.defn,a=o.length,l=new Array(a),c=0;c<a;++c)l[c]=i(o[c]);var s=r.apply(null,l);if(void 0===s)throw\"module [\"+t+\"] returned undefined\";n.instance=s},n=function(t,n,i){if(\"string\"!=typeof t)throw\"module id must be a string\";if(void 0===n)throw\"no dependencies for \"+t;if(void 0===i)throw\"no definition function for \"+t;e[t]={deps:n,defn:i,instance:void 0}},i=function(n){var i=e[n];if(void 0===i)throw\"module [\"+n+\"] was undefined\";return void 0===i.instance&&t(n),i.instance},o=function(e,t){for(var n=e.length,o=new Array(n),r=0;r<n;++r)o.push(i(e[r]));t.apply(null,t)};({}).bolt={module:{api:{define:n,require:o,demand:i}}};var r=n;!function(e,t){r(e,[],function(){return t})}(\"global!tinymce.util.Tools.resolve\",tinymce.util.Tools.resolve),r(\"tinymce.core.dom.DOMUtils\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.dom.DOMUtils\")}),r(\"tinymce.core.PluginManager\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.PluginManager\")}),r(\"tinymce.plugins.code.Plugin\",[\"tinymce.core.dom.DOMUtils\",\"tinymce.core.PluginManager\"],function(e,t){return t.add(\"code\",function(t){function n(){t.windowManager.open({title:\"Source code\",body:{type:\"textbox\",name:\"code\",multiline:!0,minWidth:t.getParam(\"code_dialog_width\",600),minHeight:t.getParam(\"code_dialog_height\",Math.min(e.DOM.getViewPort().h-200,500)),spellcheck:!1,style:\"direction: ltr; text-align: left\"},onSubmit:function(e){t.focus(),t.undoManager.transact(function(){t.setContent(e.data.code)}),t.selection.setCursorLocation(),t.nodeChanged()}}).find(\"#code\").value(t.getContent({source_view:!0}))}t.addCommand(\"mceCodeEditor\",n),t.addButton(\"code\",{icon:\"code\",tooltip:\"Source code\",onclick:n}),t.addMenuItem(\"code\",{icon:\"code\",text:\"Source code\",context:\"tools\",onclick:n})}),function(){}}),i(\"tinymce.plugins.code.Plugin\")()}()},{}],15:[function(e,t,n){e(\"./plugin.js\")},{\"./plugin.js\":16}],16:[function(e,t,n){!function(){var e={},t=function(t){for(var n=e[t],o=n.deps,r=n.defn,a=o.length,l=new Array(a),c=0;c<a;++c)l[c]=i(o[c]);var s=r.apply(null,l);if(void 0===s)throw\"module [\"+t+\"] returned undefined\";n.instance=s},n=function(t,n,i){if(\"string\"!=typeof t)throw\"module id must be a string\";if(void 0===n)throw\"no dependencies for \"+t;if(void 0===i)throw\"no definition function for \"+t;e[t]={deps:n,defn:i,instance:void 0}},i=function(n){var i=e[n];if(void 0===i)throw\"module [\"+n+\"] was undefined\";return void 0===i.instance&&t(n),i.instance},o=function(e,t){for(var n=e.length,o=new Array(n),r=0;r<n;++r)o.push(i(e[r]));t.apply(null,t)};({}).bolt={module:{api:{define:n,require:o,demand:i}}};var r=n;!function(e,t){r(e,[],function(){return t})}(\"global!tinymce.util.Tools.resolve\",tinymce.util.Tools.resolve),r(\"tinymce.core.dom.DOMUtils\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.dom.DOMUtils\")}),r(\"tinymce.core.Env\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.Env\")}),r(\"tinymce.core.PluginManager\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.PluginManager\")}),r(\"tinymce.core.ui.Menu\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.ui.Menu\")}),r(\"tinymce.core.util.Tools\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.util.Tools\")}),r(\"tinymce.plugins.contextmenu.Plugin\",[\"tinymce.core.dom.DOMUtils\",\"tinymce.core.Env\",\"tinymce.core.PluginManager\",\"tinymce.core.ui.Menu\",\"tinymce.core.util.Tools\"],function(e,t,n,i,o){var r=e.DOM;return n.add(\"contextmenu\",function(e){var n,a,l=e.settings.contextmenu_never_use_native,c=function(e){return e.ctrlKey&&!l},s=function(){return t.mac&&t.webkit},u=function(){return!0===a}\n;return e.on(\"mousedown\",function(t){s()&&2===t.button&&!c(t)&&e.selection.isCollapsed()&&e.once(\"contextmenu\",function(t){e.selection.placeCaretAt(t.clientX,t.clientY)})}),e.on(\"contextmenu\",function(t){var l;if(!c(t)){if(t.preventDefault(),l=e.settings.contextmenu||\"link openlink image inserttable | cell row column deletetable\",n)n.show();else{var s=[];o.each(l.split(/[ ,]/),function(t){var n=e.menuItems[t];\"|\"==t&&(n={text:t}),n&&(n.shortcut=\"\",s.push(n))});for(var u=0;u<s.length;u++)\"|\"==s[u].text&&(0!==u&&u!=s.length-1||s.splice(u,1));n=new i({items:s,context:\"contextmenu\",classes:\"contextmenu\"}).renderTo(),n.on(\"hide\",function(e){e.control===this&&(a=!1)}),e.on(\"remove\",function(){n.remove(),n=null})}var d={x:t.pageX,y:t.pageY};e.inline||(d=r.getPos(e.getContentAreaContainer()),d.x+=t.clientX,d.y+=t.clientY),n.moveTo(d.x,d.y),a=!0}}),{isContextMenuVisible:u}}),function(){}}),i(\"tinymce.plugins.contextmenu.Plugin\")()}()},{}],17:[function(e,t,n){e(\"./plugin.js\")},{\"./plugin.js\":18}],18:[function(e,t,n){!function(){var e={},t=function(t){for(var n=e[t],o=n.deps,r=n.defn,a=o.length,l=new Array(a),c=0;c<a;++c)l[c]=i(o[c]);var s=r.apply(null,l);if(void 0===s)throw\"module [\"+t+\"] returned undefined\";n.instance=s},n=function(t,n,i){if(\"string\"!=typeof t)throw\"module id must be a string\";if(void 0===n)throw\"no dependencies for \"+t;if(void 0===i)throw\"no definition function for \"+t;e[t]={deps:n,defn:i,instance:void 0}},i=function(n){var i=e[n];if(void 0===i)throw\"module [\"+n+\"] was undefined\";return void 0===i.instance&&t(n),i.instance},o=function(e,t){for(var n=e.length,o=new Array(n),r=0;r<n;++r)o.push(i(e[r]));t.apply(null,t)};({}).bolt={module:{api:{define:n,require:o,demand:i}}};var r=n;!function(e,t){r(e,[],function(){return t})}(\"global!tinymce.util.Tools.resolve\",tinymce.util.Tools.resolve),r(\"tinymce.core.PluginManager\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.PluginManager\")}),r(\"tinymce.core.util.Tools\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.util.Tools\")}),r(\"tinymce.plugins.directionality.Plugin\",[\"tinymce.core.PluginManager\",\"tinymce.core.util.Tools\"],function(e,t){return e.add(\"directionality\",function(e){function n(n){var i,o=e.dom,r=e.selection.getSelectedBlocks();r.length&&(i=o.getAttrib(r[0],\"dir\"),t.each(r,function(e){o.getParent(e.parentNode,\"*[dir='\"+n+\"']\",o.getRoot())||(i!=n?o.setAttrib(e,\"dir\",n):o.setAttrib(e,\"dir\",null))}),e.nodeChanged())}function i(e){var n=[];return t.each(\"h1 h2 h3 h4 h5 h6 div p\".split(\" \"),function(t){n.push(t+\"[dir=\"+e+\"]\")}),n.join(\",\")}e.addCommand(\"mceDirectionLTR\",function(){n(\"ltr\")}),e.addCommand(\"mceDirectionRTL\",function(){n(\"rtl\")}),e.addButton(\"ltr\",{title:\"Left to right\",cmd:\"mceDirectionLTR\",stateSelector:i(\"ltr\")}),e.addButton(\"rtl\",{title:\"Right to left\",cmd:\"mceDirectionRTL\",stateSelector:i(\"rtl\")})}),function(){}}),i(\"tinymce.plugins.directionality.Plugin\")()}()},{}],19:[function(e,t,n){e(\"./plugin.js\")},{\"./plugin.js\":20}],20:[function(e,t,n){!function(){var e={},t=function(t){for(var n=e[t],o=n.deps,r=n.defn,a=o.length,l=new Array(a),c=0;c<a;++c)l[c]=i(o[c]);var s=r.apply(null,l);if(void 0===s)throw\"module [\"+t+\"] returned undefined\";n.instance=s},n=function(t,n,i){if(\"string\"!=typeof t)throw\"module id must be a string\";if(void 0===n)throw\"no dependencies for \"+t;if(void 0===i)throw\"no definition function for \"+t;e[t]={deps:n,defn:i,instance:void 0}},i=function(n){var i=e[n];if(void 0===i)throw\"module [\"+n+\"] was undefined\";return void 0===i.instance&&t(n),i.instance},o=function(e,t){for(var n=e.length,o=new Array(n),r=0;r<n;++r)o.push(i(e[r]));t.apply(null,t)};({}).bolt={module:{api:{define:n,require:o,demand:i}}};var r=n;!function(e,t){r(e,[],function(){return t})}(\"global!tinymce.util.Tools.resolve\",tinymce.util.Tools.resolve),r(\"tinymce.core.PluginManager\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.PluginManager\")}),r(\"tinymce.core.util.Tools\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.util.Tools\")}),r(\"tinymce.plugins.emoticons.Plugin\",[\"tinymce.core.PluginManager\",\"tinymce.core.util.Tools\"],function(e,t){return e.add(\"emoticons\",function(e,n){function i(){var e;return e='<table role=\"list\" class=\"mce-grid\">',t.each(o,function(i){e+=\"<tr>\",t.each(i,function(t){var i=n+\"/img/smiley-\"+t+\".gif\";e+='<td><a href=\"#\" data-mce-url=\"'+i+'\" data-mce-alt=\"'+t+'\" tabindex=\"-1\" role=\"option\" aria-label=\"'+t+'\"><img src=\"'+i+'\" style=\"width: 18px; height: 18px\" role=\"presentation\" /></a></td>'}),e+=\"</tr>\"}),e+=\"</table>\"}var o=[[\"cool\",\"cry\",\"embarassed\",\"foot-in-mouth\"],[\"frown\",\"innocent\",\"kiss\",\"laughing\"],[\"money-mouth\",\"sealed\",\"smile\",\"surprised\"],[\"tongue-out\",\"undecided\",\"wink\",\"yell\"]];e.addButton(\"emoticons\",{type:\"panelbutton\",panel:{role:\"application\",autohide:!0,html:i,onclick:function(t){var n=e.dom.getParent(t.target,\"a\");n&&(e.insertContent('<img src=\"'+n.getAttribute(\"data-mce-url\")+'\" alt=\"'+n.getAttribute(\"data-mce-alt\")+'\" />'),this.hide())}},tooltip:\"Emoticons\"})}),function(){}}),i(\"tinymce.plugins.emoticons.Plugin\")()}()},{}],21:[function(e,t,n){e(\"./plugin.js\")},{\"./plugin.js\":22}],22:[function(e,t,n){!function(){var e={},t=function(t){for(var n=e[t],o=n.deps,r=n.defn,a=o.length,l=new Array(a),c=0;c<a;++c)l[c]=i(o[c]);var s=r.apply(null,l);if(void 0===s)throw\"module [\"+t+\"] returned undefined\";n.instance=s},n=function(t,n,i){if(\"string\"!=typeof t)throw\"module id must be a string\";if(void 0===n)throw\"no dependencies for \"+t;if(void 0===i)throw\"no definition function for \"+t;e[t]={deps:n,defn:i,instance:void 0}},i=function(n){var i=e[n];if(void 0===i)throw\"module [\"+n+\"] was undefined\";return void 0===i.instance&&t(n),i.instance},o=function(e,t){for(var n=e.length,o=new Array(n),r=0;r<n;++r)o.push(i(e[r]));t.apply(null,t)};({}).bolt={module:{api:{define:n,require:o,demand:i}}};var r=n;!function(e,t){r(e,[],function(){return t})}(\"global!tinymce.util.Tools.resolve\",tinymce.util.Tools.resolve),r(\"tinymce.core.dom.DOMUtils\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.dom.DOMUtils\")}),r(\"tinymce.core.PluginManager\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.PluginManager\")}),r(\"tinymce.plugins.fullscreen.Plugin\",[\"tinymce.core.dom.DOMUtils\",\"tinymce.core.PluginManager\"],function(e,t){var n=e.DOM;return t.add(\"fullscreen\",function(e){function t(){var e,t,n=window,i=document,o=i.body;return o.offsetWidth&&(e=o.offsetWidth,t=o.offsetHeight),n.innerWidth&&n.innerHeight&&(e=n.innerWidth,t=n.innerHeight),{w:e,h:t}}function i(){var e=n.getViewPort();return{x:e.x,y:e.y}}function o(e){window.scrollTo(e.x,e.y)}function r(){function r(){n.setStyle(p,\"height\",t().h-(g.clientHeight-p.clientHeight))}var m,g,p,h,v=document.body,y=document.documentElement;f=!f,g=e.getContainer(),m=g.style,p=e.getContentAreaContainer().firstChild,h=p.style,f?(d=i(),a=h.width,l=h.height,h.width=h.height=\"100%\",s=m.width,u=m.height,m.width=m.height=\"\",n.addClass(v,\"mce-fullscreen\"),n.addClass(y,\"mce-fullscreen\"),n.addClass(g,\"mce-fullscreen\"),n.bind(window,\"resize\",r),r(),c=r):(h.width=a,h.height=l,s&&(m.width=s),u&&(m.height=u),n.removeClass(v,\"mce-fullscreen\"),n.removeClass(y,\"mce-fullscreen\"),n.removeClass(g,\"mce-fullscreen\"),n.unbind(window,\"resize\",c),o(d)),e.fire(\"FullscreenStateChanged\",{state:f})}var a,l,c,s,u,d,f=!1;if(!e.settings.inline)return e.on(\"init\",function(){e.addShortcut(\"Ctrl+Shift+F\",\"\",r)}),e.on(\"remove\",function(){c&&n.unbind(window,\"resize\",c)}),e.addCommand(\"mceFullScreen\",r),e.addMenuItem(\"fullscreen\",{text:\"Fullscreen\",shortcut:\"Ctrl+Shift+F\",selectable:!0,onClick:function(){r(),e.focus()},onPostRender:function(){var t=this;e.on(\"FullscreenStateChanged\",function(e){t.active(e.state)})},context:\"view\"}),e.addButton(\"fullscreen\",{tooltip:\"Fullscreen\",shortcut:\"Ctrl+Shift+F\",onClick:r,onPostRender:function(){var t=this;e.on(\"FullscreenStateChanged\",function(e){t.active(e.state)})}}),{isFullscreen:function(){return f}}}),function(){}}),i(\"tinymce.plugins.fullscreen.Plugin\")()}()},{}],23:[function(e,t,n){e(\"./plugin.js\")},{\"./plugin.js\":24}],24:[function(e,t,n){!function(){var e={},t=function(t){for(var n=e[t],o=n.deps,r=n.defn,a=o.length,l=new Array(a),c=0;c<a;++c)l[c]=i(o[c]);var s=r.apply(null,l);if(void 0===s)throw\"module [\"+t+\"] returned undefined\";n.instance=s},n=function(t,n,i){if(\"string\"!=typeof t)throw\"module id must be a string\";if(void 0===n)throw\"no dependencies for \"+t;if(void 0===i)throw\"no definition function for \"+t;e[t]={deps:n,defn:i,instance:void 0}},i=function(n){var i=e[n];if(void 0===i)throw\"module [\"+n+\"] was undefined\";return void 0===i.instance&&t(n),i.instance},o=function(e,t){for(var n=e.length,o=new Array(n),r=0;r<n;++r)o.push(i(e[r]));t.apply(null,t)};({}).bolt={module:{api:{define:n,require:o,demand:i}}};var r=n;!function(e,t){r(e,[],function(){return t})}(\"global!tinymce.util.Tools.resolve\",tinymce.util.Tools.resolve),r(\"tinymce.core.PluginManager\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.PluginManager\")}),r(\"tinymce.plugins.hr.Plugin\",[\"tinymce.core.PluginManager\"],function(e){return e.add(\"hr\",function(e){e.addCommand(\"InsertHorizontalRule\",function(){e.execCommand(\"mceInsertContent\",!1,\"<hr />\")}),e.addButton(\"hr\",{icon:\"hr\",tooltip:\"Horizontal line\",cmd:\"InsertHorizontalRule\"}),e.addMenuItem(\"hr\",{icon:\"hr\",text:\"Horizontal line\",cmd:\"InsertHorizontalRule\",context:\"insert\"})}),function(){}}),i(\"tinymce.plugins.hr.Plugin\")()}()},{}],25:[function(e,t,n){e(\"./plugin.js\")},{\"./plugin.js\":26}],26:[function(e,t,n){!function(){var e={},t=function(t){for(var n=e[t],o=n.deps,r=n.defn,a=o.length,l=new Array(a),c=0;c<a;++c)l[c]=i(o[c]);var s=r.apply(null,l);if(void 0===s)throw\"module [\"+t+\"] returned undefined\";n.instance=s},n=function(t,n,i){if(\"string\"!=typeof t)throw\"module id must be a string\";if(void 0===n)throw\"no dependencies for \"+t;if(void 0===i)throw\"no definition function for \"+t;e[t]={deps:n,defn:i,instance:void 0}},i=function(n){var i=e[n];if(void 0===i)throw\"module [\"+n+\"] was undefined\";return void 0===i.instance&&t(n),i.instance},o=function(e,t){for(var n=e.length,o=new Array(n),r=0;r<n;++r)o.push(i(e[r]));t.apply(null,t)};({}).bolt={module:{api:{define:n,require:o,demand:i}}};var r=n;!function(e,t){r(e,[],function(){return t})}(\"global!tinymce.util.Tools.resolve\",tinymce.util.Tools.resolve),r(\"tinymce.core.Env\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.Env\")}),r(\"tinymce.core.PluginManager\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.PluginManager\")}),r(\"tinymce.core.util.JSON\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.util.JSON\")}),r(\"tinymce.core.util.Tools\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.util.Tools\")}),r(\"tinymce.core.util.XHR\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.util.XHR\")}),r(\"tinymce.plugins.image.Plugin\",[\"tinymce.core.Env\",\"tinymce.core.PluginManager\",\"tinymce.core.util.JSON\",\"tinymce.core.util.Tools\",\"tinymce.core.util.XHR\"],function(e,t,n,i,o){return t.add(\"image\",function(t){function r(e,t){function n(e,n){i.parentNode&&i.parentNode.removeChild(i),t({width:e,height:n})}var i=document.createElement(\"img\");i.onload=function(){n(Math.max(i.width,i.clientWidth),Math.max(i.height,i.clientHeight))},i.onerror=function(){n()};var o=i.style;o.visibility=\"hidden\",o.position=\"fixed\",o.bottom=o.left=0,o.width=o.height=\"auto\",document.body.appendChild(i),i.src=e}function a(e,t,n){function o(e,n){return n=n||[],i.each(e,function(e){var i={text:e.text||e.title};e.menu?i.menu=o(e.menu):(i.value=e.value,t(i)),n.push(i)}),n}return o(e,n||[])}function l(e){return function(){var i=t.settings.image_list;\"string\"==typeof i?o.send({url:i,success:function(t){e(n.parse(t))}}):\"function\"==typeof i?i(e):e(i)}}function c(n){function o(){var e,t,n,i;e=g.find(\"#width\")[0],t=g.find(\"#height\")[0],e&&t&&(n=e.value(),i=t.value(),g.find(\"#constrain\")[0].checked()&&v&&y&&n&&i&&(v!=n?(i=Math.round(n/v*i),isNaN(i)||t.value(i)):(n=Math.round(i/y*n),isNaN(n)||e.value(n))),v=n,y=i)}function l(){function e(e){function n(){e.onload=e.onerror=null,t.selection&&(t.selection.select(e),t.nodeChanged())}e.onload=function(){x.width||x.height||!T||C.setAttribs(e,{width:e.clientWidth,height:e.clientHeight}),n()},e.onerror=n}var n,r;f(),o(),x=i.extend(x,g.toJSON()),x.alt||(x.alt=\"\"),x.title||(x.title=\"\"),\"\"===x.width&&(x.width=null),\"\"===x.height&&(x.height=null),x.style||(x.style=null),x={src:x.src,alt:x.alt,title:x.title,width:x.width,height:x.height,style:x.style,caption:x.caption,class:x.class},t.undoManager.transact(function(){function i(e){return t.schema.getTextBlockElements()[e.nodeName]}if(!x.src)return void(p&&(C.remove(p),t.focus(),t.nodeChanged()));if(\"\"===x.title&&(x.title=null),p?C.setAttribs(p,x):(x.id=\"__mcenew\",t.focus(),t.selection.setContent(C.createHTML(\"img\",x)),p=C.get(\"__mcenew\"),C.setAttrib(p,\"id\",null)),t.editorUpload.uploadImagesAuto(),!1===x.caption&&C.is(p.parentNode,\"figure.image\")&&(n=p.parentNode,C.insertAfter(p,n),C.remove(n)),!0!==x.caption)e(p);else if(!C.is(p.parentNode,\"figure.image\")){r=p,p=p.cloneNode(!0),n=C.create(\"figure\",{class:\"image\"}),n.appendChild(p),n.appendChild(C.create(\"figcaption\",{contentEditable:!0},\"Caption\")),n.contentEditable=!1;var o=C.getParent(r,i);o?C.split(o,r,n):C.replace(n,r),t.selection.select(n)}})}function c(e){return e&&(e=e.replace(/px$/,\"\")),e}function s(e){var n,o,a,l=e.meta||{};b&&b.value(t.convertURL(this.value(),\"src\")),i.each(l,function(e,t){g.find(\"#\"+t).value(e)}),l.width||l.height||(n=t.convertURL(this.value(),\"src\"),o=t.settings.image_prepend_url,a=new RegExp(\"^(?:[a-z]+:)?//\",\"i\"),o&&!a.test(n)&&n.substring(0,o.length)!==o&&(n=o+n),this.value(n),r(t.documentBaseURI.toAbsolute(this.value()),function(e){e.width&&e.height&&T&&(v=e.width,y=e.height,g.find(\"#width\").value(v),g.find(\"#height\").value(y))}))}function u(e){e.meta=g.toJSON()}function d(e){if(e.margin){var t=e.margin.split(\" \");switch(t.length){case 1:e[\"margin-top\"]=e[\"margin-top\"]||t[0],e[\"margin-right\"]=e[\"margin-right\"]||t[0],e[\"margin-bottom\"]=e[\"margin-bottom\"]||t[0],e[\"margin-left\"]=e[\"margin-left\"]||t[0];break;case 2:e[\"margin-top\"]=e[\"margin-top\"]||t[0],e[\"margin-right\"]=e[\"margin-right\"]||t[1],e[\"margin-bottom\"]=e[\"margin-bottom\"]||t[0],e[\"margin-left\"]=e[\"margin-left\"]||t[1];break;case 3:e[\"margin-top\"]=e[\"margin-top\"]||t[0],e[\"margin-right\"]=e[\"margin-right\"]||t[1],e[\"margin-bottom\"]=e[\"margin-bottom\"]||t[2],e[\"margin-left\"]=e[\"margin-left\"]||t[1];break;case 4:e[\"margin-top\"]=e[\"margin-top\"]||t[0],e[\"margin-right\"]=e[\"margin-right\"]||t[1],e[\"margin-bottom\"]=e[\"margin-bottom\"]||t[2],e[\"margin-left\"]=e[\"margin-left\"]||t[3]}delete e.margin}return e}function f(){function e(e){return e.length>0&&/^[0-9]+$/.test(e)&&(e+=\"px\"),e}if(t.settings.image_advtab){var n=g.toJSON(),i=C.parseStyle(n.style);i=d(i),n.vspace&&(i[\"margin-top\"]=i[\"margin-bottom\"]=e(n.vspace)),n.hspace&&(i[\"margin-left\"]=i[\"margin-right\"]=e(n.hspace)),n.border&&(i[\"border-width\"]=e(n.border)),g.find(\"#style\").value(C.serializeStyle(C.parseStyle(C.serializeStyle(i))))}}function m(){if(t.settings.image_advtab){var e=g.toJSON(),n=C.parseStyle(e.style);g.find(\"#vspace\").value(\"\"),g.find(\"#hspace\").value(\"\"),n=d(n),(n[\"margin-top\"]&&n[\"margin-bottom\"]||n[\"margin-right\"]&&n[\"margin-left\"])&&(n[\"margin-top\"]===n[\"margin-bottom\"]?g.find(\"#vspace\").value(c(n[\"margin-top\"])):g.find(\"#vspace\").value(\"\"),n[\"margin-right\"]===n[\"margin-left\"]?g.find(\"#hspace\").value(c(n[\"margin-right\"])):g.find(\"#hspace\").value(\"\")),n[\"border-width\"]&&g.find(\"#border\").value(c(n[\"border-width\"])),g.find(\"#style\").value(C.serializeStyle(C.parseStyle(C.serializeStyle(n))))}}var g,p,h,v,y,b,w,x={},C=t.dom,T=!1!==t.settings.image_dimensions;p=t.selection.getNode(),h=C.getParent(p,\"figure.image\"),h&&(p=C.select(\"img\",h)[0]),p&&(\"IMG\"!=p.nodeName||p.getAttribute(\"data-mce-object\")||p.getAttribute(\"data-mce-placeholder\"))&&(p=null),p&&(v=C.getAttrib(p,\"width\"),y=C.getAttrib(p,\"height\"),x={src:C.getAttrib(p,\"src\"),alt:C.getAttrib(p,\"alt\"),title:C.getAttrib(p,\"title\"),class:C.getAttrib(p,\"class\"),width:v,height:y,caption:!!h}),n&&(b={type:\"listbox\",label:\"Image list\",values:a(n,function(e){e.value=t.convertURL(e.value||e.url,\"src\")},[{text:\"None\",value:\"\"}]),value:x.src&&t.convertURL(x.src,\"src\"),onselect:function(e){var t=g.find(\"#alt\");(!t.value()||e.lastControl&&t.value()==e.lastControl.text())&&t.value(e.control.text()),g.find(\"#src\").value(e.control.value()).fire(\"change\")},onPostRender:function(){b=this}}),t.settings.image_class_list&&(w={name:\"class\",type:\"listbox\",label:\"Class\",values:a(t.settings.image_class_list,function(e){e.value&&(e.textStyle=function(){return t.formatter.getCssText({inline:\"img\",classes:[e.value]})})})});var N=[{name:\"src\",type:\"filepicker\",filetype:\"image\",label:\"Source\",autofocus:!0,onchange:s,onbeforecall:u},b];!1!==t.settings.image_description&&N.push({name:\"alt\",type:\"textbox\",label:\"Image description\"}),t.settings.image_title&&N.push({name:\"title\",type:\"textbox\",label:\"Image Title\"}),T&&N.push({type:\"container\",label:\"Dimensions\",layout:\"flex\",direction:\"row\",align:\"center\",spacing:5,items:[{name:\"width\",type:\"textbox\",maxLength:5,size:3,onchange:o,ariaLabel:\"Width\"},{type:\"label\",text:\"x\"},{name:\"height\",type:\"textbox\",maxLength:5,size:3,onchange:o,ariaLabel:\"Height\"},{name:\"constrain\",type:\"checkbox\",checked:!0,text:\"Constrain proportions\"}]}),N.push(w),t.settings.image_caption&&e.ceFalse&&N.push({name:\"caption\",type:\"checkbox\",label:\"Caption\"}),t.settings.image_advtab?(p&&(p.style.marginLeft&&p.style.marginRight&&p.style.marginLeft===p.style.marginRight&&(x.hspace=c(p.style.marginLeft)),p.style.marginTop&&p.style.marginBottom&&p.style.marginTop===p.style.marginBottom&&(x.vspace=c(p.style.marginTop)),p.style.borderWidth&&(x.border=c(p.style.borderWidth)),x.style=t.dom.serializeStyle(t.dom.parseStyle(t.dom.getAttrib(p,\"style\")))),g=t.windowManager.open({title:\"Insert/edit image\",data:x,bodyType:\"tabpanel\",body:[{title:\"General\",type:\"form\",items:N},{title:\"Advanced\",type:\"form\",pack:\"start\",items:[{label:\"Style\",name:\"style\",type:\"textbox\",onchange:m},{type:\"form\",layout:\"grid\",packV:\"start\",columns:2,padding:0,alignH:[\"left\",\"right\"],defaults:{type:\"textbox\",maxWidth:50,onchange:f},items:[{label:\"Vertical space\",name:\"vspace\"},{label:\"Horizontal space\",name:\"hspace\"},{label:\"Border\",name:\"border\"}]}]}],onSubmit:l})):g=t.windowManager.open({title:\"Insert/edit image\",data:x,body:N,onSubmit:l})}t.on(\"preInit\",function(){function e(e){var t=e.attr(\"class\");return t&&/\\bimage\\b/.test(t)}function n(t){return function(n){function o(e){e.attr(\"contenteditable\",t?\"true\":null)}for(var r,a=n.length;a--;)r=n[a],e(r)&&(r.attr(\"contenteditable\",t?\"false\":null),i.each(r.getAll(\"figcaption\"),o))}}t.parser.addNodeFilter(\"figure\",n(!0)),t.serializer.addNodeFilter(\"figure\",n(!1))}),t.addButton(\"image\",{icon:\"image\",tooltip:\"Insert/edit image\",onclick:l(c),stateSelector:\"img:not([data-mce-object],[data-mce-placeholder]),figure.image\"}),t.addMenuItem(\"image\",{icon:\"image\",text:\"Image\",onclick:l(c),context:\"insert\",prependToContext:!0}),t.addCommand(\"mceImage\",l(c))}),function(){}}),i(\"tinymce.plugins.image.Plugin\")()}()},{}],27:[function(e,t,n){e(\"./plugin.js\")},{\"./plugin.js\":28}],28:[function(e,t,n){!function(){var e={},t=function(t){for(var n=e[t],o=n.deps,r=n.defn,a=o.length,l=new Array(a),c=0;c<a;++c)l[c]=i(o[c]);var s=r.apply(null,l);if(void 0===s)throw\"module [\"+t+\"] returned undefined\";n.instance=s},n=function(t,n,i){if(\"string\"!=typeof t)throw\"module id must be a string\";if(void 0===n)throw\"no dependencies for \"+t;if(void 0===i)throw\"no definition function for \"+t;e[t]={deps:n,defn:i,instance:void 0}},i=function(n){var i=e[n];if(void 0===i)throw\"module [\"+n+\"] was undefined\";return void 0===i.instance&&t(n),i.instance},o=function(e,t){for(var n=e.length,o=new Array(n),r=0;r<n;++r)o.push(i(e[r]));t.apply(null,t)};({}).bolt={module:{api:{define:n,require:o,demand:i}}};var r=n;!function(e,t){r(e,[],function(){return t})}(\"global!tinymce.util.Tools.resolve\",tinymce.util.Tools.resolve),r(\"tinymce.core.PluginManager\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.PluginManager\")}),r(\"tinymce.core.util.Tools\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.util.Tools\")}),r(\"tinymce.plugins.insertdatetime.Plugin\",[\"tinymce.core.PluginManager\",\"tinymce.core.util.Tools\"],function(e,t){return e.add(\"insertdatetime\",function(e){function n(t,n){function i(e,t){if(e=\"\"+e,e.length<t)for(var n=0;n<t-e.length;n++)e=\"0\"+e;return e}return n=n||new Date,t=t.replace(\"%D\",\"%m/%d/%Y\"),t=t.replace(\"%r\",\"%I:%M:%S %p\"),t=t.replace(\"%Y\",\"\"+n.getFullYear()),t=t.replace(\"%y\",\"\"+n.getYear()),t=t.replace(\"%m\",i(n.getMonth()+1,2)),t=t.replace(\"%d\",i(n.getDate(),2)),t=t.replace(\"%H\",\"\"+i(n.getHours(),2)),t=t.replace(\"%M\",\"\"+i(n.getMinutes(),2)),t=t.replace(\"%S\",\"\"+i(n.getSeconds(),2)),t=t.replace(\"%I\",\"\"+((n.getHours()+11)%12+1)),t=t.replace(\"%p\",n.getHours()<12?\"AM\":\"PM\"),t=t.replace(\"%B\",\"\"+e.translate(s[n.getMonth()])),t=t.replace(\"%b\",\"\"+e.translate(c[n.getMonth()])),t=t.replace(\"%A\",\"\"+e.translate(l[n.getDay()])),t=t.replace(\"%a\",\"\"+e.translate(a[n.getDay()])),t=t.replace(\"%%\",\"%\")}function i(t){var i=n(t);if(e.settings.insertdatetime_element){var o;o=n(/%[HMSIp]/.test(t)?\"%Y-%m-%dT%H:%M\":\"%Y-%m-%d\"),i='<time datetime=\"'+o+'\">'+i+\"</time>\";var r=e.dom.getParent(e.selection.getStart(),\"time\");if(r)return void e.dom.setOuterHTML(r,i)}e.insertContent(i)}var o,r,a=\"Sun Mon Tue Wed Thu Fri Sat Sun\".split(\" \"),l=\"Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday\".split(\" \"),c=\"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec\".split(\" \"),s=\"January February March April May June July August September October November December\".split(\" \"),u=[];e.addCommand(\"mceInsertDate\",function(){i(e.getParam(\"insertdatetime_dateformat\",e.translate(\"%Y-%m-%d\")))}),e.addCommand(\"mceInsertTime\",function(){i(e.getParam(\"insertdatetime_timeformat\",e.translate(\"%H:%M:%S\")))}),e.addButton(\"insertdatetime\",{type:\"splitbutton\",title:\"Insert date/time\",onclick:function(){i(o||r)},menu:u}),t.each(e.settings.insertdatetime_formats||[\"%H:%M:%S\",\"%Y-%m-%d\",\"%I:%M:%S %p\",\"%D\"],function(e){r||(r=e),u.push({text:n(e),onclick:function(){o=e,i(e)}})}),e.addMenuItem(\"insertdatetime\",{icon:\"date\",text:\"Date/time\",menu:u,context:\"insert\"})}),function(){}}),i(\"tinymce.plugins.insertdatetime.Plugin\")()}()},{}],29:[function(e,t,n){e(\"./plugin.js\")},{\"./plugin.js\":30}],30:[function(e,t,n){!function(){var e={},t=function(t){for(var n=e[t],o=n.deps,r=n.defn,a=o.length,l=new Array(a),c=0;c<a;++c)l[c]=i(o[c]);var s=r.apply(null,l);if(void 0===s)throw\"module [\"+t+\"] returned undefined\";n.instance=s},n=function(t,n,i){if(\"string\"!=typeof t)throw\"module id must be a string\";if(void 0===n)throw\"no dependencies for \"+t;if(void 0===i)throw\"no definition function for \"+t;e[t]={deps:n,defn:i,instance:void 0}},i=function(n){var i=e[n];if(void 0===i)throw\"module [\"+n+\"] was undefined\";return void 0===i.instance&&t(n),i.instance},o=function(e,t){for(var n=e.length,o=new Array(n),r=0;r<n;++r)o.push(i(e[r]));t.apply(null,t)};({}).bolt={module:{api:{define:n,require:o,demand:i}}};var r=n;!function(e,t){r(e,[],function(){return t})}(\"global!tinymce.util.Tools.resolve\",tinymce.util.Tools.resolve),r(\"tinymce.core.PluginManager\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.PluginManager\")}),r(\"tinymce.core.util.Tools\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.util.Tools\")}),r(\"tinymce.core.util.VK\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.util.VK\")}),r(\"tinymce.core.dom.DOMUtils\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.dom.DOMUtils\")}),r(\"tinymce.plugins.lists.core.NodeType\",[],function(){var e=function(e){return e&&3===e.nodeType},t=function(e){return e&&/^(OL|UL|DL)$/.test(e.nodeName)},n=function(e){return e&&/^(LI|DT|DD)$/.test(e.nodeName)},i=function(e){return e&&\"BR\"===e.nodeName};return{isTextNode:e,isListNode:t,isListItemNode:n,isBr:i,isFirstChild:function(e){return e.parentNode.firstChild===e},isLastChild:function(e){return e.parentNode.lastChild===e},isTextBlock:function(e,t){return t&&!!e.schema.getTextBlockElements()[t.nodeName]},isBogusBr:function(e,t){return!!i(t)&&!(!e.isBlock(t.nextSibling)||i(t.previousSibling))},isEmpty:function(e,t,n){var i=e.isEmpty(t);return!(n&&e.select(\"span[data-mce-type=bookmark]\",t).length>0)&&i},isChildOfBody:function(e,t){return e.isChildOf(t,e.getRoot())}}}),r(\"tinymce.core.dom.RangeUtils\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.dom.RangeUtils\")}),r(\"tinymce.plugins.lists.core.Range\",[\"tinymce.core.dom.RangeUtils\",\"tinymce.plugins.lists.core.NodeType\"],function(e,t){var n=function(n,i){var o=e.getNode(n,i);if(t.isListItemNode(n)&&t.isTextNode(o)){return{container:o,offset:i>=n.childNodes.length?o.data.length:0}}return{container:n,offset:i}};return{getNormalizedEndPoint:n,normalizeRange:function(e){var t=e.cloneRange(),i=n(e.startContainer,e.startOffset);t.setStart(i.container,i.offset);var o=n(e.endContainer,e.endOffset);return t.setEnd(o.container,o.offset),t}}}),r(\"tinymce.plugins.lists.core.Bookmark\",[\"tinymce.core.dom.DOMUtils\",\"tinymce.plugins.lists.core.NodeType\",\"tinymce.plugins.lists.core.Range\"],function(e,t,n){var i=e.DOM;return{createBookmark:function(e){var t={},n=function(n){var o,r,a;r=e[n?\"startContainer\":\"endContainer\"],a=e[n?\"startOffset\":\"endOffset\"],1===r.nodeType&&(o=i.create(\"span\",{\"data-mce-type\":\"bookmark\"}),r.hasChildNodes()?(a=Math.min(a,r.childNodes.length-1),n?r.insertBefore(o,r.childNodes[a]):i.insertAfter(o,r.childNodes[a])):r.appendChild(o),r=o,a=0),t[n?\"startContainer\":\"endContainer\"]=r,t[n?\"startOffset\":\"endOffset\"]=a};return n(!0),e.collapsed||n(),t},resolveBookmark:function(e){function t(t){var n,o,r;n=r=e[t?\"startContainer\":\"endContainer\"],o=e[t?\"startOffset\":\"endOffset\"],n&&(1===n.nodeType&&(o=function(e){for(var t=e.parentNode.firstChild,n=0;t;){if(t===e)return n;1===t.nodeType&&\"bookmark\"===t.getAttribute(\"data-mce-type\")||n++,t=t.nextSibling}return-1}(n),n=n.parentNode,i.remove(r)),e[t?\"startContainer\":\"endContainer\"]=n,e[t?\"startOffset\":\"endOffset\"]=o)}t(!0),t();var o=i.createRng();return o.setStart(e.startContainer,e.startOffset),e.endContainer&&o.setEnd(e.endContainer,e.endOffset),n.normalizeRange(o)}}}),r(\"tinymce.plugins.lists.core.Selection\",[\"tinymce.core.util.Tools\",\"tinymce.plugins.lists.core.NodeType\"],function(e,t){return{getSelectedListItems:function(n){return e.grep(n.selection.getSelectedBlocks(),function(e){return t.isListItemNode(e)})}}}),r(\"tinymce.plugins.lists.actions.Indent\",[\"tinymce.core.dom.DOMUtils\",\"tinymce.plugins.lists.core.Bookmark\",\"tinymce.plugins.lists.core.NodeType\",\"tinymce.plugins.lists.core.Selection\"],function(e,t,n,i){var o=e.DOM,r=function(e,t){var i;if(n.isListNode(e)){for(;i=e.firstChild;)t.appendChild(i);o.remove(e)}},a=function(e){var t,i,a;return\"DT\"===e.nodeName?(o.rename(e,\"DD\"),!0):(t=e.previousSibling)&&n.isListNode(t)?(t.appendChild(e),!0):t&&\"LI\"===t.nodeName&&n.isListNode(t.lastChild)?(t.lastChild.appendChild(e),r(e.lastChild,t.lastChild),!0):(t=e.nextSibling)&&n.isListNode(t)?(t.insertBefore(e,t.firstChild),!0):!(!(t=e.previousSibling)||\"LI\"!==t.nodeName)&&(i=o.create(e.parentNode.nodeName),a=o.getStyle(e.parentNode,\"listStyleType\"),a&&o.setStyle(i,\"listStyleType\",a),t.appendChild(i),i.appendChild(e),r(e.lastChild,i),!0)};return{indentSelection:function(e){var n=i.getSelectedListItems(e);if(n.length){for(var o=t.createBookmark(e.selection.getRng(!0)),r=0;r<n.length&&(a(n[r])||0!==r);r++);return e.selection.setRng(t.resolveBookmark(o)),e.nodeChanged(),!0}}}}),r(\"tinymce.plugins.lists.core.NormalizeLists\",[\"tinymce.core.dom.DOMUtils\",\"tinymce.core.util.Tools\",\"tinymce.plugins.lists.core.NodeType\"],function(e,t,n){var i=e.DOM,o=function(e,t){var o,r=t.parentNode;\"LI\"===r.nodeName&&r.firstChild===t&&(o=r.previousSibling,o&&\"LI\"===o.nodeName?(o.appendChild(t),n.isEmpty(e,r)&&i.remove(r)):i.setStyle(r,\"listStyleType\",\"none\")),n.isListNode(r)&&(o=r.previousSibling)&&\"LI\"===o.nodeName&&o.appendChild(t)};return{normalizeList:o,normalizeLists:function(e,n){t.each(t.grep(e.select(\"ol,ul\",n)),function(t){o(e,t)})}}}),r(\"tinymce.core.Env\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.Env\")}),r(\"tinymce.plugins.lists.core.TextBlock\",[\"tinymce.core.dom.DOMUtils\",\"tinymce.core.Env\"],function(e,t){var n=e.DOM;return{createNewTextBlock:function(e,i,o){var r,a,l,c=n.createFragment(),s=e.schema.getBlockElements();if(e.settings.forced_root_block&&(o=o||e.settings.forced_root_block),o&&(a=n.create(o),a.tagName===e.settings.forced_root_block&&n.setAttribs(a,e.settings.forced_root_block_attrs),c.appendChild(a)),i)for(;r=i.firstChild;){var u=r.nodeName;l||\"SPAN\"===u&&\"bookmark\"===r.getAttribute(\"data-mce-type\")||(l=!0),s[u]?(c.appendChild(r),a=null):o?(a||(a=n.create(o),c.appendChild(a)),a.appendChild(r)):c.appendChild(r)}return e.settings.forced_root_block?l||t.ie&&!(t.ie>10)||a.appendChild(n.create(\"br\",{\"data-mce-bogus\":\"1\"})):c.appendChild(n.create(\"br\")),c}}}),r(\"tinymce.plugins.lists.core.SplitList\",[\"tinymce.core.dom.DOMUtils\",\"tinymce.plugins.lists.core.NodeType\",\"tinymce.plugins.lists.core.TextBlock\",\"tinymce.core.util.Tools\"],function(e,t,n,i){var o=e.DOM;return{splitList:function(e,r,a,l){var c,s,u,d;for(u=o.select('span[data-mce-type=\"bookmark\"]',r),l=l||n.createNewTextBlock(e,a),c=o.createRng(),c.setStartAfter(a),c.setEndAfter(r),s=c.extractContents(),d=s.firstChild;d;d=d.firstChild)if(\"LI\"===d.nodeName&&e.dom.isEmpty(d)){o.remove(d);break}e.dom.isEmpty(s)||o.insertAfter(s,r),o.insertAfter(l,r),t.isEmpty(e.dom,a.parentNode)&&function(e){i.each(u,function(t){e.parentNode.insertBefore(t,a.parentNode)}),o.remove(e)}(a.parentNode),o.remove(a),t.isEmpty(e.dom,r)&&o.remove(r)}}}),r(\"tinymce.plugins.lists.actions.Outdent\",[\"tinymce.core.dom.DOMUtils\",\"tinymce.plugins.lists.core.Bookmark\",\"tinymce.plugins.lists.core.NodeType\",\"tinymce.plugins.lists.core.NormalizeLists\",\"tinymce.plugins.lists.core.Selection\",\"tinymce.plugins.lists.core.SplitList\",\"tinymce.plugins.lists.core.TextBlock\"],function(e,t,n,i,o,r,a){var l=e.DOM,c=function(e,t){n.isEmpty(e,t)&&l.remove(t)},s=function(e,t){var o,s=t.parentNode,u=s.parentNode;return s===e.getBody()||(\"DD\"===t.nodeName?(l.rename(t,\"DT\"),!0):n.isFirstChild(t)&&n.isLastChild(t)?(\"LI\"===u.nodeName?(l.insertAfter(t,u),c(e.dom,u),l.remove(s)):n.isListNode(u)?l.remove(s,!0):(u.insertBefore(a.createNewTextBlock(e,t),s),l.remove(s)),!0):n.isFirstChild(t)?(\"LI\"===u.nodeName?(l.insertAfter(t,u),t.appendChild(s),c(e.dom,u)):n.isListNode(u)?u.insertBefore(t,s):(u.insertBefore(a.createNewTextBlock(e,t),s),l.remove(t)),!0):n.isLastChild(t)?(\"LI\"===u.nodeName?l.insertAfter(t,u):n.isListNode(u)?l.insertAfter(t,s):(l.insertAfter(a.createNewTextBlock(e,t),s),l.remove(t)),!0):(\"LI\"===u.nodeName?(s=u,o=a.createNewTextBlock(e,t,\"LI\")):o=n.isListNode(u)?a.createNewTextBlock(e,t,\"LI\"):a.createNewTextBlock(e,t),r.splitList(e,s,t,o),i.normalizeLists(e.dom,s.parentNode),!0))};return{outdent:s,outdentSelection:function(e){var n=o.getSelectedListItems(e);if(n.length){var i,r,a=t.createBookmark(e.selection.getRng(!0)),l=e.getBody();for(i=n.length;i--;)for(var c=n[i].parentNode;c&&c!==l;){for(r=n.length;r--;)if(n[r]===c){n.splice(i,1);break}c=c.parentNode}for(i=0;i<n.length&&(s(e,n[i])||0!==i);i++);return e.selection.setRng(t.resolveBookmark(a)),e.nodeChanged(),!0}}}}),r(\"tinymce.core.dom.BookmarkManager\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.dom.BookmarkManager\")}),\nr(\"tinymce.plugins.lists.actions.ToggleList\",[\"tinymce.core.dom.BookmarkManager\",\"tinymce.core.util.Tools\",\"tinymce.plugins.lists.actions.Outdent\",\"tinymce.plugins.lists.core.Bookmark\",\"tinymce.plugins.lists.core.NodeType\",\"tinymce.plugins.lists.core.NormalizeLists\",\"tinymce.plugins.lists.core.Selection\",\"tinymce.plugins.lists.core.SplitList\"],function(e,t,n,i,o,r,a,l){var c=function(e,t,n){var i=n[\"list-style-type\"]?n[\"list-style-type\"]:null;e.setStyle(t,\"list-style-type\",i)},s=function(e,n){t.each(n,function(t,n){e.setAttribute(n,t)})},u=function(e,n,i){s(n,i[\"list-attributes\"]),t.each(e.select(\"li\",n),function(e){s(e,i[\"list-item-attributes\"])})},d=function(e,t,n){c(e,t,n),u(e,t,n)},f=function(e,t,n){var i,r,a=e.getBody();for(i=t[n?\"startContainer\":\"endContainer\"],r=t[n?\"startOffset\":\"endOffset\"],1===i.nodeType&&(i=i.childNodes[Math.min(r,i.childNodes.length-1)]||i);i.parentNode!==a;){if(o.isTextBlock(e,i))return i;if(/^(TD|TH)$/.test(i.parentNode.nodeName))return i;i=i.parentNode}return i},m=function(n,i){for(var r,a=[],l=n.getBody(),c=n.dom,s=f(n,i,!0),u=f(n,i,!1),d=[],m=s;m&&(d.push(m),m!==u);m=m.nextSibling);return t.each(d,function(t){if(o.isTextBlock(n,t))return a.push(t),void(r=null);if(c.isBlock(t)||o.isBr(t))return o.isBr(t)&&c.remove(t),void(r=null);var i=t.nextSibling;if(e.isBookmarkNode(t)&&(o.isTextBlock(n,i)||!i&&t.parentNode===l))return void(r=null);r||(r=c.create(\"p\"),t.parentNode.insertBefore(r,t),a.push(r)),r.appendChild(t)}),a},g=function(e,n,r){var a,l=e.selection.getRng(!0),c=\"LI\",s=e.dom;r=r||{},\"false\"!==s.getContentEditable(e.selection.getNode())&&(n=n.toUpperCase(),\"DL\"===n&&(c=\"DT\"),a=i.createBookmark(l),t.each(m(e,l),function(t){var i,a;a=t.previousSibling,a&&o.isListNode(a)&&a.nodeName===n&&function(e){var t=s.getStyle(e,\"list-style-type\"),n=r?r[\"list-style-type\"]:\"\";return n=null===n?\"\":n,t===n}(a)?(i=a,t=s.rename(t,c),a.appendChild(t)):(i=s.create(n),t.parentNode.insertBefore(i,t),i.appendChild(t),t=s.rename(t,c)),d(s,i,r),w(e.dom,i)}),e.selection.setRng(i.resolveBookmark(a)))},p=function(e){var c=i.createBookmark(e.selection.getRng(!0)),s=e.getBody(),u=a.getSelectedListItems(e),d=t.grep(u,function(t){return e.dom.isEmpty(t)});u=t.grep(u,function(t){return!e.dom.isEmpty(t)}),t.each(d,function(t){if(o.isEmpty(e.dom,t))return void n.outdent(e,t)}),t.each(u,function(t){var n,i;if(t.parentNode!==e.getBody()){for(n=t;n&&n!==s;n=n.parentNode)o.isListNode(n)&&(i=n);l.splitList(e,i,t),r.normalizeLists(e.dom,i.parentNode)}}),e.selection.setRng(i.resolveBookmark(c))},h=function(e,t){return e&&t&&o.isListNode(e)&&e.nodeName===t.nodeName},v=function(e,t,n){return e.getStyle(t,\"list-style-type\",!0)===e.getStyle(n,\"list-style-type\",!0)},y=function(e,t){return e.className===t.className},b=function(e,t,n){return h(t,n)&&v(e,t,n)&&y(t,n)},w=function(e,t){var n,i;if(n=t.nextSibling,b(e,t,n)){for(;i=n.firstChild;)t.appendChild(i);e.remove(n)}if(n=t.previousSibling,b(e,t,n)){for(;i=n.lastChild;)t.insertBefore(i,t.firstChild);e.remove(n)}};return{toggleList:function(e,t,n){var o=e.dom.getParent(e.selection.getStart(),\"OL,UL,DL\");if(n=n||{},o!==e.getBody())if(o)if(o.nodeName===t)p(e);else{var r=i.createBookmark(e.selection.getRng(!0));d(e.dom,o,n),w(e.dom,e.dom.rename(o,t)),e.selection.setRng(i.resolveBookmark(r))}else g(e,t,n)},removeList:p,mergeWithAdjacentLists:w}}),r(\"tinymce.core.dom.TreeWalker\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.dom.TreeWalker\")}),r(\"tinymce.plugins.lists.core.Delete\",[\"tinymce.core.dom.RangeUtils\",\"tinymce.core.dom.TreeWalker\",\"tinymce.core.util.VK\",\"tinymce.plugins.lists.actions.ToggleList\",\"tinymce.plugins.lists.core.Bookmark\",\"tinymce.plugins.lists.core.NodeType\",\"tinymce.plugins.lists.core.NormalizeLists\",\"tinymce.plugins.lists.core.Range\",\"tinymce.plugins.lists.core.Selection\"],function(e,t,n,i,o,r,a,l,c){var s=function(n,i,o){var a,l,c=i.startContainer,s=i.startOffset;if(3===c.nodeType&&(o?s<c.data.length:s>0))return c;for(a=n.schema.getNonEmptyElements(),1===c.nodeType&&(c=e.getNode(c,s)),l=new t(c,n.getBody()),o&&r.isBogusBr(n.dom,c)&&l.next();c=l[o?\"next\":\"prev2\"]();){if(\"LI\"===c.nodeName&&!c.hasChildNodes())return c;if(a[c.nodeName])return c;if(3===c.nodeType&&c.data.length>0)return c}},u=function(e,t,n){var i,o,a=t.parentNode;if(r.isChildOfBody(e,t)&&r.isChildOfBody(e,n)){if(r.isListNode(n.lastChild)&&(o=n.lastChild),a===n.lastChild&&r.isBr(a.previousSibling)&&e.remove(a.previousSibling),i=n.lastChild,i&&r.isBr(i)&&t.hasChildNodes()&&e.remove(i),r.isEmpty(e,n,!0)&&e.$(n).empty(),!r.isEmpty(e,t,!0))for(;i=t.firstChild;)n.appendChild(i);o&&n.appendChild(o),e.remove(t),r.isEmpty(e,a)&&a!==e.getRoot()&&e.remove(a)}},d=function(e,t){var n,a,c,d=e.dom,f=e.selection,m=d.getParent(f.getStart(),\"LI\");if(m){if((n=m.parentNode)===e.getBody()&&r.isEmpty(d,n))return!0;if(a=l.normalizeRange(f.getRng(!0)),(c=d.getParent(s(e,a,t),\"LI\"))&&c!==m){var g=o.createBookmark(a);return t?u(d,c,m):u(d,m,c),e.selection.setRng(o.resolveBookmark(g)),!0}if(!c&&!t&&i.removeList(e,n.nodeName))return!0}return!1},f=function(e,t){var n=e.dom,o=n.getParent(e.selection.getStart(),n.isBlock);if(o&&n.isEmpty(o)){var r=l.normalizeRange(e.selection.getRng(!0)),a=n.getParent(s(e,r,t),\"LI\");if(a)return e.undoManager.transact(function(){n.remove(o),i.mergeWithAdjacentLists(n,a.parentNode),e.selection.select(a,!0),e.selection.collapse(t)}),!0}return!1},m=function(e,t){return d(e,t)||f(e,t)},g=function(e){return!!(e.dom.getParent(e.selection.getStart(),\"LI,DT,DD\")||c.getSelectedListItems(e).length>0)&&(e.undoManager.transact(function(){e.execCommand(\"Delete\"),a.normalizeLists(e.dom,e.getBody())}),!0)},p=function(e,t){return e.selection.isCollapsed()?m(e,t):g(e)};return{setup:function(e){e.on(\"keydown\",function(t){t.keyCode===n.BACKSPACE?p(e,!1)&&t.preventDefault():t.keyCode===n.DELETE&&p(e,!0)&&t.preventDefault()})},backspaceDelete:p}}),r(\"tinymce.plugins.lists.Plugin\",[\"tinymce.core.PluginManager\",\"tinymce.core.util.Tools\",\"tinymce.core.util.VK\",\"tinymce.plugins.lists.actions.Indent\",\"tinymce.plugins.lists.actions.Outdent\",\"tinymce.plugins.lists.actions.ToggleList\",\"tinymce.plugins.lists.core.Delete\",\"tinymce.plugins.lists.core.NodeType\"],function(e,t,n,i,o,r,a,l){var c=function(e,t){return function(){var n=e.dom.getParent(e.selection.getStart(),\"UL,OL,DL\");return n&&n.nodeName===t}},s=function(e){e.on(\"BeforeExecCommand\",function(t){var n,r=t.command.toLowerCase();if(\"indent\"===r?i.indentSelection(e)&&(n=!0):\"outdent\"===r&&o.outdentSelection(e)&&(n=!0),n)return e.fire(\"ExecCommand\",{command:t.command}),t.preventDefault(),!0}),e.addCommand(\"InsertUnorderedList\",function(t,n){r.toggleList(e,\"UL\",n)}),e.addCommand(\"InsertOrderedList\",function(t,n){r.toggleList(e,\"OL\",n)}),e.addCommand(\"InsertDefinitionList\",function(t,n){r.toggleList(e,\"DL\",n)})},u=function(e){e.addQueryStateHandler(\"InsertUnorderedList\",c(e,\"UL\")),e.addQueryStateHandler(\"InsertOrderedList\",c(e,\"OL\")),e.addQueryStateHandler(\"InsertDefinitionList\",c(e,\"DL\"))},d=function(e){e.on(\"keydown\",function(t){9!==t.keyCode||n.metaKeyPressed(t)||e.dom.getParent(e.selection.getStart(),\"LI,DT,DD\")&&(t.preventDefault(),t.shiftKey?o.outdentSelection(e):i.indentSelection(e))})},f=function(e){var n=function(n){return function(){var i=this;e.on(\"NodeChange\",function(e){var o=t.grep(e.parents,l.isListNode);i.active(o.length>0&&o[0].nodeName===n)})}};(function(e,n){var i=e.settings.plugins?e.settings.plugins:\"\";return-1!==t.inArray(i.split(/[ ,]/),n)})(e,\"advlist\")||(e.addButton(\"numlist\",{title:\"Numbered list\",cmd:\"InsertOrderedList\",onPostRender:n(\"OL\")}),e.addButton(\"bullist\",{title:\"Bullet list\",cmd:\"InsertUnorderedList\",onPostRender:n(\"UL\")})),e.addButton(\"indent\",{icon:\"indent\",title:\"Increase indent\",cmd:\"Indent\",onPostRender:function(t){var n=t.control;e.on(\"nodechange\",function(){for(var t=e.selection.getSelectedBlocks(),i=!1,o=0,r=t.length;!i&&o<r;o++){var a=t[o].nodeName;i=\"LI\"===a&&l.isFirstChild(t[o])||\"UL\"===a||\"OL\"===a||\"DD\"===a}n.disabled(i)})}})};return e.add(\"lists\",function(e){return f(e),a.setup(e),e.on(\"init\",function(){s(e),u(e),d(e)}),{backspaceDelete:function(t){a.backspaceDelete(e,t)}}}),function(){}}),i(\"tinymce.plugins.lists.Plugin\")()}()},{}],31:[function(e,t,n){e(\"./plugin.js\")},{\"./plugin.js\":32}],32:[function(e,t,n){!function(){var e={},t=function(t){for(var n=e[t],o=n.deps,r=n.defn,a=o.length,l=new Array(a),c=0;c<a;++c)l[c]=i(o[c]);var s=r.apply(null,l);if(void 0===s)throw\"module [\"+t+\"] returned undefined\";n.instance=s},n=function(t,n,i){if(\"string\"!=typeof t)throw\"module id must be a string\";if(void 0===n)throw\"no dependencies for \"+t;if(void 0===i)throw\"no definition function for \"+t;e[t]={deps:n,defn:i,instance:void 0}},i=function(n){var i=e[n];if(void 0===i)throw\"module [\"+n+\"] was undefined\";return void 0===i.instance&&t(n),i.instance},o=function(e,t){for(var n=e.length,o=new Array(n),r=0;r<n;++r)o.push(i(e[r]));t.apply(null,t)};({}).bolt={module:{api:{define:n,require:o,demand:i}}};var r=n;!function(e,t){r(e,[],function(){return t})}(\"global!tinymce.util.Tools.resolve\",tinymce.util.Tools.resolve),r(\"tinymce.core.html.Node\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.html.Node\")}),r(\"tinymce.core.PluginManager\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.PluginManager\")}),r(\"tinymce.core.util.Tools\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.util.Tools\")}),r(\"tinymce.core.html.Writer\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.html.Writer\")}),r(\"tinymce.core.html.SaxParser\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.html.SaxParser\")}),r(\"tinymce.core.html.Schema\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.html.Schema\")}),r(\"tinymce.plugins.media.core.Sanitize\",[\"tinymce.core.util.Tools\",\"tinymce.core.html.Writer\",\"tinymce.core.html.SaxParser\",\"tinymce.core.html.Schema\"],function(e,t,n,i){return{sanitize:function(e,o){if(!1===e.settings.media_filter_html)return o;var r,a=new t;return new n({validate:!1,allow_conditional_comments:!1,special:\"script,noscript\",comment:function(e){a.comment(e)},cdata:function(e){a.cdata(e)},text:function(e,t){a.text(e,t)},start:function(t,n,i){if(r=!0,\"script\"!==t&&\"noscript\"!==t){for(var o=0;o<n.length;o++){if(0===n[o].name.indexOf(\"on\"))return;\"style\"===n[o].name&&(n[o].value=e.dom.serializeStyle(e.dom.parseStyle(n[o].value),t))}a.start(t,n,i),r=!1}},end:function(e){r||a.end(e)}},new i({})).parse(o),a.getContent()}}}),r(\"tinymce.plugins.media.core.VideoScript\",[],function(){return{getVideoScriptMatch:function(e,t){if(e)for(var n=0;n<e.length;n++)if(-1!==t.indexOf(e[n].filter))return e[n]}}}),r(\"tinymce.core.Env\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.Env\")}),r(\"tinymce.plugins.media.core.Nodes\",[\"tinymce.plugins.media.core.Sanitize\",\"tinymce.plugins.media.core.VideoScript\",\"tinymce.core.html.Node\",\"tinymce.core.Env\"],function(e,t,n,i){var o=function(e,t){var o,r=t.name;return o=new n(\"img\",1),o.shortEnded=!0,a(e,t,o),o.attr({width:t.attr(\"width\")||\"300\",height:t.attr(\"height\")||(\"audio\"===r?\"30\":\"150\"),style:t.attr(\"style\"),src:i.transparentSrc,\"data-mce-object\":r,class:\"mce-object mce-object-\"+r}),o},r=function(e,t){var i,o,r,l=t.name;return i=new n(\"span\",1),i.attr({contentEditable:\"false\",style:t.attr(\"style\"),\"data-mce-object\":l,class:\"mce-preview-object mce-object-\"+l}),a(e,t,i),o=new n(l,1),o.attr({src:t.attr(\"src\"),allowfullscreen:t.attr(\"allowfullscreen\"),width:t.attr(\"width\")||\"300\",height:t.attr(\"height\")||(\"audio\"===l?\"30\":\"150\"),frameborder:\"0\"}),r=new n(\"span\",1),r.attr(\"class\",\"mce-shim\"),i.append(o),i.append(r),i},a=function(t,n,i){var o,r,a,l,c;for(a=n.attributes,l=a.length;l--;)o=a[l].name,r=a[l].value,\"width\"!==o&&\"height\"!==o&&\"style\"!==o&&(\"data\"!==o&&\"src\"!==o||(r=t.convertURL(r,o)),i.attr(\"data-mce-p-\"+o,r));(c=n.firstChild&&n.firstChild.value)&&(i.attr(\"data-mce-html\",escape(e.sanitize(t,c))),i.firstChild=null)},l=function(e){for(;e=e.parent;)if(e.attr(\"data-ephox-embed-iri\"))return!0;return!1};return{createPreviewIframeNode:r,createPlaceholderNode:o,placeHolderConverter:function(e){return function(n){for(var a,c,s=n.length;s--;)a=n[s],a.parent&&(a.parent.attr(\"data-mce-object\")||(\"script\"!==a.name||(c=t.getVideoScriptMatch(e.settings.media_scripts,a.attr(\"src\"))))&&(c&&(c.width&&a.attr(\"width\",c.width.toString()),c.height&&a.attr(\"height\",c.height.toString())),\"iframe\"===a.name&&!1!==e.settings.media_live_embeds&&i.ceFalse?l(a)||a.replace(r(e,a)):l(a)||a.replace(o(e,a))))}}}}),r(\"tinymce.core.dom.DOMUtils\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.dom.DOMUtils\")}),r(\"tinymce.plugins.media.core.Size\",[],function(){var e=function(e){return e.replace(/px$/,\"\")},t=function(e){return/^[0-9.]+$/.test(e)?e+\"px\":e},n=function(t){return function(n){return n?e(n.style[t]):\"\"}},i=function(e){return function(n,i){n&&(n.style[e]=t(i))}};return{getMaxWidth:n(\"maxWidth\"),getMaxHeight:n(\"maxHeight\"),setMaxWidth:i(\"maxWidth\"),setMaxHeight:i(\"maxHeight\")}}),r(\"tinymce.plugins.media.core.UpdateHtml\",[\"tinymce.core.html.Writer\",\"tinymce.core.html.SaxParser\",\"tinymce.core.html.Schema\",\"tinymce.core.dom.DOMUtils\",\"tinymce.plugins.media.core.Size\"],function(e,t,n,i,o){var r=i.DOM,a=function(e,t){var n,i,o,r;for(n in t)if(o=\"\"+t[n],e.map[n])for(i=e.length;i--;)r=e[i],r.name===n&&(o?(e.map[n]=o,r.value=o):(delete e.map[n],e.splice(i,1)));else o&&(e.push({name:n,value:o}),e.map[n]=o)},l=function(n){var i=new e;return new t(i).parse(n),i.getContent()},c=function(i,o,r){var l,c=new e,s=0;return new t({validate:!1,allow_conditional_comments:!0,special:\"script,noscript\",comment:function(e){c.comment(e)},cdata:function(e){c.cdata(e)},text:function(e,t){c.text(e,t)},start:function(e,t,n){switch(e){case\"video\":case\"object\":case\"embed\":case\"img\":case\"iframe\":void 0!==o.height&&void 0!==o.width&&a(t,{width:o.width,height:o.height})}if(r)switch(e){case\"video\":a(t,{poster:o.poster,src:\"\"}),o.source2&&a(t,{src:\"\"});break;case\"iframe\":a(t,{src:o.source1});break;case\"source\":if(++s<=2&&(a(t,{src:o[\"source\"+s],type:o[\"source\"+s+\"mime\"]}),!o[\"source\"+s]))return;break;case\"img\":if(!o.poster)return;l=!0}c.start(e,t,n)},end:function(e){if(\"video\"===e&&r)for(var t=1;t<=2;t++)if(o[\"source\"+t]){var n=[];n.map={},s<t&&(a(n,{src:o[\"source\"+t],type:o[\"source\"+t+\"mime\"]}),c.start(\"source\",n,!0))}if(o.poster&&\"object\"===e&&r&&!l){var i=[];i.map={},a(i,{src:o.poster,width:o.width,height:o.height}),c.start(\"img\",i,!0)}c.end(e)}},new n({})).parse(i),c.getContent()},s=function(e){var t=r.createFragment(e);return\"\"!==r.getAttrib(t.firstChild,\"data-ephox-embed-iri\")},u=function(e,t){var n=r.createFragment(e),i=n.firstChild;return o.setMaxWidth(i,t.width),o.setMaxHeight(i,t.height),l(i.outerHTML)};return{updateHtml:function(e,t,n){return s(e)?u(e,t):c(e,t,n)}}}),r(\"tinymce.core.util.Delay\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.util.Delay\")}),r(\"tinymce.plugins.media.core.HtmlToData\",[\"tinymce.core.util.Tools\",\"tinymce.core.html.SaxParser\",\"tinymce.core.html.Schema\",\"tinymce.core.dom.DOMUtils\",\"tinymce.plugins.media.core.VideoScript\",\"tinymce.plugins.media.core.Size\"],function(e,t,n,i,o,r){var a=i.DOM,l=function(e){return a.getAttrib(e,\"data-ephox-embed-iri\")},c=function(e){var t=a.createFragment(e);return\"\"!==l(t.firstChild)},s=function(n,i){var r={};return new t({validate:!1,allow_conditional_comments:!0,special:\"script,noscript\",start:function(t,i){if(r.source1||\"param\"!==t||(r.source1=i.map.movie),\"iframe\"!==t&&\"object\"!==t&&\"embed\"!==t&&\"video\"!==t&&\"audio\"!==t||(r.type||(r.type=t),r=e.extend(i.map,r)),\"script\"===t){var a=o.getVideoScriptMatch(n,i.map.src);if(!a)return;r={type:\"script\",source1:i.map.src,width:a.width,height:a.height}}\"source\"===t&&(r.source1?r.source2||(r.source2=i.map.src):r.source1=i.map.src),\"img\"!==t||r.poster||(r.poster=i.map.src)}}).parse(i),r.source1=r.source1||r.src||r.data,r.source2=r.source2||\"\",r.poster=r.poster||\"\",r},u=function(e){var t=a.createFragment(e),n=t.firstChild;return{type:\"ephox-embed-iri\",source1:l(n),source2:\"\",poster:\"\",width:r.getMaxWidth(n),height:r.getMaxHeight(n)}};return{htmlToData:function(e,t){return c(t)?u(t):s(e,t)}}}),r(\"tinymce.plugins.media.core.Mime\",[],function(){return{guess:function(e){var t={mp3:\"audio/mpeg\",wav:\"audio/wav\",mp4:\"video/mp4\",webm:\"video/webm\",ogg:\"video/ogg\",swf:\"application/x-shockwave-flash\"},n=e.toLowerCase().split(\".\").pop(),i=t[n];return i||\"\"}}}),r(\"tinymce.plugins.media.core.UrlPatterns\",[],function(){return{urlPatterns:[{regex:/youtu\\.be\\/([\\w\\-.]+)/,type:\"iframe\",w:560,h:314,url:\"//www.youtube.com/embed/$1\",allowFullscreen:!0},{regex:/youtube\\.com(.+)v=([^&]+)/,type:\"iframe\",w:560,h:314,url:\"//www.youtube.com/embed/$2\",allowFullscreen:!0},{regex:/youtube.com\\/embed\\/([a-z0-9\\-_]+(?:\\?.+)?)/i,type:\"iframe\",w:560,h:314,url:\"//www.youtube.com/embed/$1\",allowFullscreen:!0},{regex:/vimeo\\.com\\/([0-9]+)/,type:\"iframe\",w:425,h:350,url:\"//player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc\",allowfullscreen:!0},{regex:/vimeo\\.com\\/(.*)\\/([0-9]+)/,type:\"iframe\",w:425,h:350,url:\"//player.vimeo.com/video/$2?title=0&amp;byline=0\",allowfullscreen:!0},{regex:/maps\\.google\\.([a-z]{2,3})\\/maps\\/(.+)msid=(.+)/,type:\"iframe\",w:425,h:350,url:'//maps.google.com/maps/ms?msid=$2&output=embed\"',allowFullscreen:!1},{regex:/dailymotion\\.com\\/video\\/([^_]+)/,type:\"iframe\",w:480,h:270,url:\"//www.dailymotion.com/embed/video/$1\",allowFullscreen:!0}]}}),r(\"tinymce.plugins.media.core.DataToHtml\",[\"tinymce.plugins.media.core.Mime\",\"tinymce.plugins.media.core.HtmlToData\",\"tinymce.plugins.media.core.UrlPatterns\",\"tinymce.plugins.media.core.VideoScript\",\"tinymce.plugins.media.core.UpdateHtml\",\"tinymce.core.util.Tools\"],function(e,t,n,i,o,r){return{dataToHtml:function(a,l){var c=\"\",s=r.extend({},l);if(!s.source1&&(r.extend(s,t.htmlToData(a.settings.media_scripts,s.embed)),!s.source1))return\"\";if(s.source2||(s.source2=\"\"),s.poster||(s.poster=\"\"),s.source1=a.convertURL(s.source1,\"source\"),s.source2=a.convertURL(s.source2,\"source\"),s.source1mime=e.guess(s.source1),s.source2mime=e.guess(s.source2),s.poster=a.convertURL(s.poster,\"poster\"),r.each(n.urlPatterns,function(e){var t,n,i=e.regex.exec(s.source1);if(i){for(n=e.url,t=0;i[t];t++)n=n.replace(\"$\"+t,function(){return i[t]});s.source1=n,s.type=e.type,s.allowFullscreen=e.allowFullscreen,s.width=s.width||e.w,s.height=s.height||e.h}}),s.embed)c=o.updateHtml(s.embed,s,!0);else{var u=i.getVideoScriptMatch(a.settings.media_scripts,s.source1);if(u&&(s.type=\"script\",s.width=u.width,s.height=u.height),s.width=s.width||300,s.height=s.height||150,r.each(s,function(e,t){s[t]=a.dom.encode(e)}),\"iframe\"===s.type){var d=s.allowFullscreen?' allowFullscreen=\"1\"':\"\";c+='<iframe src=\"'+s.source1+'\" width=\"'+s.width+'\" height=\"'+s.height+'\"'+d+\"></iframe>\"}else\"application/x-shockwave-flash\"===s.source1mime?(c+='<object data=\"'+s.source1+'\" width=\"'+s.width+'\" height=\"'+s.height+'\" type=\"application/x-shockwave-flash\">',s.poster&&(c+='<img src=\"'+s.poster+'\" width=\"'+s.width+'\" height=\"'+s.height+'\" />'),c+=\"</object>\"):-1!==s.source1mime.indexOf(\"audio\")?a.settings.audio_template_callback?c=a.settings.audio_template_callback(s):c+='<audio controls=\"controls\" src=\"'+s.source1+'\">'+(s.source2?'\\n<source src=\"'+s.source2+'\"'+(s.source2mime?' type=\"'+s.source2mime+'\"':\"\")+\" />\\n\":\"\")+\"</audio>\":\"script\"===s.type?c+='<script src=\"'+s.source1+'\"><\\/script>':c=a.settings.video_template_callback?a.settings.video_template_callback(s):'<video width=\"'+s.width+'\" height=\"'+s.height+'\"'+(s.poster?' poster=\"'+s.poster+'\"':\"\")+' controls=\"controls\">\\n<source src=\"'+s.source1+'\"'+(s.source1mime?' type=\"'+s.source1mime+'\"':\"\")+\" />\\n\"+(s.source2?'<source src=\"'+s.source2+'\"'+(s.source2mime?' type=\"'+s.source2mime+'\"':\"\")+\" />\\n\":\"\")+\"</video>\"}return c}}}),r(\"tinymce.core.util.Promise\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.util.Promise\")}),r(\"tinymce.plugins.media.core.Service\",[\"tinymce.plugins.media.core.DataToHtml\",\"tinymce.core.util.Promise\"],function(e,t){var n=function(e,n,i){var o={};return new t(function(t,r){var a=function(i){return i.html&&(o[e.source1]=i),t({url:e.source1,html:i.html?i.html:n(e)})};o[e.source1]?a(o[e.source1]):i({url:e.source1},a,r)})},i=function(e,n){return new t(function(t){t({html:n(e),url:e.source1})})},o=function(t){return function(n){return e.dataToHtml(t,n)}};return{getEmbedHtml:function(e,t){var r=e.settings.media_url_resolver;return r?n(t,o(e),r):i(t,o(e))}}}),r(\"tinymce.plugins.media.ui.SizeManager\",[],function(){var e=function(e,t){e.state.set(\"oldVal\",e.value()),t.state.set(\"oldVal\",t.value())},t=function(e,t){var n=e.find(\"#width\")[0],i=e.find(\"#height\")[0],o=e.find(\"#constrain\")[0];n&&i&&o&&t(n,i,o.checked())},n=function(t,n,i){var o=t.state.get(\"oldVal\"),r=n.state.get(\"oldVal\"),a=t.value(),l=n.value();i&&o&&r&&a&&l&&(a!==o?(l=Math.round(a/o*l),isNaN(l)||n.value(l)):(a=Math.round(l/r*a),isNaN(a)||t.value(a))),e(t,n)},i=function(n){t(n,e)},o=function(e){t(e,n)};return{createUi:function(e){var t=function(){e(function(e){o(e)})};return{type:\"container\",label:\"Dimensions\",layout:\"flex\",align:\"center\",spacing:5,items:[{name:\"width\",type:\"textbox\",maxLength:5,size:5,onchange:t,ariaLabel:\"Width\"},{type:\"label\",text:\"x\"},{name:\"height\",type:\"textbox\",maxLength:5,size:5,onchange:t,ariaLabel:\"Height\"},{name:\"constrain\",type:\"checkbox\",checked:!0,text:\"Constrain proportions\"}]}},syncSize:i,updateSize:o}}),r(\"tinymce.plugins.media.ui.Dialog\",[\"tinymce.core.util.Delay\",\"tinymce.plugins.media.core.HtmlToData\",\"tinymce.plugins.media.core.UpdateHtml\",\"tinymce.plugins.media.core.Service\",\"tinymce.plugins.media.core.Size\",\"tinymce.core.util.Tools\",\"tinymce.core.Env\",\"tinymce.plugins.media.ui.SizeManager\"],function(e,t,n,i,o,r,a,l){var c=a.ie&&a.ie<=8?\"onChange\":\"onInput\",s=function(e){return function(t){var n=t&&t.msg?\"Media embed handler error: \"+t.msg:\"Media embed handler threw unknown error.\";e.notificationManager.open({type:\"error\",text:n})}},u=function(e){var n=e.selection.getNode(),i=n.getAttribute(\"data-ephox-embed-iri\");return i?{source1:i,\"data-ephox-embed-iri\":i,width:o.getMaxWidth(n),height:o.getMaxHeight(n)}:n.getAttribute(\"data-mce-object\")?t.htmlToData(e.settings.media_scripts,e.serializer.serialize(n,{selection:!0})):{}},d=function(e){var t=e.selection.getNode();if(t.getAttribute(\"data-mce-object\")||t.getAttribute(\"data-ephox-embed-iri\"))return e.selection.getContent()},f=function(e,n){return function(i){var o=i.html,a=e.find(\"#embed\")[0],c=r.extend(t.htmlToData(n.settings.media_scripts,o),{source1:i.url});e.fromJSON(c),a&&(a.value(o),l.updateSize(e))}},m=function(e,t){var n,i,o=e.dom.select(\"img[data-mce-object]\");for(n=0;n<t.length;n++)for(i=o.length-1;i>=0;i--)t[n]===o[i]&&o.splice(i,1);e.selection.select(o[0])},g=function(e,t){var n=e.dom.select(\"img[data-mce-object]\");e.insertContent(t),m(e,n),e.nodeChanged()},p=function(e,t){var o=e.toJSON();o.embed=n.updateHtml(o.embed,o),o.embed?g(t,o.embed):i.getEmbedHtml(t,o).then(function(e){g(t,e.html)}).catch(s(t))},h=function(e,t){r.each(t,function(t,n){e.find(\"#\"+n).value(t)})};return{showDialog:function(e){var o,a,m=[{name:\"source1\",type:\"filepicker\",filetype:\"media\",size:40,autofocus:!0,label:\"Source\",onpaste:function(){setTimeout(function(){i.getEmbedHtml(e,o.toJSON()).then(f(o,e)).catch(s(e))},1)},onchange:function(t){i.getEmbedHtml(e,o.toJSON()).then(f(o,e)).catch(s(e)),h(o,t.meta)},onbeforecall:function(e){e.meta=o.toJSON()}}],g=[],v=function(e){e(o),a=o.toJSON(),o.find(\"#embed\").value(n.updateHtml(a.embed,a))};if(!1!==e.settings.media_alt_source&&g.push({name:\"source2\",type:\"filepicker\",filetype:\"media\",size:40,label:\"Alternative source\"}),!1!==e.settings.media_poster&&g.push({name:\"poster\",type:\"filepicker\",filetype:\"image\",size:40,label:\"Poster\"}),!1!==e.settings.media_dimensions){var y=l.createUi(v);m.push(y)}a=u(e);var b={id:\"mcemediasource\",type:\"textbox\",flex:1,name:\"embed\",value:d(e),multiline:!0,rows:5,label:\"Source\"},w=function(){a=r.extend({},t.htmlToData(e.settings.media_scripts,this.value())),this.parent().parent().fromJSON(a)};b[c]=w,o=e.windowManager.open({title:\"Insert/edit media\",data:a,bodyType:\"tabpanel\",body:[{title:\"General\",type:\"form\",items:m},{title:\"Embed\",type:\"container\",layout:\"flex\",direction:\"column\",align:\"stretch\",padding:10,spacing:10,items:[{type:\"label\",text:\"Paste your embed code below:\",forId:\"mcemediasource\"},b]},{title:\"Advanced\",type:\"form\",items:g}],onSubmit:function(){l.updateSize(o),p(o,e)}}),l.syncSize(o)}}}),r(\"tinymce.plugins.media.Plugin\",[\"tinymce.core.html.Node\",\"tinymce.core.PluginManager\",\"tinymce.core.util.Tools\",\"tinymce.plugins.media.core.Nodes\",\"tinymce.plugins.media.core.Sanitize\",\"tinymce.plugins.media.core.UpdateHtml\",\"tinymce.plugins.media.ui.Dialog\"],function(e,t,n,i,o,r,a){var l=function(t){t.on(\"ResolveName\",function(e){var t;1===e.target.nodeType&&(t=e.target.getAttribute(\"data-mce-object\"))&&(e.name=t)}),t.on(\"preInit\",function(){var r=t.schema.getSpecialElements();n.each(\"video audio iframe object\".split(\" \"),function(e){r[e]=new RegExp(\"</\"+e+\"[^>]*>\",\"gi\")});var a=t.schema.getBoolAttrs();n.each(\"webkitallowfullscreen mozallowfullscreen allowfullscreen\".split(\" \"),function(e){a[e]={}}),t.parser.addNodeFilter(\"iframe,video,audio,object,embed,script\",i.placeHolderConverter(t)),t.serializer.addAttributeFilter(\"data-mce-object\",function(n,i){for(var r,a,l,c,s,u,d,f,m=n.length;m--;)if(r=n[m],r.parent){for(d=r.attr(i),a=new e(d,1),\"audio\"!==d&&\"script\"!==d&&(f=r.attr(\"class\"),f&&-1!==f.indexOf(\"mce-preview-object\")?a.attr({width:r.firstChild.attr(\"width\"),height:r.firstChild.attr(\"height\")}):a.attr({width:r.attr(\"width\"),height:r.attr(\"height\")})),a.attr({style:r.attr(\"style\")}),c=r.attributes,l=c.length;l--;){var g=c[l].name;0===g.indexOf(\"data-mce-p-\")&&a.attr(g.substr(11),c[l].value)}\"script\"===d&&a.attr(\"type\",\"text/javascript\"),s=r.attr(\"data-mce-html\"),s&&(u=new e(\"#text\",3),u.raw=!0,u.value=o.sanitize(t,unescape(s)),a.append(u)),r.replace(a)}})}),t.on(\"click keyup\",function(){var e=t.selection.getNode();e&&t.dom.hasClass(e,\"mce-preview-object\")&&t.dom.getAttrib(e,\"data-mce-selected\")&&e.setAttribute(\"data-mce-selected\",\"2\")}),t.on(\"ObjectSelected\",function(e){var t=e.target.getAttribute(\"data-mce-object\");\"audio\"!==t&&\"script\"!==t||e.preventDefault()}),t.on(\"objectResized\",function(e){var t,n=e.target;n.getAttribute(\"data-mce-object\")&&(t=n.getAttribute(\"data-mce-html\"))&&(t=unescape(t),n.setAttribute(\"data-mce-html\",escape(r.updateHtml(t,{width:e.width,height:e.height}))))}),this.showDialog=function(){a.showDialog(t)},t.addButton(\"media\",{tooltip:\"Insert/edit media\",onclick:this.showDialog,stateSelector:[\"img[data-mce-object]\",\"span[data-mce-object]\",\"div[data-ephox-embed-iri]\"]}),t.addMenuItem(\"media\",{icon:\"media\",text:\"Media\",onclick:this.showDialog,context:\"insert\",prependToContext:!0}),t.on(\"setContent\",function(){t.$(\"span.mce-preview-object\").each(function(e,n){var i=t.$(n);0===i.find(\"span.mce-shim\",n).length&&i.append('<span class=\"mce-shim\"></span>')})}),t.addCommand(\"mceMedia\",this.showDialog)};return t.add(\"media\",l),function(){}}),i(\"tinymce.plugins.media.Plugin\")()}()},{}],33:[function(e,t,n){e(\"./plugin.js\")},{\"./plugin.js\":34}],34:[function(e,t,n){!function(){var e={},t=function(t){for(var n=e[t],o=n.deps,r=n.defn,a=o.length,l=new Array(a),c=0;c<a;++c)l[c]=i(o[c]);var s=r.apply(null,l);if(void 0===s)throw\"module [\"+t+\"] returned undefined\";n.instance=s},n=function(t,n,i){if(\"string\"!=typeof t)throw\"module id must be a string\";if(void 0===n)throw\"no dependencies for \"+t;if(void 0===i)throw\"no definition function for \"+t;e[t]={deps:n,defn:i,instance:void 0}},i=function(n){var i=e[n];if(void 0===i)throw\"module [\"+n+\"] was undefined\";return void 0===i.instance&&t(n),i.instance},o=function(e,t){for(var n=e.length,o=new Array(n),r=0;r<n;++r)o.push(i(e[r]));t.apply(null,t)};({}).bolt={module:{api:{define:n,require:o,demand:i}}};var r=n;!function(e,t){r(e,[],function(){return t})}(\"global!tinymce.util.Tools.resolve\",tinymce.util.Tools.resolve),r(\"tinymce.core.PluginManager\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.PluginManager\")}),r(\"tinymce.plugins.nonbreaking.Plugin\",[\"tinymce.core.PluginManager\"],function(e){return e.add(\"nonbreaking\",function(e){var t=e.getParam(\"nonbreaking_force_tab\");if(e.addCommand(\"mceNonBreaking\",function(){e.insertContent(e.plugins.visualchars&&e.plugins.visualchars.state?'<span class=\"mce-nbsp\">&nbsp;</span>':\"&nbsp;\"),e.dom.setAttrib(e.dom.select(\"span.mce-nbsp\"),\"data-mce-bogus\",\"1\")}),e.addButton(\"nonbreaking\",{title:\"Nonbreaking space\",cmd:\"mceNonBreaking\"}),e.addMenuItem(\"nonbreaking\",{text:\"Nonbreaking space\",cmd:\"mceNonBreaking\",context:\"insert\"}),t){var n=+t>1?+t:3;e.on(\"keydown\",function(t){if(9==t.keyCode){if(t.shiftKey)return;t.preventDefault();for(var i=0;i<n;i++)e.execCommand(\"mceNonBreaking\")}})}}),function(){}}),i(\"tinymce.plugins.nonbreaking.Plugin\")()}()},{}],35:[function(e,t,n){e(\"./plugin.js\")},{\"./plugin.js\":36}],36:[function(e,t,n){!function(){var e={},t=function(t){for(var n=e[t],o=n.deps,r=n.defn,a=o.length,l=new Array(a),c=0;c<a;++c)l[c]=i(o[c]);var s=r.apply(null,l);if(void 0===s)throw\"module [\"+t+\"] returned undefined\";n.instance=s},n=function(t,n,i){if(\"string\"!=typeof t)throw\"module id must be a string\";if(void 0===n)throw\"no dependencies for \"+t;if(void 0===i)throw\"no definition function for \"+t;e[t]={deps:n,defn:i,instance:void 0}},i=function(n){var i=e[n];if(void 0===i)throw\"module [\"+n+\"] was undefined\";return void 0===i.instance&&t(n),i.instance},o=function(e,t){for(var n=e.length,o=new Array(n),r=0;r<n;++r)o.push(i(e[r]));t.apply(null,t)};({}).bolt={module:{api:{define:n,require:o,demand:i}}};var r=n;!function(e,t){r(e,[],function(){return t})}(\"global!tinymce.util.Tools.resolve\",tinymce.util.Tools.resolve),r(\"tinymce.core.PluginManager\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.PluginManager\")}),r(\"tinymce.core.Env\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.Env\")}),r(\"tinymce.plugins.pagebreak.Plugin\",[\"tinymce.core.PluginManager\",\"tinymce.core.Env\"],function(e,t){return e.add(\"pagebreak\",function(e){var n=e.getParam(\"pagebreak_separator\",\"\\x3c!-- pagebreak --\\x3e\"),i=new RegExp(n.replace(/[\\?\\.\\*\\[\\]\\(\\)\\{\\}\\+\\^\\$\\:]/g,function(e){return\"\\\\\"+e}),\"gi\"),o='<img src=\"'+t.transparentSrc+'\" class=\"mce-pagebreak\" data-mce-resize=\"false\" data-mce-placeholder />';e.addCommand(\"mcePageBreak\",function(){e.settings.pagebreak_split_block?e.insertContent(\"<p>\"+o+\"</p>\"):e.insertContent(o)}),e.addButton(\"pagebreak\",{title:\"Page break\",cmd:\"mcePageBreak\"}),e.addMenuItem(\"pagebreak\",{text:\"Page break\",icon:\"pagebreak\",cmd:\"mcePageBreak\",context:\"insert\"}),e.on(\"ResolveName\",function(t){\"IMG\"==t.target.nodeName&&e.dom.hasClass(t.target,\"mce-pagebreak\")&&(t.name=\"pagebreak\")}),e.on(\"click\",function(t){t=t.target,\"IMG\"===t.nodeName&&e.dom.hasClass(t,\"mce-pagebreak\")&&e.selection.select(t)}),e.on(\"BeforeSetContent\",function(e){e.content=e.content.replace(i,o)}),e.on(\"PreInit\",function(){e.serializer.addNodeFilter(\"img\",function(t){for(var i,o,r=t.length;r--;)if(i=t[r],(o=i.attr(\"class\"))&&-1!==o.indexOf(\"mce-pagebreak\")){var a=i.parent;if(e.schema.getBlockElements()[a.name]&&e.settings.pagebreak_split_block){a.type=3,a.value=n,a.raw=!0,i.remove();continue}i.type=3,i.value=n,i.raw=!0}})})}),function(){}}),i(\"tinymce.plugins.pagebreak.Plugin\")()}()},{}],37:[function(e,t,n){e(\"./plugin.js\")},{\"./plugin.js\":38}],38:[function(e,t,n){tinymce.PluginManager.add(\"placeholder\",function(e){e.on(\"init\",function(){function n(){!0==!e.settings.readonly&&r.hide(),e.execCommand(\"mceFocus\",!1)}function i(){\"\"==e.getContent()?r.show():r.hide()}function o(){r.hide()}var r=new t;i(),tinymce.DOM.bind(r.el,\"click\",n),e.on(\"focus\",n),e.on(\"blur\",i),e.on(\"change\",i),e.on(\"setContent\",i),e.on(\"keydown\",o)});var t=function(){\nvar t=e.getElement().getAttribute(\"placeholder\")||e.settings.placeholder,n=e.settings.placeholder_attrs||{style:{position:\"absolute\",top:\"5px\",left:0,color:\"#888\",padding:\"1%\",width:\"98%\",overflow:\"hidden\",\"white-space\":\"pre-wrap\"}},i=e.getContentAreaContainer();tinymce.DOM.setStyle(i,\"position\",\"relative\"),this.el=tinymce.DOM.add(i,e.settings.placeholder_tag||\"label\",n,t)};t.prototype.hide=function(){tinymce.DOM.setStyle(this.el,\"display\",\"none\")},t.prototype.show=function(){tinymce.DOM.setStyle(this.el,\"display\",\"\")}})},{}],39:[function(e,t,n){e(\"./plugin.js\")},{\"./plugin.js\":40}],40:[function(e,t,n){!function(){var e={},t=function(t){for(var n=e[t],o=n.deps,r=n.defn,a=o.length,l=new Array(a),c=0;c<a;++c)l[c]=i(o[c]);var s=r.apply(null,l);if(void 0===s)throw\"module [\"+t+\"] returned undefined\";n.instance=s},n=function(t,n,i){if(\"string\"!=typeof t)throw\"module id must be a string\";if(void 0===n)throw\"no dependencies for \"+t;if(void 0===i)throw\"no definition function for \"+t;e[t]={deps:n,defn:i,instance:void 0}},i=function(n){var i=e[n];if(void 0===i)throw\"module [\"+n+\"] was undefined\";return void 0===i.instance&&t(n),i.instance},o=function(e,t){for(var n=e.length,o=new Array(n),r=0;r<n;++r)o.push(i(e[r]));t.apply(null,t)};({}).bolt={module:{api:{define:n,require:o,demand:i}}};var r=n;!function(e,t){r(e,[],function(){return t})}(\"global!tinymce.util.Tools.resolve\",tinymce.util.Tools.resolve),r(\"tinymce.core.PluginManager\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.PluginManager\")}),r(\"tinymce.core.Env\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.Env\")}),r(\"tinymce.core.util.Tools\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.util.Tools\")}),r(\"tinymce.plugins.preview.Plugin\",[\"tinymce.core.PluginManager\",\"tinymce.core.Env\",\"tinymce.core.util.Tools\"],function(e,t,n){return e.add(\"preview\",function(e){var i=e.settings,o=!t.ie;e.addCommand(\"mcePreview\",function(){e.windowManager.open({title:\"Preview\",width:parseInt(e.getParam(\"plugin_preview_width\",\"650\"),10),height:parseInt(e.getParam(\"plugin_preview_height\",\"500\"),10),html:'<iframe src=\"javascript:\\'\\'\" frameborder=\"0\"'+(o?' sandbox=\"allow-scripts\"':\"\")+\"></iframe>\",buttons:{text:\"Close\",onclick:function(){this.parent().parent().close()}},onPostRender:function(){var t,r=\"\";r+='<base href=\"'+e.documentBaseURI.getURI()+'\">',n.each(e.contentCSS,function(t){r+='<link type=\"text/css\" rel=\"stylesheet\" href=\"'+e.documentBaseURI.toAbsolute(t)+'\">'});var a=i.body_id||\"tinymce\";-1!=a.indexOf(\"=\")&&(a=e.getParam(\"body_id\",\"\",\"hash\"),a=a[e.id]||a);var l=i.body_class||\"\";-1!=l.indexOf(\"=\")&&(l=e.getParam(\"body_class\",\"\",\"hash\"),l=l[e.id]||\"\");var c=e.settings.directionality?' dir=\"'+e.settings.directionality+'\"':\"\";if(t=\"<!DOCTYPE html><html><head>\"+r+'</head><body id=\"'+a+'\" class=\"mce-content-body '+l+'\"'+c+\">\"+e.getContent()+'<script>document.addEventListener && document.addEventListener(\"click\", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === \"A\") {e.preventDefault();}}}, false);<\\/script> </body></html>',o)this.getEl(\"body\").firstChild.src=\"data:text/html;charset=utf-8,\"+encodeURIComponent(t);else{var s=this.getEl(\"body\").firstChild.contentWindow.document;s.open(),s.write(t),s.close()}}})}),e.addButton(\"preview\",{title:\"Preview\",cmd:\"mcePreview\"}),e.addMenuItem(\"preview\",{text:\"Preview\",cmd:\"mcePreview\",context:\"view\"})}),function(){}}),i(\"tinymce.plugins.preview.Plugin\")()}()},{}],41:[function(e,t,n){e(\"./plugin.js\")},{\"./plugin.js\":42}],42:[function(e,t,n){!function(){var e={},t=function(t){for(var n=e[t],o=n.deps,r=n.defn,a=o.length,l=new Array(a),c=0;c<a;++c)l[c]=i(o[c]);var s=r.apply(null,l);if(void 0===s)throw\"module [\"+t+\"] returned undefined\";n.instance=s},n=function(t,n,i){if(\"string\"!=typeof t)throw\"module id must be a string\";if(void 0===n)throw\"no dependencies for \"+t;if(void 0===i)throw\"no definition function for \"+t;e[t]={deps:n,defn:i,instance:void 0}},i=function(n){var i=e[n];if(void 0===i)throw\"module [\"+n+\"] was undefined\";return void 0===i.instance&&t(n),i.instance},o=function(e,t){for(var n=e.length,o=new Array(n),r=0;r<n;++r)o.push(i(e[r]));t.apply(null,t)};({}).bolt={module:{api:{define:n,require:o,demand:i}}};var r=n;!function(e,t){r(e,[],function(){return t})}(\"global!tinymce.util.Tools.resolve\",tinymce.util.Tools.resolve),r(\"tinymce.core.PluginManager\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.PluginManager\")}),r(\"tinymce.plugins.print.Plugin\",[\"tinymce.core.PluginManager\"],function(e){return e.add(\"print\",function(e){e.addCommand(\"mcePrint\",function(){e.getWin().print()}),e.addButton(\"print\",{title:\"Print\",cmd:\"mcePrint\"}),e.addShortcut(\"Meta+P\",\"\",\"mcePrint\"),e.addMenuItem(\"print\",{text:\"Print\",cmd:\"mcePrint\",icon:\"print\",shortcut:\"Meta+P\",context:\"file\"})}),function(){}}),i(\"tinymce.plugins.print.Plugin\")()}()},{}],43:[function(e,t,n){e(\"./plugin.js\")},{\"./plugin.js\":44}],44:[function(e,t,n){!function(){var e={},t=function(t){for(var n=e[t],o=n.deps,r=n.defn,a=o.length,l=new Array(a),c=0;c<a;++c)l[c]=i(o[c]);var s=r.apply(null,l);if(void 0===s)throw\"module [\"+t+\"] returned undefined\";n.instance=s},n=function(t,n,i){if(\"string\"!=typeof t)throw\"module id must be a string\";if(void 0===n)throw\"no dependencies for \"+t;if(void 0===i)throw\"no definition function for \"+t;e[t]={deps:n,defn:i,instance:void 0}},i=function(n){var i=e[n];if(void 0===i)throw\"module [\"+n+\"] was undefined\";return void 0===i.instance&&t(n),i.instance},o=function(e,t){for(var n=e.length,o=new Array(n),r=0;r<n;++r)o.push(i(e[r]));t.apply(null,t)};({}).bolt={module:{api:{define:n,require:o,demand:i}}};var r=n;!function(e,t){r(e,[],function(){return t})}(\"global!tinymce.util.Tools.resolve\",tinymce.util.Tools.resolve),r(\"tinymce.core.PluginManager\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.PluginManager\")}),r(\"tinymce.core.dom.DOMUtils\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.dom.DOMUtils\")}),r(\"tinymce.core.EditorManager\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.EditorManager\")}),r(\"tinymce.core.util.Tools\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.util.Tools\")}),r(\"tinymce.plugins.save.Plugin\",[\"tinymce.core.PluginManager\",\"tinymce.core.dom.DOMUtils\",\"tinymce.core.EditorManager\",\"tinymce.core.util.Tools\"],function(e,t,n,i){return e.add(\"save\",function(e){function o(){var i;if(i=t.DOM.getParent(e.id,\"form\"),!e.getParam(\"save_enablewhendirty\",!0)||e.isDirty()){if(n.triggerSave(),e.getParam(\"save_onsavecallback\"))return e.execCallback(\"save_onsavecallback\",e),void e.nodeChanged();i?(e.setDirty(!1),i.onsubmit&&!i.onsubmit()||(\"function\"==typeof i.submit?i.submit():r(e.translate(\"Error: Form submit field collision.\"))),e.nodeChanged()):r(e.translate(\"Error: No form element found.\"))}}function r(t){e.notificationManager.open({text:t,type:\"error\"})}function a(){var t=i.trim(e.startContent);if(e.getParam(\"save_oncancelcallback\"))return void e.execCallback(\"save_oncancelcallback\",e);e.setContent(t),e.undoManager.clear(),e.nodeChanged()}function l(){var t=this;e.on(\"nodeChange dirty\",function(){t.disabled(e.getParam(\"save_enablewhendirty\",!0)&&!e.isDirty())})}e.addCommand(\"mceSave\",o),e.addCommand(\"mceCancel\",a),e.addButton(\"save\",{icon:\"save\",text:\"Save\",cmd:\"mceSave\",disabled:!0,onPostRender:l}),e.addButton(\"cancel\",{text:\"Cancel\",icon:!1,cmd:\"mceCancel\",disabled:!0,onPostRender:l}),e.addShortcut(\"Meta+S\",\"\",\"mceSave\")}),function(){}}),i(\"tinymce.plugins.save.Plugin\")()}()},{}],45:[function(e,t,n){e(\"./plugin.js\")},{\"./plugin.js\":46}],46:[function(e,t,n){!function(){var e={},t=function(t){for(var n=e[t],o=n.deps,r=n.defn,a=o.length,l=new Array(a),c=0;c<a;++c)l[c]=i(o[c]);var s=r.apply(null,l);if(void 0===s)throw\"module [\"+t+\"] returned undefined\";n.instance=s},n=function(t,n,i){if(\"string\"!=typeof t)throw\"module id must be a string\";if(void 0===n)throw\"no dependencies for \"+t;if(void 0===i)throw\"no definition function for \"+t;e[t]={deps:n,defn:i,instance:void 0}},i=function(n){var i=e[n];if(void 0===i)throw\"module [\"+n+\"] was undefined\";return void 0===i.instance&&t(n),i.instance},o=function(e,t){for(var n=e.length,o=new Array(n),r=0;r<n;++r)o.push(i(e[r]));t.apply(null,t)};({}).bolt={module:{api:{define:n,require:o,demand:i}}};var r=n;!function(e,t){r(e,[],function(){return t})}(\"global!tinymce.util.Tools.resolve\",tinymce.util.Tools.resolve),r(\"tinymce.core.PluginManager\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.PluginManager\")}),r(\"tinymce.core.util.Tools\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.util.Tools\")}),r(\"tinymce.plugins.searchreplace.core.FindReplaceText\",[],function(){function e(e){return e&&1==e.nodeType&&\"false\"===e.contentEditable}function t(t,n,i,o,r){function a(e,t){if(t=t||0,!e[0])throw\"findAndReplaceDOMText cannot handle zero-length matches\";var n=e.index;if(t>0){var i=e[t];if(!i)throw\"Invalid capture group\";n+=e[0].indexOf(i),e[0]=i}return[n,n+e[0].length,[e[0]]]}function l(t){var n;if(3===t.nodeType)return t.data;if(f[t.nodeName]&&!d[t.nodeName])return\"\";if(n=\"\",e(t))return\"\\n\";if((d[t.nodeName]||m[t.nodeName])&&(n+=\"\\n\"),t=t.firstChild)do{n+=l(t)}while(t=t.nextSibling);return n}var c,s,u,d,f,m,g=[],p=0;if(u=n.ownerDocument,d=r.getBlockElements(),f=r.getWhiteSpaceElements(),m=r.getShortEndedElements(),s=l(n)){if(t.global)for(;c=t.exec(s);)g.push(a(c,o));else c=s.match(t),g.push(a(c,o));return g.length&&(p=g.length,function(t,n,i){var o,r,a,l,c=[],s=0,u=t,g=n.shift(),p=0;e:for(;;){if((d[u.nodeName]||m[u.nodeName]||e(u))&&s++,3===u.nodeType&&(!r&&u.length+s>=g[1]?(r=u,l=g[1]-s):o&&c.push(u),!o&&u.length+s>g[0]&&(o=u,a=g[0]-s),s+=u.length),o&&r){if(u=i({startNode:o,startNodeIndex:a,endNode:r,endNodeIndex:l,innerNodes:c,match:g[2],matchIndex:p}),s-=r.length-l,o=null,r=null,c=[],g=n.shift(),p++,!g)break}else if(f[u.nodeName]&&!d[u.nodeName]||!u.firstChild){if(u.nextSibling){u=u.nextSibling;continue}}else if(!e(u)){u=u.firstChild;continue}for(;;){if(u.nextSibling){u=u.nextSibling;break}if(u.parentNode===t)break e;u=u.parentNode}}}(n,g,function(e){var t;if(\"function\"!=typeof e){var n=e.nodeType?e:u.createElement(e);t=function(e,t){var i=n.cloneNode(!1);return i.setAttribute(\"data-mce-index\",t),e&&i.appendChild(u.createTextNode(e)),i}}else t=e;return function(e){var n,i,o,r=e.startNode,a=e.endNode,l=e.matchIndex;if(r===a){var c=r;o=c.parentNode,e.startNodeIndex>0&&(n=u.createTextNode(c.data.substring(0,e.startNodeIndex)),o.insertBefore(n,c));var s=t(e.match[0],l);return o.insertBefore(s,c),e.endNodeIndex<c.length&&(i=u.createTextNode(c.data.substring(e.endNodeIndex)),o.insertBefore(i,c)),c.parentNode.removeChild(c),s}n=u.createTextNode(r.data.substring(0,e.startNodeIndex)),i=u.createTextNode(a.data.substring(e.endNodeIndex));for(var d=t(r.data.substring(e.startNodeIndex),l),f=[],m=0,g=e.innerNodes.length;m<g;++m){var p=e.innerNodes[m],h=t(p.data,l);p.parentNode.replaceChild(h,p),f.push(h)}var v=t(a.data.substring(0,e.endNodeIndex),l);return o=r.parentNode,o.insertBefore(n,r),o.insertBefore(d,r),o.removeChild(r),o=a.parentNode,o.insertBefore(v,a),o.insertBefore(i,a),o.removeChild(a),v}}(i))),p}}return{findAndReplaceDOMText:t}}),r(\"tinymce.plugins.searchreplace.Plugin\",[\"tinymce.core.PluginManager\",\"tinymce.core.util.Tools\",\"tinymce.plugins.searchreplace.core.FindReplaceText\"],function(e,t,n){function i(e){function i(){function n(){a.statusbar.find(\"#next\").disabled(!l(f+1).length),a.statusbar.find(\"#prev\").disabled(!l(f-1).length)}function i(){e.windowManager.alert(\"Could not find the specified string.\",function(){a.find(\"#find\")[0].focus()})}var o,r={};o=t.trim(e.selection.getContent({format:\"text\"}));var a=e.windowManager.open({layout:\"flex\",pack:\"center\",align:\"center\",onClose:function(){e.focus(),d.done()},onSubmit:function(e){var t,o,c,s;return e.preventDefault(),o=a.find(\"#case\").checked(),s=a.find(\"#words\").checked(),c=a.find(\"#find\").value(),c.length?r.text==c&&r.caseState==o&&r.wholeWord==s?0===l(f+1).length?void i():(d.next(),void n()):(t=d.find(c,o,s),t||i(),a.statusbar.items().slice(1).disabled(0===t),n(),void(r={text:c,caseState:o,wholeWord:s})):(d.done(!1),void a.statusbar.items().slice(1).disabled(!0))},buttons:[{text:\"Find\",subtype:\"primary\",onclick:function(){a.submit()}},{text:\"Replace\",disabled:!0,onclick:function(){d.replace(a.find(\"#replace\").value())||(a.statusbar.items().slice(1).disabled(!0),f=-1,r={})}},{text:\"Replace all\",disabled:!0,onclick:function(){d.replace(a.find(\"#replace\").value(),!0,!0),a.statusbar.items().slice(1).disabled(!0),r={}}},{type:\"spacer\",flex:1},{text:\"Prev\",name:\"prev\",disabled:!0,onclick:function(){d.prev(),n()}},{text:\"Next\",name:\"next\",disabled:!0,onclick:function(){d.next(),n()}}],title:\"Find and replace\",items:{type:\"form\",padding:20,labelGap:30,spacing:10,items:[{type:\"textbox\",name:\"find\",size:40,label:\"Find\",value:o},{type:\"textbox\",name:\"replace\",size:40,label:\"Replace with\"},{type:\"checkbox\",name:\"case\",text:\"Match case\",label:\" \"},{type:\"checkbox\",name:\"words\",text:\"Whole words\",label:\" \"}]}})}function o(e){var t=e.getAttribute(\"data-mce-index\");return\"number\"==typeof t?\"\"+t:t}function r(t){var i,o;return o=e.dom.create(\"span\",{\"data-mce-bogus\":1}),o.className=\"mce-match-marker\",i=e.getBody(),d.done(!1),n.findAndReplaceDOMText(t,i,o,!1,e.schema)}function a(e){var t=e.parentNode;e.firstChild&&t.insertBefore(e.firstChild,e),e.parentNode.removeChild(e)}function l(n){var i,r=[];if(i=t.toArray(e.getBody().getElementsByTagName(\"span\")),i.length)for(var a=0;a<i.length;a++){var l=o(i[a]);null!==l&&l.length&&(l===n.toString()&&r.push(i[a]))}return r}function c(t){var n=f,i=e.dom;t=!1!==t,t?n++:n--,i.removeClass(l(f),\"mce-match-marker-selected\");var o=l(n);return o.length?(i.addClass(l(n),\"mce-match-marker-selected\"),e.selection.scrollIntoView(o[0]),n):-1}function s(t){var n=e.dom,i=t.parentNode;n.remove(t),n.isEmpty(i)&&n.remove(i)}function u(e){var t=o(e);return null!==t&&t.length>0}var d=this,f=-1;d.init=function(e){e.addMenuItem(\"searchreplace\",{text:\"Find and replace\",shortcut:\"Meta+F\",onclick:i,separator:\"before\",context:\"edit\"}),e.addButton(\"searchreplace\",{tooltip:\"Find and replace\",shortcut:\"Meta+F\",onclick:i}),e.addCommand(\"SearchReplace\",i),e.shortcuts.add(\"Meta+F\",\"\",i)},d.find=function(e,t,n){e=e.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g,\"\\\\$&\"),e=n?\"\\\\b\"+e+\"\\\\b\":e;var i=r(new RegExp(e,t?\"g\":\"gi\"));return i&&(f=-1,f=c(!0)),i},d.next=function(){var e=c(!0);-1!==e&&(f=e)},d.prev=function(){var e=c(!1);-1!==e&&(f=e)},d.replace=function(n,i,r){var c,m,g,p,h,v,y=f;for(i=!1!==i,g=e.getBody(),m=t.grep(t.toArray(g.getElementsByTagName(\"span\")),u),c=0;c<m.length;c++){var b=o(m[c]);if(p=h=parseInt(b,10),r||p===f){for(n.length?(m[c].firstChild.nodeValue=n,a(m[c])):s(m[c]);m[++c];){if((p=parseInt(o(m[c]),10))!==h){c--;break}s(m[c])}i&&y--}else h>f&&m[c].setAttribute(\"data-mce-index\",h-1)}return e.undoManager.add(),f=y,i?(v=l(y+1).length>0,d.next()):(v=l(y-1).length>0,d.prev()),!r&&v},d.done=function(n){var i,r,l,c;for(r=t.toArray(e.getBody().getElementsByTagName(\"span\")),i=0;i<r.length;i++){var s=o(r[i]);null!==s&&s.length&&(s===f.toString()&&(l||(l=r[i].firstChild),c=r[i].firstChild),a(r[i]))}if(l&&c){var u=e.dom.createRng();return u.setStart(l,0),u.setEnd(c,c.data.length),!1!==n&&e.selection.setRng(u),u}}}return e.add(\"searchreplace\",i),function(){}}),i(\"tinymce.plugins.searchreplace.Plugin\")()}()},{}],47:[function(e,t,n){e(\"./plugin.js\")},{\"./plugin.js\":48}],48:[function(e,t,n){!function(){var e={},t=function(t){for(var n=e[t],o=n.deps,r=n.defn,a=o.length,l=new Array(a),c=0;c<a;++c)l[c]=i(o[c]);var s=r.apply(null,l);if(void 0===s)throw\"module [\"+t+\"] returned undefined\";n.instance=s},n=function(t,n,i){if(\"string\"!=typeof t)throw\"module id must be a string\";if(void 0===n)throw\"no dependencies for \"+t;if(void 0===i)throw\"no definition function for \"+t;e[t]={deps:n,defn:i,instance:void 0}},i=function(n){var i=e[n];if(void 0===i)throw\"module [\"+n+\"] was undefined\";return void 0===i.instance&&t(n),i.instance},o=function(e,t){for(var n=e.length,o=new Array(n),r=0;r<n;++r)o.push(i(e[r]));t.apply(null,t)};({}).bolt={module:{api:{define:n,require:o,demand:i}}};var r=n;r(\"tinymce.plugins.spellchecker.core.DomTextMatcher\",[],function(){function e(e){return e&&1==e.nodeType&&\"false\"===e.contentEditable}return function(t,n){function i(e,t){if(!e[0])throw\"findAndReplaceDOMText cannot handle zero-length matches\";return{start:e.index,end:e.index+e[0].length,text:e[0],data:t}}function o(t){var n;if(3===t.nodeType)return t.data;if(N[t.nodeName]&&!T[t.nodeName])return\"\";if(e(t))return\"\\n\";if(n=\"\",(T[t.nodeName]||k[t.nodeName])&&(n+=\"\\n\"),t=t.firstChild)do{n+=o(t)}while(t=t.nextSibling);return n}function r(t,n,i){var o,r,a,l,c,s=[],u=0,d=t,f=0;n=n.slice(0),n.sort(function(e,t){return e.start-t.start}),c=n.shift();e:for(;;){if((T[d.nodeName]||k[d.nodeName]||e(d))&&u++,3===d.nodeType&&(!r&&d.length+u>=c.end?(r=d,l=c.end-u):o&&s.push(d),!o&&d.length+u>c.start&&(o=d,a=c.start-u),u+=d.length),o&&r){if(d=i({startNode:o,startNodeIndex:a,endNode:r,endNodeIndex:l,innerNodes:s,match:c.text,matchIndex:f}),u-=r.length-l,o=null,r=null,s=[],c=n.shift(),f++,!c)break}else if(N[d.nodeName]&&!T[d.nodeName]||!d.firstChild){if(d.nextSibling){d=d.nextSibling;continue}}else if(!e(d)){d=d.firstChild;continue}for(;;){if(d.nextSibling){d=d.nextSibling;break}if(d.parentNode===t)break e;d=d.parentNode}}}function a(e){function t(t,n){var i=S[n];i.stencil||(i.stencil=e(i));var o=i.stencil.cloneNode(!1);return o.setAttribute(\"data-mce-index\",n),t&&o.appendChild(M.doc.createTextNode(t)),o}return function(e){var n,i,o,r=e.startNode,a=e.endNode,l=e.matchIndex,c=M.doc;if(r===a){var s=r;o=s.parentNode,e.startNodeIndex>0&&(n=c.createTextNode(s.data.substring(0,e.startNodeIndex)),o.insertBefore(n,s));var u=t(e.match,l);return o.insertBefore(u,s),e.endNodeIndex<s.length&&(i=c.createTextNode(s.data.substring(e.endNodeIndex)),o.insertBefore(i,s)),s.parentNode.removeChild(s),u}n=c.createTextNode(r.data.substring(0,e.startNodeIndex)),i=c.createTextNode(a.data.substring(e.endNodeIndex));for(var d=t(r.data.substring(e.startNodeIndex),l),f=[],m=0,g=e.innerNodes.length;m<g;++m){var p=e.innerNodes[m],h=t(p.data,l);p.parentNode.replaceChild(h,p),f.push(h)}var v=t(a.data.substring(0,e.endNodeIndex),l);return o=r.parentNode,o.insertBefore(n,r),o.insertBefore(d,r),o.removeChild(r),o=a.parentNode,o.insertBefore(v,a),o.insertBefore(i,a),o.removeChild(a),v}}function l(e){e.parentNode.insertBefore(e.firstChild,e),e.parentNode.removeChild(e)}function c(e){var n=t.getElementsByTagName(\"*\"),i=[];e=\"number\"==typeof e?\"\"+e:null;for(var o=0;o<n.length;o++){var r=n[o],a=r.getAttribute(\"data-mce-index\");null!==a&&a.length&&(a!==e&&null!==e||i.push(r))}return i}function s(e){for(var t=S.length;t--;)if(S[t]===e)return t;return-1}function u(e){var t=[];return d(function(n,i){e(n,i)&&t.push(n)}),S=t,this}function d(e){for(var t=0,n=S.length;t<n&&!1!==e(S[t],t);t++);return this}function f(e){return S.length&&r(t,S,a(e)),this}function m(e,t){if(C&&e.global)for(;x=e.exec(C);)S.push(i(x,t));return this}function g(e){var t,n=c(e?s(e):null);for(t=n.length;t--;)l(n[t]);return this}function p(e){return S[e.getAttribute(\"data-mce-index\")]}function h(e){return c(s(e))[0]}function v(e,t,n){return S.push({start:e,end:e+t,text:C.substr(e,t),data:n}),this}function y(e){var t=c(s(e)),i=n.dom.createRng();return i.setStartBefore(t[0]),i.setEndAfter(t[t.length-1]),i}function b(e,t){var i=y(e);return i.deleteContents(),t.length>0&&i.insertNode(n.dom.doc.createTextNode(t)),i}function w(){return S.splice(0,S.length),g(),this}var x,C,T,N,k,S=[],M=n.dom;return T=n.schema.getBlockElements(),N=n.schema.getWhiteSpaceElements(),k=n.schema.getShortEndedElements(),C=o(t),{text:C,matches:S,each:d,filter:u,reset:w,matchFromElement:p,elementFromMatch:h,find:m,add:v,wrap:f,unwrap:g,replace:b,rangeFromMatch:y,indexOf:s}}}),function(e,t){r(e,[],function(){return t})}(\"global!tinymce.util.Tools.resolve\",tinymce.util.Tools.resolve),r(\"tinymce.core.PluginManager\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.PluginManager\")}),r(\"tinymce.core.util.Tools\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.util.Tools\")}),r(\"tinymce.core.ui.Menu\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.ui.Menu\")}),r(\"tinymce.core.dom.DOMUtils\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.dom.DOMUtils\")}),r(\"tinymce.core.util.XHR\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.util.XHR\")}),r(\"tinymce.core.util.URI\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.util.URI\")}),r(\"tinymce.core.util.JSON\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.util.JSON\")}),r(\"tinymce.plugins.spellchecker.Plugin\",[\"tinymce.plugins.spellchecker.core.DomTextMatcher\",\"tinymce.core.PluginManager\",\"tinymce.core.util.Tools\",\"tinymce.core.ui.Menu\",\"tinymce.core.dom.DOMUtils\",\"tinymce.core.util.XHR\",\"tinymce.core.util.URI\",\"tinymce.core.util.JSON\"],function(e,t,n,i,o,r,a,l){return t.add(\"spellchecker\",function(c,s){function u(){return E.textMatcher||(E.textMatcher=new e(c.getBody(),c)),E.textMatcher}function d(e){for(var t in e)return!1;return!0}function f(e,t){var r=[],a=S[e];n.each(a,function(e){r.push({text:e,onclick:function(){c.insertContent(c.dom.encode(e)),c.dom.remove(t),v()}})}),r.push({text:\"-\"}),P&&r.push({text:\"Add to Dictionary\",onclick:function(){y(e,t)}}),r.push.apply(r,[{text:\"Ignore\",onclick:function(){b(e,t)}},{text:\"Ignore all\",onclick:function(){b(e,t,!0)}}]),A=new i({items:r,context:\"contextmenu\",onautohide:function(e){-1!=e.target.className.indexOf(\"spellchecker\")&&e.preventDefault()},onhide:function(){A.remove(),A=null}}),A.renderTo(document.body);var l=o.DOM.getPos(c.getContentAreaContainer()),s=c.dom.getPos(t[0]),u=c.dom.getRoot();\"BODY\"==u.nodeName?(s.x-=u.ownerDocument.documentElement.scrollLeft||u.scrollLeft,s.y-=u.ownerDocument.documentElement.scrollTop||u.scrollTop):(s.x-=u.scrollLeft,s.y-=u.scrollTop),l.x+=s.x,l.y+=s.y,A.moveTo(l.x,l.y+t[0].offsetHeight)}function m(){return c.getParam(\"spellchecker_wordchar_pattern\")||new RegExp('[^\\\\s!\"#$%&()*+,-./:;<=>?@[\\\\]^_{|}`§©«®±¶·¸»¼½¾¿×÷¤”“„    ]+',\"g\")}function g(e,t,i,o){var u={method:e,lang:R.spellchecker_language},d=\"\";u[\"addToDictionary\"==e?\"word\":\"text\"]=t,n.each(u,function(e,t){d&&(d+=\"&\"),d+=t+\"=\"+encodeURIComponent(e)}),r.send({url:new a(s).toAbsolute(R.spellchecker_rpc_url),type:\"post\",content_type:\"application/x-www-form-urlencoded\",data:d,success:function(e){if(e=l.parse(e))e.error?o(e.error):i(e);else{var t=c.translate(\"Server response wasn't proper JSON.\");o(t)}},error:function(){var e=c.translate(\"The spelling service was not found: (\")+R.spellchecker_rpc_url+c.translate(\")\");o(e)}})}function p(e,t,n,i){(R.spellchecker_callback||g).call(E,e,t,n,i)}function h(){function e(e){c.notificationManager.open({text:e,type:\"error\"}),c.setProgressState(!1),w()}w()||(c.setProgressState(!0),p(\"spellcheck\",u().text,N,e),c.focus())}function v(){c.dom.select(\"span.mce-spellchecker-word\").length||w()}function y(e,t){c.setProgressState(!0),p(\"addToDictionary\",e,function(){c.setProgressState(!1),c.dom.remove(t,!0),v()},function(e){c.notificationManager.open({text:e,type:\"error\"}),c.setProgressState(!1)})}function b(e,t,i){c.selection.collapse(),i?n.each(c.dom.select(\"span.mce-spellchecker-word\"),function(t){t.getAttribute(\"data-mce-word\")==e&&c.dom.remove(t,!0)}):c.dom.remove(t,!0),v()}function w(){if(u().reset(),E.textMatcher=null,M)return M=!1,c.fire(\"SpellcheckEnd\"),!0}function x(e){var t=e.getAttribute(\"data-mce-index\");return\"number\"==typeof t?\"\"+t:t}function C(e){var t,i=[];if(t=n.toArray(c.getBody().getElementsByTagName(\"span\")),t.length)for(var o=0;o<t.length;o++){var r=x(t[o]);null!==r&&r.length&&(r===e.toString()&&i.push(t[o]))}return i}function T(e){var t=R.spellchecker_language;e.control.items().each(function(e){e.active(e.settings.data===t)})}function N(e){var t;if(e.words?(P=!!e.dictionary,t=e.words):t=e,c.setProgressState(!1),d(t)){var n=c.translate(\"No misspellings found.\");return c.notificationManager.open({text:n,type:\"info\"}),void(M=!1)}S=t,u().find(m()).filter(function(e){return!!t[e.text]}).wrap(function(e){return c.dom.create(\"span\",{class:\"mce-spellchecker-word\",\"data-mce-bogus\":1,\"data-mce-word\":e.text})}),M=!0,c.fire(\"SpellcheckStart\")}var k,S,M,A,P,E=this,R=c.settings;if(/(^|[ ,])tinymcespellchecker([, ]|$)/.test(R.plugins)&&t.get(\"tinymcespellchecker\"))return void(\"undefined\"!=typeof console&&console.log&&console.log(\"Spell Checker Pro is incompatible with Spell Checker plugin! Remove 'spellchecker' from the 'plugins' option.\"));var B=R.spellchecker_languages||\"English=en,Danish=da,Dutch=nl,Finnish=fi,French=fr_FR,German=de,Italian=it,Polish=pl,Portuguese=pt_BR,Spanish=es,Swedish=sv\";k=function(e,t){var i=[];return n.each(t,function(e){i.push({selectable:!0,text:e.name,data:e.value})}),i}(\"Language\",n.map(B.split(\",\"),function(e){return e=e.split(\"=\"),{name:e[0],value:e[1]}})),c.on(\"click\",function(e){var t=e.target;if(\"mce-spellchecker-word\"==t.className){e.preventDefault();var n=C(x(t));if(n.length>0){var i=c.dom.createRng();i.setStartBefore(n[0]),i.setEndAfter(n[n.length-1]),c.selection.setRng(i),f(t.getAttribute(\"data-mce-word\"),n)}}}),c.addMenuItem(\"spellchecker\",{text:\"Spellcheck\",context:\"tools\",onclick:h,selectable:!0,onPostRender:function(){var e=this;e.active(M),c.on(\"SpellcheckStart SpellcheckEnd\",function(){e.active(M)})}});var D={tooltip:\"Spellcheck\",onclick:h,onPostRender:function(){var e=this;c.on(\"SpellcheckStart SpellcheckEnd\",function(){e.active(M)})}};k.length>1&&(D.type=\"splitbutton\",D.menu=k,D.onshow=T,D.onselect=function(e){R.spellchecker_language=e.control.settings.data}),c.addButton(\"spellchecker\",D),c.addCommand(\"mceSpellCheck\",h),c.on(\"remove\",function(){A&&(A.remove(),A=null)}),c.on(\"change\",v),this.getTextMatcher=u,this.getWordCharPattern=m,this.markErrors=N,this.getLanguage=function(){return R.spellchecker_language},R.spellchecker_language=R.spellchecker_language||R.language||\"en\"}),function(){}}),i(\"tinymce.plugins.spellchecker.Plugin\")()}()},{}],49:[function(e,t,n){e(\"./plugin.js\")},{\"./plugin.js\":50}],50:[function(e,t,n){!function(){var e={},t=function(t){for(var n=e[t],o=n.deps,r=n.defn,a=o.length,l=new Array(a),c=0;c<a;++c)l[c]=i(o[c]);var s=r.apply(null,l);if(void 0===s)throw\"module [\"+t+\"] returned undefined\";n.instance=s},n=function(t,n,i){if(\"string\"!=typeof t)throw\"module id must be a string\";if(void 0===n)throw\"no dependencies for \"+t;if(void 0===i)throw\"no definition function for \"+t;e[t]={deps:n,defn:i,instance:void 0}},i=function(n){var i=e[n];if(void 0===i)throw\"module [\"+n+\"] was undefined\";return void 0===i.instance&&t(n),i.instance},o=function(e,t){for(var n=e.length,o=new Array(n),r=0;r<n;++r)o.push(i(e[r]));t.apply(null,t)};({}).bolt={module:{api:{define:n,require:o,demand:i}}};var r=n;!function(e,t){r(e,[],function(){return t})}(\"global!tinymce.util.Tools.resolve\",tinymce.util.Tools.resolve),r(\"tinymce.core.util.Tools\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.util.Tools\")}),r(\"tinymce.core.Env\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.Env\")}),r(\"tinymce.plugins.table.util.Utils\",[\"tinymce.core.Env\"],function(e){function t(t){(!e.ie||e.ie>9)&&(t.hasChildNodes()||(t.innerHTML='<br data-mce-bogus=\"1\" />'))}var n=function(e){return function(t,n){t&&(n=parseInt(n,10),1===n||0===n?t.removeAttribute(e,1):t.setAttribute(e,n,1))}},i=function(e){return function(t){return parseInt(t.getAttribute(e)||1,10)}};return{setColSpan:n(\"colSpan\"),setRowSpan:n(\"rowspan\"),getColSpan:i(\"colSpan\"),getRowSpan:i(\"rowSpan\"),setSpanVal:function(e,t,i){n(t)(e,i)},getSpanVal:function(e,t){return i(t)(e)},paddCell:t}}),r(\"tinymce.plugins.table.model.SplitCols\",[\"tinymce.core.util.Tools\",\"tinymce.plugins.table.util.Utils\"],function(e,t){var n=function(e,t,n){return e[n]?e[n][t]:null},i=function(e,t,i){var o=n(e,t,i);return o?o.elm:null},o=function(e,t,o,r){var a,l,c=0,s=i(e,t,o);for(a=o;(r>0?a<e.length:a>=0)&&(l=n(e,t,a),s===l.elm);a+=r)c++;return c},r=function(e,t,n){for(var i,o=e[n],r=t;r<o.length;r++)if(i=o[r],i.real)return i.elm;return null},a=function(e,n){for(var i,r=[],a=e[n],l=0;l<a.length;l++)i=a[l],r.push({elm:i.elm,above:o(e,l,n,-1)-1,below:o(e,l,n,1)-1}),l+=t.getColSpan(i.elm)-1;return r},l=function(e,n){var i=e.elm.ownerDocument,o=i.createElement(\"td\");return t.setColSpan(o,t.getColSpan(e.elm)),t.setRowSpan(o,n),t.paddCell(o),o},c=function(e,t,n,i){var o=r(e,n+1,i);o?o.parentNode.insertBefore(t,o):(o=r(e,0,i),o.parentNode.appendChild(t))},s=function(e,n,i,o){if(0!==n.above){t.setRowSpan(n.elm,n.above);var r=l(n,n.below+1);return c(e,r,i,o),r}return null},u=function(e,n,i,o){if(0!==n.below){t.setRowSpan(n.elm,n.above+1);var r=l(n,n.below);return c(e,r,i,o+1),r}return null};return{splitAt:function(t,n,o,r){var l=a(t,o),c=i(t,n,o).parentNode,d=[];return e.each(l,function(e,n){null!==(r?s(t,e,n,o):u(t,e,n,o))&&d.push(d)}),{cells:d,row:c}}}}),r(\"tinymce.plugins.table.model.TableGrid\",[\"tinymce.core.util.Tools\",\"tinymce.core.Env\",\"tinymce.plugins.table.util.Utils\",\"tinymce.plugins.table.model.SplitCols\"],function(e,t,n,i){var o=e.each,r=n.getSpanVal,a=n.setSpanVal;return function(l,c,s){function u(){l.$(\"td[data-mce-selected],th[data-mce-selected]\").removeAttr(\"data-mce-selected\")}function d(e){return e===l.getBody()}function f(t,n){return t?(n=e.map(n.split(\",\"),function(e){return e.toLowerCase()}),e.grep(t.childNodes,function(t){return-1!==e.inArray(n,t.nodeName.toLowerCase())})):[]}function m(){var e=0;G=[],X=0,o([\"thead\",\"tbody\",\"tfoot\"],function(t){var n=f(c,t)[0],i=f(n,\"tr\");o(i,function(n,i){i+=e,o(f(n,\"td,th\"),function(e,n){var o,a,l,c;if(G[i])for(;G[i][n];)n++;for(l=r(e,\"rowspan\"),c=r(e,\"colspan\"),a=i;a<i+l;a++)for(G[a]||(G[a]=[]),o=n;o<n+c;o++)G[a][o]={part:t,real:a==i&&o==n,elm:e,rowspan:l,colspan:c};X=Math.max(X,n+1)})}),e+=i.length})}function g(e){return l.fire(\"newrow\",{node:e}),e}function p(e){return l.fire(\"newcell\",{node:e}),e}function h(e,t){return e=e.cloneNode(t),e.removeAttribute(\"id\"),e}function v(e,t){var n;if(n=G[t])return n[e]}function y(e,t){return e[t]?e[t]:null}function b(e,t){for(var n=[],i=0;i<e.length;i++)n.push(v(t,i));return n}function w(e){return e&&(!!te.getAttrib(e.elm,\"data-mce-selected\")||e==s)}function x(){var e=[];return o(c.rows,function(t){o(t.cells,function(n){if(te.getAttrib(n,\"data-mce-selected\")||s&&n==s.elm)return e.push(t),!1})}),e}function C(){var e=0;return o(G,function(t){if(o(t,function(t){w(t)&&e++}),e)return!1}),e}function T(){var e=te.createRng();d(c)||(e.setStartAfter(c),e.setEndAfter(c),ee.setRng(e),te.remove(c))}function N(i){var r,c={};return!1!==l.settings.table_clone_elements&&(c=e.makeMap((l.settings.table_clone_elements||\"strong em b i span font h1 h2 h3 h4 h5 h6 p div\").toUpperCase(),/[ ,]/)),e.walk(i,function(e){var n;if(3==e.nodeType)return o(te.getParents(e.parentNode,null,i).reverse(),function(e){c[e.nodeName]&&(e=h(e,!1),r?n&&n.appendChild(e):r=n=e,n=e)}),n&&(n.innerHTML=t.ie&&t.ie<10?\"&nbsp;\":'<br data-mce-bogus=\"1\" />'),!1},\"childNodes\"),i=h(i,!1),p(i),a(i,\"rowSpan\",1),a(i,\"colSpan\",1),r?i.appendChild(r):n.paddCell(i),i}function k(){var e,t=te.createRng();if(o(te.select(\"tr\",c),function(e){0===e.cells.length&&te.remove(e)}),0===te.select(\"tr\",c).length)return t.setStartBefore(c),t.setEndBefore(c),ee.setRng(t),void te.remove(c);o(te.select(\"thead,tbody,tfoot\",c),function(e){0===e.rows.length&&te.remove(e)}),m(),Q&&(e=G[Math.min(G.length-1,Q.y)])&&(ee.select(e[Math.min(e.length-1,Q.x)].elm,!0),ee.collapse(!0))}function S(e,t,n,i){var o,r,a,l,c;for(o=G[t][e].elm.parentNode,a=1;a<=n;a++)if(o=te.getNext(o,\"tr\")){for(r=e;r>=0;r--)if(c=G[t+a][r].elm,c.parentNode==o){for(l=1;l<=i;l++)te.insertAfter(N(c),c);break}\nif(-1==r)for(l=1;l<=i;l++)o.insertBefore(N(o.cells[0]),o.cells[0])}}function M(){o(G,function(e,t){o(e,function(e,n){var i,o,l;if(w(e)&&(e=e.elm,i=r(e,\"colspan\"),o=r(e,\"rowspan\"),i>1||o>1)){for(a(e,\"rowSpan\",1),a(e,\"colSpan\",1),l=0;l<i-1;l++)te.insertAfter(N(e),e);S(n,t,o-1,i)}})})}function A(e,t,n){for(var i=[],o=0;o<e.length;o++)(o<t||o>n)&&i.push(e[o]);return i}function P(t){return e.grep(t,function(e){return!1===e.real})}function E(e){for(var t=[],n=0;n<e.length;n++){var i=e[n].elm;t[t.length-1]!==i&&t.push(i)}return t}function R(t,i,o,r,a){var l=0;if(a-o<1)return 0;for(var c=o+1;c<=a;c++){var s=A(y(t,c),i,r),u=P(s);s.length===u.length&&(e.each(E(u),function(e){n.setRowSpan(e,n.getRowSpan(e)-1)}),l++)}return l}function B(t,i,o,r,a){var l=0;if(r-i<1)return 0;for(var c=i+1;c<=r;c++){var s=A(b(t,c),o,a),u=P(s);s.length===u.length&&(e.each(E(u),function(e){n.setColSpan(e,n.getColSpan(e)-1)}),l++)}return l}function D(t,n,i){var r,l,c,s,u,d,f,g,p,h,y,b,x;if(t?(r=V(t),l=r.x,c=r.y,s=l+(n-1),u=c+(i-1)):(Q=Z=null,o(G,function(e,t){o(e,function(e,n){w(e)&&(Q||(Q={x:n,y:t}),Z={x:n,y:t})})}),Q&&(l=Q.x,c=Q.y,s=Z.x,u=Z.y)),g=v(l,c),p=v(s,u),g&&p&&g.part==p.part){M(),m(),b=R(G,l,c,s,u),x=B(G,l,c,s,u),g=v(l,c).elm;var C=s-l-x+1,T=u-c-b+1;for(C===X&&T===G.length&&(C=1,T=1),C===X&&T>1&&(T=1),a(g,\"colSpan\",C),a(g,\"rowSpan\",T),f=c;f<=u;f++)for(d=l;d<=s;d++)G[f]&&G[f][d]&&(t=G[f][d].elm)!=g&&(h=e.grep(t.childNodes),o(h,function(e){g.appendChild(e)}),h.length&&(h=e.grep(g.childNodes),y=0,o(h,function(e){\"BR\"==e.nodeName&&y++<h.length-1&&g.removeChild(e)})),te.remove(t));k()}}function I(e){var t,n,i,l,c,s,u,d,f,m;if(o(G,function(n,i){if(o(n,function(n){if(w(n)&&(n=n.elm,c=n.parentNode,s=g(h(c,!1)),t=i,e))return!1}),e)return void 0===t}),void 0!==t){for(l=0,m=0;l<G[0].length;l+=m)if(G[t][l]&&(n=G[t][l].elm,m=r(n,\"colspan\"),n!=i)){if(e){if(t>0&&G[t-1][l]&&(d=G[t-1][l].elm,(f=r(d,\"rowSpan\"))>1)){a(d,\"rowSpan\",f+1);continue}}else if((f=r(n,\"rowspan\"))>1){a(n,\"rowSpan\",f+1);continue}u=N(n),a(u,\"colSpan\",n.colSpan),s.appendChild(u),i=n}s.hasChildNodes()&&(e?c.parentNode.insertBefore(s,c):te.insertAfter(s,c))}}function _(e,t){t=t||x().length||1;for(var n=0;n<t;n++)I(e)}function L(e){var t,n;o(G,function(n){if(o(n,function(n,i){if(w(n)&&(t=i,e))return!1}),e)return void 0===t}),o(G,function(i,o){var l,c,s;i[t]&&(l=i[t].elm)!=n&&(s=r(l,\"colspan\"),c=r(l,\"rowspan\"),1==s?e?(l.parentNode.insertBefore(N(l),l),S(t,o,c-1,s)):(te.insertAfter(N(l),l),S(t,o,c-1,s)):a(l,\"colSpan\",l.colSpan+1),n=l)})}function O(e,t){t=t||C()||1;for(var n=0;n<t;n++)L(e)}function F(t){return e.grep(U(t),w)}function U(e){var t=[];return o(e,function(e){o(e,function(e){t.push(e)})}),t}function j(){var t=[];if(d(c)){if(1==G[0].length)return;if(F(G).length==U(G).length)return}o(G,function(n){o(n,function(n,i){w(n)&&-1===e.inArray(t,i)&&(o(G,function(e){var t,n=e[i].elm;t=r(n,\"colSpan\"),t>1?a(n,\"colSpan\",t-1):te.remove(n)}),t.push(i))})}),k()}function H(){function e(e){var t,n;o(e.cells,function(e){var n=r(e,\"rowSpan\");n>1&&(a(e,\"rowSpan\",n-1),t=V(e),S(t.x,t.y,1,1))}),t=V(e.cells[0]),o(G[t.y],function(e){var t;(e=e.elm)!=n&&(t=r(e,\"rowSpan\"),t<=1?te.remove(e):a(e,\"rowSpan\",t-1),n=e)})}var t;t=x(),d(c)&&t.length==c.rows.length||(o(t.reverse(),function(t){e(t)}),k())}function z(){var e=x();if(!d(c)||e.length!=c.rows.length)return te.remove(e),k(),e}function W(){var e=x();return o(e,function(t,n){e[n]=h(t,!0)}),e}function q(t,n){var l,c,s,d=[];t&&(l=i.splitAt(G,Q.x,Q.y,n),c=l.row,e.each(l.cells,p),s=e.map(t,function(e){return e.cloneNode(!0)}),o(s,function(e,t,i){var l,s,u,f,m=e.cells.length,h=0;for(g(e),l=0;l<m;l++)s=e.cells[l],f=r(s,\"colspan\"),u=r(s,\"rowspan\"),h+=f,u>1&&(h--,t+u>i.length?(u=i.length-t,a(s,\"rowSpan\",u),d.push(i.length-1)):d.push(t+u-1)),p(s);for(o(d,function(e){t<=e&&h++}),l=h;l<X;l++)e.appendChild(N(e.cells[m-1]));for(l=X;l<h;l++)s=e.cells[e.cells.length-1],f=r(s,\"colspan\"),f>1?a(s,\"colSpan\",f-1):te.remove(s);n?c.parentNode.insertBefore(e,c):c=te.insertAfter(e,c)}),u())}function V(e){var t;return o(G,function(n,i){return o(n,function(n,o){if(n.elm==e)return t={x:o,y:i},!1}),!t}),t}function $(e){Q=V(e)}function J(e){var t,n,i,o,r,a,l,c,s,d;if(Z=V(e),Q&&Z){for(t=Math.min(Q.x,Z.x),n=Math.min(Q.y,Z.y),i=Math.max(Q.x,Z.x),o=Math.max(Q.y,Z.y),r=i,a=o,d=n;d<=o;d++)for(s=t;s<=i;s++)e=G[d][s],e.real&&(l=e.colspan-1,c=e.rowspan-1,l&&s+l>r&&(r=s+l),c&&d+c>a&&(a=d+c));for(u(),d=n;d<=a;d++)for(s=t;s<=r;s++)G[d][s]&&te.setAttrib(G[d][s].elm,\"data-mce-selected\",\"1\")}}function K(e,t){var n,i,o;n=V(e),i=n.y*X+n.x;do{if(i+=t,!(o=v(i%X,Math.floor(i/X))))break;if(o.elm!=e)return ee.select(o.elm,!0),te.isEmpty(o.elm)&&ee.collapse(!0),!0}while(o.elm==e);return!1}function Y(t){if(Q){var n=i.splitAt(G,Q.x,Q.y,t);e.each(n.cells,p)}}var G,X,Q,Z,ee=l.selection,te=ee.dom;c=c||te.getParent(ee.getStart(!0),\"table\"),m(),s=s||te.getParent(ee.getStart(!0),\"th,td\"),s&&(Q=V(s),Z=function(){var e,t;return e=t=0,o(G,function(n,i){o(n,function(n,o){var r,a;w(n)&&(n=G[i][o],o>e&&(e=o),i>t&&(t=i),n.real&&(r=n.colspan-1,a=n.rowspan-1,r&&o+r>e&&(e=o+r),a&&i+a>t&&(t=i+a)))})}),{x:e,y:t}}(),s=v(Q.x,Q.y)),e.extend(this,{deleteTable:T,split:M,merge:D,insertRow:I,insertRows:_,insertCol:L,insertCols:O,splitCols:Y,deleteCols:j,deleteRows:H,cutRows:z,copyRows:W,pasteRows:q,getPos:V,setStartCell:$,setEndCell:J,moveRelIdx:K,refresh:m})}}),r(\"tinymce.core.util.VK\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.util.VK\")}),r(\"tinymce.core.util.Delay\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.util.Delay\")}),r(\"tinymce.plugins.table.util.Quirks\",[\"tinymce.core.util.VK\",\"tinymce.core.util.Delay\",\"tinymce.core.Env\",\"tinymce.core.util.Tools\",\"tinymce.plugins.table.util.Utils\"],function(e,t,n,i,o){var r=i.each,a=o.getSpanVal;return function(l){function c(){function e(e,t){var n,i=t.ownerDocument,o=i.createRange();return o.setStartBefore(t),o.setEnd(e.endContainer,e.endOffset),n=i.createElement(\"body\"),n.appendChild(o.cloneContents()),0===n.innerHTML.replace(/<(br|img|object|embed|input|textarea)[^>]*>/gi,\"-\").replace(/<[^>]+>/g,\"\").length}l.on(\"KeyDown\",function(t){var n,i,o=l.dom;37!=t.keyCode&&38!=t.keyCode||(n=l.selection.getRng(),(i=o.getParent(n.startContainer,\"table\"))&&l.getBody().firstChild==i&&e(n,i)&&(n=o.createRng(),n.setStartBefore(i),n.setEndBefore(i),l.selection.setRng(n),t.preventDefault()))})}function s(){l.on(\"KeyDown SetContent VisualAid\",function(){var e;for(e=l.getBody().lastChild;e;e=e.previousSibling)if(3==e.nodeType){if(e.nodeValue.length>0)break}else if(1==e.nodeType&&(\"BR\"==e.tagName||!e.getAttribute(\"data-mce-bogus\")))break;e&&\"TABLE\"==e.nodeName&&(l.settings.forced_root_block?l.dom.add(l.getBody(),l.settings.forced_root_block,l.settings.forced_root_block_attrs,n.ie&&n.ie<10?\"&nbsp;\":'<br data-mce-bogus=\"1\" />'):l.dom.add(l.getBody(),\"br\",{\"data-mce-bogus\":\"1\"}))}),l.on(\"PreProcess\",function(e){var t=e.node.lastChild;t&&(\"BR\"==t.nodeName||1==t.childNodes.length&&(\"BR\"==t.firstChild.nodeName||\" \"==t.firstChild.nodeValue))&&t.previousSibling&&\"TABLE\"==t.previousSibling.nodeName&&l.dom.remove(t)})}!function(){var t=function(e){return l.dom.isEmpty(e)||e.firstChild===e.lastChild&&o(e.firstChild)},n=function(e){return e&&\"CAPTION\"==e.nodeName&&\"TABLE\"==e.parentNode.nodeName},i=function(e,t){var n=t.firstChild;do{if(n===e)return!0}while(n=n.firstChild);return!1},o=function(e){if(3===e.nodeType){if(\"\\ufeff\"===e.data)return!0;e=e.parentNode}return 1===e.nodeType&&e.hasAttribute(\"data-mce-caret\")},r=function(e){var t=l.selection.getRng();return!t.startOffset&&!t.startContainer.previousSibling&&i(t.startContainer,e)},a=function(e,t){var n;n=t?l.dom.create(\"p\",{\"data-mce-caret\":\"after\",\"data-mce-bogus\":\"all\"},'<br data-mce-bogus=\"1\">'):e.ownerDocument.createTextNode(\"\\ufeff\"),e.appendChild(n)},c=function(e,n){var i=e.lastChild,r=l.selection.getRng(),c=r.startContainer,s=r.startOffset;t(e)?(e.innerHTML=\"\\ufeff\",c=e.lastChild,s=0):o(i)||a(e,l.dom.isBlock(i)),l.selection.setCursorLocation(c,s)},s=function(e){var t=l.selection.getRng(),n=l.dom.createRng(),o=e.firstChild;t.commonAncestorContainer===e.parentNode&&i(t.startContainer,e)&&(n.setStart(e,0),1===o.nodeType?n.setEnd(e,e.childNodes.length):n.setEnd(o,o.nodeValue.length),l.selection.setRng(n))};l.on(\"keydown\",function(i){if(!(i.keyCode!==e.DELETE&&i.keyCode!==e.BACKSPACE||i.isDefaultPrevented())){var o=l.dom.getParent(l.selection.getStart(),\"caption\");n(o)&&(l.selection.isCollapsed()?(c(o),(t(o)||i.keyCode===e.BACKSPACE&&r(o))&&i.preventDefault()):(s(o),l.undoManager.transact(function(){l.execCommand(\"Delete\"),c(o)}),i.preventDefault()))}})}(),function(){function t(e){l.selection.select(e,!0),l.selection.collapse(!0)}function n(e){l.$(e).empty(),o.paddCell(e)}l.on(\"keydown\",function(o){if((o.keyCode==e.DELETE||o.keyCode==e.BACKSPACE)&&!o.isDefaultPrevented()){var r,a,c,s;if(r=l.dom.getParent(l.selection.getStart(),\"table\")){if(a=l.dom.select(\"td,th\",r),c=i.grep(a,function(e){return!!l.dom.getAttrib(e,\"data-mce-selected\")}),0===c.length)return s=l.dom.getParent(l.selection.getStart(),\"td,th\"),void(l.selection.isCollapsed()&&s&&l.dom.isEmpty(s)&&(o.preventDefault(),n(s),t(s)));o.preventDefault(),l.undoManager.transact(function(){a.length==c.length?l.execCommand(\"mceTableDelete\"):(i.each(c,n),t(c[0]))})}}})}(),n.webkit&&(function(){function n(n){function i(e,t){var i=e?\"previousSibling\":\"nextSibling\",r=l.dom.getParent(t,\"tr\"),a=r[i];if(a)return p(l,t,a,e),n.preventDefault(),!0;var c=l.dom.getParent(r,\"table\"),d=r.parentNode,f=d.nodeName.toLowerCase();if(\"tbody\"===f||f===(e?\"tfoot\":\"thead\")){var m=o(e,c,d,\"tbody\");if(null!==m)return s(e,m,t)}return u(e,r,i,c)}function o(e,t,n,i){var o=l.dom.select(\">\"+i,t),r=o.indexOf(n);return e&&0===r||!e&&r===o.length-1?c(e,t):-1===r?o[\"thead\"===n.tagName.toLowerCase()?0:o.length-1]:o[r+(e?-1:1)]}function c(e,t){var n=e?\"thead\":\"tfoot\",i=l.dom.select(\">\"+n,t);return 0!==i.length?i[0]:null}function s(e,t,i){var o=d(t,e);return o&&p(l,i,o,e),n.preventDefault(),!0}function u(e,t,o,r){var a=r[o];if(a)return f(a),!0;var c=l.dom.getParent(r,\"td,th\");return c?i(e,c,n):(f(d(t,!e)),n.preventDefault(),!1)}function d(e,t){var n=e&&e[t?\"lastChild\":\"firstChild\"];return n&&\"BR\"===n.nodeName?l.dom.getParent(n,\"td,th\"):n}function f(e){l.selection.setCursorLocation(e,0)}function m(e){for(var t=0,n=e;n.previousSibling;)n=n.previousSibling,t+=a(n,\"colspan\");return t}function g(e,t){var n=0,i=0;return r(e.children,function(e,o){if(n+=a(e,\"colspan\"),i=o,n>t)return!1}),i}function p(e,t,n,i){var o=m(l.dom.getParent(t,\"td,th\")),r=g(n,o),a=n.childNodes[r];f(d(a,i)||a)}function h(e){var t=l.selection.getNode(),n=l.dom.getParent(t,\"td,th\"),i=l.dom.getParent(e,\"td,th\");return n&&n!==i&&v(n,i)}function v(e,t){return l.dom.getParent(e,\"TABLE\")===l.dom.getParent(t,\"TABLE\")}var y=n.keyCode;if(function(){return y==e.UP||y==e.DOWN}()&&function(e){var t=e.selection.getNode();return null!==e.dom.getParent(t,\"tr\")}(l)){var b=l.selection.getNode();t.setEditorTimeout(l,function(){h(b)&&i(!n.shiftKey&&y===e.UP,b,n)},0)}}l.on(\"KeyDown\",function(e){n(e)})}(),function(){function e(e,t,n,i){var o,r,a,l=e.dom.getParent(t.startContainer,\"TABLE\");return l&&(o=l.parentNode),r=3==t.startContainer.nodeType&&0===t.startOffset&&0===t.endOffset&&i&&(\"TR\"==n.nodeName||n==o),a=(\"TD\"==n.nodeName||\"TH\"==n.nodeName)&&!i,r||a}function t(){var t=l.selection.getRng(),n=l.selection.getNode(),i=l.dom.getParent(t.startContainer,\"TD,TH\");if(e(l,t,n,i)){i||(i=n);for(var o=i.lastChild;o.lastChild;)o=o.lastChild;3==o.nodeType&&(t.setEnd(o,o.data.length),l.selection.setRng(t))}}l.on(\"KeyDown\",function(){t()}),l.on(\"MouseDown\",function(e){2!=e.button&&t()})}()),n.gecko&&(c(),s()),n.ie>9&&(c(),s())}}),r(\"tinymce.core.dom.TreeWalker\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.dom.TreeWalker\")}),r(\"tinymce.plugins.table.selection.CellSelection\",[\"tinymce.plugins.table.model.TableGrid\",\"tinymce.core.dom.TreeWalker\",\"tinymce.core.util.Tools\"],function(e,t,n){return function(i,o){function r(e){i.getBody().style.webkitUserSelect=\"\",(e||p)&&(i.$(\"td[data-mce-selected],th[data-mce-selected]\").removeAttr(\"data-mce-selected\"),p=!1)}function a(e,t){return!(!e||!t)&&e===g.getParent(t,\"table\")}function l(t){var n,r,l=t.target;if(!f&&!m&&l!==d&&(d=l,u&&s)){if(r=g.getParent(l,\"td,th\"),a(u,r)||(r=g.getParent(u,\"td,th\")),s===r&&!p)return;if(o(!0),a(u,r)){t.preventDefault(),c||(c=new e(i,u,s),i.getBody().style.webkitUserSelect=\"none\"),c.setEndCell(r),p=!0,n=i.selection.getSel();try{n.removeAllRanges?n.removeAllRanges():n.empty()}catch(e){}}}}var c,s,u,d,f,m,g=i.dom,p=!0,h=function(){s=c=u=d=null,o(!1)};return i.on(\"SelectionChange\",function(e){p&&e.stopImmediatePropagation()},!0),i.on(\"MouseDown\",function(e){2==e.button||f||m||(r(),s=g.getParent(e.target,\"td,th\"),u=g.getParent(s,\"table\"))}),i.on(\"mouseover\",l),i.on(\"remove\",function(){g.unbind(i.getDoc(),\"mouseover\",l),r()}),i.on(\"MouseUp\",function(){function e(e,i){var r=new t(e,e);do{if(3==e.nodeType&&0!==n.trim(e.nodeValue).length)return void(i?o.setStart(e,0):o.setEnd(e,e.nodeValue.length));if(\"BR\"==e.nodeName)return void(i?o.setStartBefore(e):o.setEndBefore(e))}while(e=i?r.next():r.prev())}var o,r,a,l,u,d=i.selection;if(s){if(c&&(i.getBody().style.webkitUserSelect=\"\"),r=g.select(\"td[data-mce-selected],th[data-mce-selected]\"),r.length>0){o=g.createRng(),l=r[0],o.setStartBefore(l),o.setEndAfter(l),e(l,1),a=new t(l,g.getParent(r[0],\"table\"));do{if(\"TD\"==l.nodeName||\"TH\"==l.nodeName){if(!g.getAttrib(l,\"data-mce-selected\"))break;u=l}}while(l=a.next());e(u),d.setRng(o)}i.nodeChanged(),h()}}),i.on(\"KeyUp Drop SetContent\",function(e){r(\"setcontent\"==e.type),h(),f=!1}),i.on(\"ObjectResizeStart ObjectResized\",function(e){f=\"objectresized\"!=e.type}),i.on(\"dragstart\",function(){m=!0}),i.on(\"drop dragend\",function(){m=!1}),{clear:r}}}),r(\"tinymce.plugins.table.ui.Dialogs\",[\"tinymce.core.util.Tools\",\"tinymce.core.Env\"],function(e,t){var n=e.each;return function(i){function o(){var e=i.settings.color_picker_callback;if(e)return function(){var t=this;e.call(i,function(e){t.value(e).fire(\"change\")},t.value())}}function r(e){return{title:\"Advanced\",type:\"form\",defaults:{onchange:function(){d(e,this.parents().reverse()[0],\"style\"==this.name())}},items:[{label:\"Style\",name:\"style\",type:\"textbox\"},{type:\"form\",padding:0,formItemDefaults:{layout:\"grid\",alignH:[\"start\",\"right\"]},defaults:{size:7},items:[{label:\"Border color\",type:\"colorbox\",name:\"borderColor\",onaction:o()},{label:\"Background color\",type:\"colorbox\",name:\"backgroundColor\",onaction:o()}]}]}}function a(e){return e?e.replace(/px$/,\"\"):\"\"}function l(e){return/^[0-9]+$/.test(e)&&(e+=\"px\"),e}function c(e){n(\"left center right\".split(\" \"),function(t){i.formatter.remove(\"align\"+t,{},e)})}function s(e){n(\"top middle bottom\".split(\" \"),function(t){i.formatter.remove(\"valign\"+t,{},e)})}function u(t,n,i){function o(t,i){return i=i||[],e.each(t,function(e){var t={text:e.text||e.title};e.menu?t.menu=o(e.menu):(t.value=e.value,n&&n(t)),i.push(t)}),i}return o(t,i||[])}function d(e,t,n){var i=t.toJSON(),o=e.parseStyle(i.style);n?(t.find(\"#borderColor\").value(o[\"border-color\"]||\"\")[0].fire(\"change\"),t.find(\"#backgroundColor\").value(o[\"background-color\"]||\"\")[0].fire(\"change\")):(o[\"border-color\"]=i.borderColor,o[\"background-color\"]=i.backgroundColor),t.find(\"#style\").value(e.serializeStyle(e.parseStyle(e.serializeStyle(o))))}function f(e,t,n){var i=e.parseStyle(e.getAttrib(n,\"style\"));i[\"border-color\"]&&(t.borderColor=i[\"border-color\"]),i[\"background-color\"]&&(t.backgroundColor=i[\"background-color\"]),t.style=e.serializeStyle(i)}function m(e,t,i){var o=e.parseStyle(e.getAttrib(t,\"style\"));n(i,function(e){o[e.name]=e.value}),e.setAttrib(t,\"style\",e.serializeStyle(e.parseStyle(e.serializeStyle(o))))}var g=this;g.tableProps=function(){g.table(!0)},g.table=function(o){function s(){function n(e,t,i){if(\"TD\"===e.tagName||\"TH\"===e.tagName)x.setStyle(e,t,i);else if(e.children)for(var o=0;o<e.children.length;o++)n(e.children[o],t,i)}var o;d(x,this),C=e.extend(C,this.toJSON()),!1===C.class&&delete C.class,i.undoManager.transact(function(){if(p||(p=i.plugins.table.insertTable(C.cols||1,C.rows||1)),i.dom.setAttribs(p,{style:C.style,class:C.class}),i.settings.table_style_by_css){if(w=[],w.push({name:\"border\",value:C.border}),w.push({name:\"border-spacing\",value:l(C.cellspacing)}),m(x,p,w),x.setAttribs(p,{\"data-mce-border-color\":C.borderColor,\"data-mce-cell-padding\":C.cellpadding,\"data-mce-border\":C.border}),p.children)for(var e=0;e<p.children.length;e++)n(p.children[e],\"border\",C.border),n(p.children[e],\"padding\",l(C.cellpadding))}else i.dom.setAttribs(p,{border:C.border,cellpadding:C.cellpadding,cellspacing:C.cellspacing});x.getAttrib(p,\"width\")&&!i.settings.table_style_by_css?x.setAttrib(p,\"width\",a(C.width)):x.setStyle(p,\"width\",l(C.width)),x.setStyle(p,\"height\",l(C.height)),o=x.select(\"caption\",p)[0],o&&!C.caption&&x.remove(o),!o&&C.caption&&(o=x.create(\"caption\"),o.innerHTML=t.ie?\" \":'<br data-mce-bogus=\"1\"/>',p.insertBefore(o,p.firstChild)),c(p),C.align&&i.formatter.apply(\"align\"+C.align,{},p),i.focus(),i.addVisual()})}function g(e,t){var n,o=i.dom.select(\"td,th\",e);return n=function(e,n){for(var i=0;i<n.length;i++){var o=x.getStyle(n[i],t);if(void 0===e&&(e=o),e!=o)return\"\"}return e}(n,o)}var p,h,v,y,b,w,x=i.dom,C={};!0===o?(p=x.getParent(i.selection.getStart(),\"table\"))&&(C={width:a(x.getStyle(p,\"width\")||x.getAttrib(p,\"width\")),height:a(x.getStyle(p,\"height\")||x.getAttrib(p,\"height\")),cellspacing:a(x.getStyle(p,\"border-spacing\")||x.getAttrib(p,\"cellspacing\")),cellpadding:x.getAttrib(p,\"data-mce-cell-padding\")||x.getAttrib(p,\"cellpadding\")||g(p,\"padding\"),border:x.getAttrib(p,\"data-mce-border\")||x.getAttrib(p,\"border\")||g(p,\"border\"),borderColor:x.getAttrib(p,\"data-mce-border-color\"),caption:!!x.select(\"caption\",p)[0],class:x.getAttrib(p,\"class\")},n(\"left center right\".split(\" \"),function(e){i.formatter.matchNode(p,\"align\"+e)&&(C.align=e)})):(h={label:\"Cols\",name:\"cols\"},v={label:\"Rows\",name:\"rows\"}),i.settings.table_class_list&&(C.class&&(C.class=C.class.replace(/\\s*mce\\-item\\-table\\s*/g,\"\")),y={name:\"class\",type:\"listbox\",label:\"Class\",values:u(i.settings.table_class_list,function(e){e.value&&(e.textStyle=function(){return i.formatter.getCssText({block:\"table\",classes:[e.value]})})})}),b={type:\"form\",layout:\"flex\",direction:\"column\",labelGapCalc:\"children\",padding:0,items:[{type:\"form\",labelGapCalc:!1,padding:0,layout:\"grid\",columns:2,defaults:{type:\"textbox\",maxWidth:50},items:!1!==i.settings.table_appearance_options?[h,v,{label:\"Width\",name:\"width\"},{label:\"Height\",name:\"height\"},{label:\"Cell spacing\",name:\"cellspacing\"},{label:\"Cell padding\",name:\"cellpadding\"},{label:\"Border\",name:\"border\"},{label:\"Caption\",name:\"caption\",type:\"checkbox\"}]:[h,v,{label:\"Width\",name:\"width\"},{label:\"Height\",name:\"height\"}]},{label:\"Alignment\",name:\"align\",type:\"listbox\",text:\"None\",values:[{text:\"None\",value:\"\"},{text:\"Left\",value:\"left\"},{text:\"Center\",value:\"center\"},{text:\"Right\",value:\"right\"}]},y]},!1!==i.settings.table_advtab?(f(x,C,p),i.windowManager.open({title:\"Table properties\",data:C,bodyType:\"tabpanel\",body:[{title:\"General\",type:\"form\",items:b},r(x)],onsubmit:s})):i.windowManager.open({title:\"Table properties\",data:C,body:b,onsubmit:s})},g.merge=function(e,t){i.windowManager.open({title:\"Merge cells\",body:[{label:\"Cols\",name:\"cols\",type:\"textbox\",value:\"1\",size:10},{label:\"Rows\",name:\"rows\",type:\"textbox\",value:\"1\",size:10}],onsubmit:function(){var n=this.toJSON();i.undoManager.transact(function(){e.merge(t,n.cols,n.rows)})}})},g.cell=function(){function t(e,t,n){(1===y.length||n)&&v.setAttrib(e,t,n)}function o(e,t,n){(1===y.length||n)&&v.setStyle(e,t,n)}function m(){d(v,this),p=e.extend(p,this.toJSON()),i.undoManager.transact(function(){n(y,function(e){t(e,\"scope\",p.scope),t(e,\"style\",p.style),t(e,\"class\",p.class),o(e,\"width\",l(p.width)),o(e,\"height\",l(p.height)),p.type&&e.nodeName.toLowerCase()!==p.type&&(e=v.rename(e,p.type)),1===y.length&&(c(e),s(e)),p.align&&i.formatter.apply(\"align\"+p.align,{},e),p.valign&&i.formatter.apply(\"valign\"+p.valign,{},e)}),i.focus()})}var g,p,h,v=i.dom,y=[];if(y=i.dom.select(\"td[data-mce-selected],th[data-mce-selected]\"),g=i.dom.getParent(i.selection.getStart(),\"td,th\"),!y.length&&g&&y.push(g),g=g||y[0]){y.length>1?p={width:\"\",height:\"\",scope:\"\",class:\"\",align:\"\",style:\"\",type:g.nodeName.toLowerCase()}:(p={width:a(v.getStyle(g,\"width\")||v.getAttrib(g,\"width\")),height:a(v.getStyle(g,\"height\")||v.getAttrib(g,\"height\")),scope:v.getAttrib(g,\"scope\"),class:v.getAttrib(g,\"class\")},p.type=g.nodeName.toLowerCase(),n(\"left center right\".split(\" \"),function(e){i.formatter.matchNode(g,\"align\"+e)&&(p.align=e)}),n(\"top middle bottom\".split(\" \"),function(e){i.formatter.matchNode(g,\"valign\"+e)&&(p.valign=e)}),f(v,p,g)),i.settings.table_cell_class_list&&(h={name:\"class\",type:\"listbox\",label:\"Class\",values:u(i.settings.table_cell_class_list,function(e){e.value&&(e.textStyle=function(){return i.formatter.getCssText({block:\"td\",classes:[e.value]})})})});var b={type:\"form\",layout:\"flex\",direction:\"column\",labelGapCalc:\"children\",padding:0,items:[{type:\"form\",layout:\"grid\",columns:2,labelGapCalc:!1,padding:0,defaults:{type:\"textbox\",maxWidth:50},items:[{label:\"Width\",name:\"width\"},{label:\"Height\",name:\"height\"},{label:\"Cell type\",name:\"type\",type:\"listbox\",text:\"None\",minWidth:90,maxWidth:null,values:[{text:\"Cell\",value:\"td\"},{text:\"Header cell\",value:\"th\"}]},{label:\"Scope\",name:\"scope\",type:\"listbox\",text:\"None\",minWidth:90,maxWidth:null,values:[{text:\"None\",value:\"\"},{text:\"Row\",value:\"row\"},{text:\"Column\",value:\"col\"},{text:\"Row group\",value:\"rowgroup\"},{text:\"Column group\",value:\"colgroup\"}]},{label:\"H Align\",name:\"align\",type:\"listbox\",text:\"None\",minWidth:90,maxWidth:null,values:[{text:\"None\",value:\"\"},{text:\"Left\",value:\"left\"},{text:\"Center\",value:\"center\"},{text:\"Right\",value:\"right\"}]},{label:\"V Align\",name:\"valign\",type:\"listbox\",text:\"None\",minWidth:90,maxWidth:null,values:[{text:\"None\",value:\"\"},{text:\"Top\",value:\"top\"},{text:\"Middle\",value:\"middle\"},{text:\"Bottom\",value:\"bottom\"}]}]},h]};!1!==i.settings.table_cell_advtab?i.windowManager.open({title:\"Cell properties\",bodyType:\"tabpanel\",data:p,body:[{title:\"General\",type:\"form\",items:b},r(v)],onsubmit:m}):i.windowManager.open({title:\"Cell properties\",data:p,body:b,onsubmit:m})}},g.row=function(){function t(e,t,n){(1===w.length||n)&&b.setAttrib(e,t,n)}function o(e,t,n){(1===w.length||n)&&b.setStyle(e,t,n)}function s(){var r,a,s;d(b,this),v=e.extend(v,this.toJSON()),i.undoManager.transact(function(){var e=v.type;n(w,function(n){t(n,\"scope\",v.scope),t(n,\"style\",v.style),t(n,\"class\",v.class),o(n,\"height\",l(v.height)),e!==n.parentNode.nodeName.toLowerCase()&&(r=b.getParent(n,\"table\"),a=n.parentNode,s=b.select(e,r)[0],s||(s=b.create(e),r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s)),s.appendChild(n),a.hasChildNodes()||b.remove(a)),1===w.length&&c(n),v.align&&i.formatter.apply(\"align\"+v.align,{},n)}),i.focus()})}var m,g,p,h,v,y,b=i.dom,w=[];m=i.dom.getParent(i.selection.getStart(),\"table\"),g=i.dom.getParent(i.selection.getStart(),\"td,th\"),n(m.rows,function(e){n(e.cells,function(t){if(b.getAttrib(t,\"data-mce-selected\")||t==g)return w.push(e),!1})}),(p=w[0])&&(w.length>1?v={height:\"\",scope:\"\",class:\"\",align:\"\",type:p.parentNode.nodeName.toLowerCase()}:(v={height:a(b.getStyle(p,\"height\")||b.getAttrib(p,\"height\")),scope:b.getAttrib(p,\"scope\"),class:b.getAttrib(p,\"class\")},v.type=p.parentNode.nodeName.toLowerCase(),n(\"left center right\".split(\" \"),function(e){i.formatter.matchNode(p,\"align\"+e)&&(v.align=e)}),f(b,v,p)),i.settings.table_row_class_list&&(h={name:\"class\",type:\"listbox\",label:\"Class\",values:u(i.settings.table_row_class_list,function(e){e.value&&(e.textStyle=function(){return i.formatter.getCssText({block:\"tr\",classes:[e.value]})})})}),y={type:\"form\",columns:2,padding:0,defaults:{type:\"textbox\"},items:[{type:\"listbox\",name:\"type\",label:\"Row type\",text:\"Header\",maxWidth:null,values:[{text:\"Header\",value:\"thead\"},{text:\"Body\",value:\"tbody\"},{text:\"Footer\",value:\"tfoot\"}]},{type:\"listbox\",name:\"align\",label:\"Alignment\",text:\"None\",maxWidth:null,values:[{text:\"None\",value:\"\"},{text:\"Left\",value:\"left\"},{text:\"Center\",value:\"center\"},{text:\"Right\",value:\"right\"}]},{label:\"Height\",name:\"height\"},h]},!1!==i.settings.table_row_advtab?i.windowManager.open({title:\"Row properties\",data:v,bodyType:\"tabpanel\",body:[{title:\"General\",type:\"form\",items:y},r(b)],onsubmit:s}):i.windowManager.open({title:\"Row properties\",data:v,body:y,onsubmit:s}))}}}),r(\"tinymce.plugins.table.ui.ResizeBars\",[\"tinymce.core.util.Tools\",\"tinymce.core.util.VK\"],function(e,t){var n;return function(i){function o(e,t){return{index:e,y:i.dom.getPos(t).y}}function r(e,t){return{index:e,y:i.dom.getPos(t).y+t.offsetHeight}}function a(e,t){return{index:e,x:i.dom.getPos(t).x}}function l(e,t){return{index:e,x:i.dom.getPos(t).x+t.offsetWidth}}function c(){return\"rtl\"===i.getBody().dir}function s(){return i.inline}function u(){return s?i.getBody().ownerDocument.body:i.getBody()}function d(e,t){return c()?l(e,t):a(e,t)}function f(e,t){return c()?a(e,t):l(e,t)}function m(e,t){return g(e,\"width\")/g(t,\"width\")*100}function g(e,t){var n=i.dom.getStyle(e,t,!0);return parseInt(n,10)}function p(e){return g(e,\"width\")/g(e.parentElement,\"width\")*100}function h(e,t){return t/g(e,\"width\")*100}function v(e,t){return t/g(e.parentElement,\"width\")*100}function y(e,t,n){for(var i=[],o=1;o<n.length;o++){var r=n[o].element;i.push(e(o-1,r))}var a=n[n.length-1];return i.push(t(n.length-1,a.element)),i}function b(){var t=i.dom.select(\".\"+de,u());e.each(t,function(e){i.dom.remove(e)})}function w(e){b(),E(e)}function x(e,t,n,i,o,r,a,l){var c={\"data-mce-bogus\":\"all\",class:de+\" \"+e,unselectable:\"on\",\"data-mce-resize\":!1,style:\"cursor: \"+t+\"; margin: 0; padding: 0; position: absolute; left: \"+n+\"px; top: \"+i+\"px; height: \"+o+\"px; width: \"+r+\"px; \"};return c[a]=l,c}function C(t,n,o){e.each(t,function(e){var t=o.x,r=e.y-we/2,a=we,l=n;i.dom.add(u(),\"div\",x(fe,me,t,r,a,l,ge,e.index))})}function T(t,n,o){e.each(t,function(e){var t=e.x-we/2,r=o.y,a=n,l=we;i.dom.add(u(),\"div\",x(he,ve,t,r,a,l,ye,e.index))})}function N(t){return e.map(t.rows,function(t){return{element:t,cells:e.map(t.cells,function(e){return{element:e,rowspan:e.hasAttribute(\"rowspan\")?parseInt(e.getAttribute(\"rowspan\"),10):1,colspan:e.hasAttribute(\"colspan\")?parseInt(e.getAttribute(\"colspan\"),10):1}})}})}function k(t){function n(e,t){return e+\",\"+t}function i(e,t){return a[n(e,t)]}function o(){var t=[];return e.each(l,function(e){t=t.concat(e.cells)}),t}function r(){return l}var a={},l=[],c=0,s=0;return e.each(t,function(t,i){var o=[];e.each(t.cells,function(e){for(var t=0;void 0!==a[n(i,t)];)t++;for(var r={element:e.element,colspan:e.colspan,rowspan:e.rowspan,rowIndex:i,colIndex:t},l=0;l<e.colspan;l++)for(var u=0;u<e.rowspan;u++){var d=i+u,f=t+l;a[n(d,f)]=r,c=Math.max(c,d+1),s=Math.max(s,f+1)}o.push(r)}),l.push({element:t.element,cells:o})}),{grid:{maxRows:c,maxCols:s},getAt:i,getAllCells:o,getAllRows:r}}function S(e,t){for(var n=[],i=e;i<t;i++)n.push(i);return n}function M(e,t,n){for(var i,o=e(),r=0;r<o.length;r++)t(o[r])&&(i=o[r]);return i||n()}function A(t){var n=S(0,t.grid.maxCols),i=S(0,t.grid.maxRows);return e.map(n,function(e){function n(){for(var n=[],o=0;o<i.length;o++){var r=t.getAt(o,e);r&&r.colIndex===e&&n.push(r)}return n}function o(e){return 1===e.colspan}function r(){for(var n,o=0;o<i.length;o++)if(n=t.getAt(o,e))return n;return null}return M(n,o,r)})}function P(t){var n=S(0,t.grid.maxCols),i=S(0,t.grid.maxRows);return e.map(i,function(e){function i(){for(var i=[],o=0;o<n.length;o++){var r=t.getAt(e,o);r&&r.rowIndex===e&&i.push(r)}return i}function o(e){return 1===e.rowspan}function r(){return t.getAt(e,0)}return M(i,o,r)})}function E(e){var t=N(e),n=k(t),a=P(n),l=A(n),c=i.dom.getPos(e),s=a.length>0?y(o,r,a):[],u=l.length>0?y(d,f,l):[];C(s,e.offsetWidth,c),T(u,e.offsetHeight,c)}function R(e,t,n,i){if(t<0||t>=e.length-1)return\"\";var o=e[t];if(o)o={value:o,delta:0};else for(var r=e.slice(0,t).reverse(),a=0;a<r.length;a++)r[a]&&(o={value:r[a],delta:a+1});var l=e[t+1];if(l)l={value:l,delta:1};else for(var c=e.slice(t+1),s=0;s<c.length;s++)c[s]&&(l={value:c[s],delta:s+1});var u=l.delta-o.delta,d=Math.abs(l.value-o.value)/u;return n?d/g(i,\"width\")*100:d}function B(e,t){var n=i.dom.getStyle(e,t);return n||(n=i.dom.getAttrib(e,t)),n||(n=i.dom.getStyle(e,t,!0)),n}function D(e,t,n){var i=B(e,\"width\"),o=parseInt(i,10),r=t?m(e,n):g(e,\"width\");return(t&&!z(i)||!t&&!W(i))&&(o=0),!isNaN(o)&&o>0?o:r}function I(t,n,i){for(var o=A(t),r=e.map(o,function(e){return d(e.colIndex,e.element).x}),a=[],l=0;l<o.length;l++){var c=o[l].element.hasAttribute(\"colspan\")?parseInt(o[l].element.getAttribute(\"colspan\"),10):1,s=c>1?R(r,l):D(o[l].element,n,i);s=s||xe,a.push(s)}return a}function _(e){var t=B(e,\"height\"),n=parseInt(t,10);return z(t)&&(n=0),!isNaN(n)&&n>0?n:g(e,\"height\")}function L(t){for(var n=P(t),i=e.map(n,function(e){return o(e.rowIndex,e.element).y}),r=[],a=0;a<n.length;a++){var l=n[a].element.hasAttribute(\"rowspan\")?parseInt(n[a].element.getAttribute(\"rowspan\"),10):1,c=l>1?R(i,a):_(n[a].element);c=c||Ce,r.push(c)}return r}function O(t,n,i,o,r){function a(t){return e.map(t,function(){return 0})}function l(e,t){var n,r=a(c.slice(0,e)),l=a(c.slice(t+1));if(i>=0){var s=Math.max(o,c[t]-i);n=r.concat([i,s-c[t]]).concat(l)}else{var u=Math.max(o,c[e]+i),d=c[e]-u;n=r.concat([u-c[e],d]).concat(l)}return n}var c=t.slice(0);return 0===t.length?[]:1===t.length?function(){var e;if(r)e=[100-c[0]];else{e=[Math.max(o,c[0]+i)-c[0]]}return e}():0===n?l(0,1):n>0&&n<t.length-1?l(n,n+1):n===t.length-1?function(e,t){var n,r=a(c.slice(0,t));if(i>=0)n=r.concat([i]);else{var l=Math.max(o,c[t]+i);n=r.concat([l-c[t]])}return n}(n-1,n):[]}function F(e,t,n){for(var i=0,o=e;o<t;o++)i+=n[o];return i}function U(t,n){var i=t.getAllCells();return e.map(i,function(e){var t=F(e.colIndex,e.colIndex+e.colspan,n);return{element:e.element,width:t,colspan:e.colspan}})}function j(t,n){var i=t.getAllCells();return e.map(i,function(e){var t=F(e.rowIndex,e.rowIndex+e.rowspan,n);return{element:e.element,height:t,rowspan:e.rowspan}})}function H(t,n){var i=t.getAllRows();return e.map(i,function(e,t){return{element:e.element,height:n[t]}})}function z(e){return Ne.test(e)}function W(e){return ke.test(e)}function q(t,n,o){function r(t,n){e.each(t,function(e){i.dom.setStyle(e.element,\"width\",e.width+n),i.dom.setAttrib(e.element,\"width\",null)})}function a(e,n,r){o!=c.grid.maxCols-1&&r||(i.dom.setStyle(t,\"width\",e+n),i.dom.setAttrib(t,\"width\",null))}for(var l=N(t),c=k(l),s=z(t.width)||z(t.style.width),u=I(c,s,t),d=s?h(t,n):n,f=O(u,o,d,xe,s,t),m=[],y=0;y<f.length;y++)m.push(f[y]+u[y]);var b=U(c,m),w=s?\"%\":\"px\",x=s?function(){return o<c.grid.maxCols-1?p(t):p(t)+v(t,n)}():function(){return o<c.grid.maxCols-1?g(t,\"width\"):g(t,\"width\")+n}();i.undoManager.transact(function(){r(b,w),a(x,w,s)})}function V(t,n,o){for(var r=N(t),a=k(r),l=L(a),c=[],s=0,u=0;u<l.length;u++)c.push(u===o?n+l[u]:l[u]),s+=s[u];var d=j(a,c),f=H(a,c);i.undoManager.transact(function(){e.each(f,function(e){i.dom.setStyle(e.element,\"height\",e.height+\"px\"),i.dom.setAttrib(e.element,\"height\",null)}),e.each(d,function(e){i.dom.setStyle(e.element,\"height\",e.height+\"px\"),i.dom.setAttrib(e.element,\"height\",null)}),i.dom.setStyle(t,\"height\",s+\"px\"),i.dom.setAttrib(t,\"height\",null)})}function $(){re=setTimeout(function(){G()},200)}function J(){clearTimeout(re)}function K(){var e=document.createElement(\"div\");return e.setAttribute(\"style\",\"margin: 0; padding: 0; position: fixed; left: 0px; top: 0px; height: 100%; width: 100%;\"),e.setAttribute(\"data-mce-bogus\",\"all\"),e}function Y(e,t){i.dom.bind(e,\"mouseup\",function(){G()}),i.dom.bind(e,\"mousemove\",function(e){J(),ae&&t(e)}),i.dom.bind(e,\"mouseout\",function(){$()})}function G(){if(i.dom.remove(le),ae){i.dom.removeClass(ce,Te),ae=!1;var e,t;if(Q(ce)){var o=parseInt(i.dom.getAttrib(ce,be),10),r=i.dom.getPos(ce).x\n;e=parseInt(i.dom.getAttrib(ce,ye),10),t=c()?o-r:r-o,Math.abs(t)>=1&&q(n,t,e)}else if(Z(ce)){var a=parseInt(i.dom.getAttrib(ce,pe),10),l=i.dom.getPos(ce).y;e=parseInt(i.dom.getAttrib(ce,ge),10),t=l-a,Math.abs(t)>=1&&V(n,t,e)}w(n),i.nodeChanged()}}function X(e,t){le=le||K(),ae=!0,i.dom.addClass(e,Te),ce=e,Y(le,t),i.dom.add(u(),le)}function Q(e){return i.dom.hasClass(e,he)}function Z(e){return i.dom.hasClass(e,fe)}function ee(e){se=void 0!==se?se:e.clientX;var t=e.clientX-se;se=e.clientX;var n=i.dom.getPos(ce).x;i.dom.setStyle(ce,\"left\",n+t+\"px\")}function te(e){ue=void 0!==ue?ue:e.clientY;var t=e.clientY-ue;ue=e.clientY;var n=i.dom.getPos(ce).y;i.dom.setStyle(ce,\"top\",n+t+\"px\")}function ne(e){se=void 0,X(e,ee)}function ie(e){ue=void 0,X(e,te)}function oe(e){var t=e.target,o=i.getBody();if(i.$.contains(o,n)||n===o)if(Q(t)){e.preventDefault();var r=i.dom.getPos(t).x;i.dom.setAttrib(t,be,r),ne(t)}else if(Z(t)){e.preventDefault();var a=i.dom.getPos(t).y;i.dom.setAttrib(t,pe,a),ie(t)}else b()}var re,ae,le,ce,se,ue,de=\"mce-resize-bar\",fe=\"mce-resize-bar-row\",me=\"row-resize\",ge=\"data-row\",pe=\"data-initial-top\",he=\"mce-resize-bar-col\",ve=\"col-resize\",ye=\"data-col\",be=\"data-initial-left\",we=4,xe=10,Ce=10,Te=\"mce-resize-bar-dragging\",Ne=new RegExp(/(\\d+(\\.\\d+)?%)/),ke=new RegExp(/px|em/);return i.on(\"init\",function(){i.dom.bind(u(),\"mousedown\",oe)}),i.on(\"ObjectResized\",function(t){var n=t.target;if(\"TABLE\"===n.nodeName){var o=[];e.each(n.rows,function(t){e.each(t.cells,function(e){var t=i.dom.getStyle(e,\"width\",!0);o.push({cell:e,width:t})})}),e.each(o,function(e){i.dom.setStyle(e.cell,\"width\",e.width),i.dom.setAttrib(e.cell,\"width\",null)})}}),i.on(\"mouseover\",function(e){if(!ae){var t=i.dom.getParent(e.target,\"table\");(\"TABLE\"===e.target.nodeName||t)&&(n=t,w(t))}}),i.on(\"keydown\",function(e){switch(e.keyCode){case t.LEFT:case t.RIGHT:case t.UP:case t.DOWN:b()}}),i.on(\"remove\",function(){b(),i.dom.unbind(u(),\"mousedown\",oe)}),{adjustWidth:q,adjustHeight:V,clearBars:b,drawBars:E,determineDeltas:O,getTableGrid:k,getTableDetails:N,getWidths:I,getPixelHeights:L,isPercentageBasedSize:z,isPixelBasedSize:W,recalculateWidths:U,recalculateCellHeights:j,recalculateRowHeights:H}}}),r(\"tinymce.core.PluginManager\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.PluginManager\")}),r(\"tinymce.plugins.table.Plugin\",[\"tinymce.plugins.table.model.TableGrid\",\"tinymce.plugins.table.util.Quirks\",\"tinymce.plugins.table.selection.CellSelection\",\"tinymce.plugins.table.ui.Dialogs\",\"tinymce.plugins.table.ui.ResizeBars\",\"tinymce.core.util.Tools\",\"tinymce.core.dom.TreeWalker\",\"tinymce.core.Env\",\"tinymce.core.PluginManager\"],function(e,t,n,i,o,r,a,l,c){function s(r){function a(e){return function(){r.execCommand(e)}}function c(e,t){var n,i,o,a;for(o='<table id=\"__mce\"><tbody>',n=0;n<t;n++){for(o+=\"<tr>\",i=0;i<e;i++)o+=\"<td>\"+(l.ie&&l.ie<10?\"&nbsp;\":\"<br>\")+\"</td>\";o+=\"</tr>\"}return o+=\"</tbody></table>\",r.undoManager.transact(function(){r.insertContent(o),a=r.dom.get(\"__mce\"),r.dom.setAttrib(a,\"id\",null),r.$(\"tr\",a).each(function(e,t){r.fire(\"newrow\",{node:t}),r.$(\"th,td\",t).each(function(e,t){r.fire(\"newcell\",{node:t})})}),r.dom.setAttribs(a,r.settings.table_default_attributes||{}),r.dom.setStyles(a,r.settings.table_default_styles||{})}),a}function s(e,t,n){function i(){var i,o,a,l={},c=0;o=r.dom.select(\"td[data-mce-selected],th[data-mce-selected]\"),i=o[0],i||(i=r.selection.getStart()),n&&o.length>0?(u(o,function(e){return l[e.parentNode.parentNode.nodeName]=1}),u(l,function(e){c+=e}),a=1!==c):a=!r.dom.getParent(i,t),e.disabled(a),r.selection.selectorChanged(t,function(t){e.disabled(!t)})}r.initialized?i():r.on(\"init\",i)}function d(){s(this,\"table\")}function f(){s(this,\"td,th\")}function m(){s(this,\"td,th\",!0)}function g(e,t,n){var i,o,a,l,c,s=n.getEl().getElementsByTagName(\"table\")[0],u=n.isRtl()||\"tl-tr\"==n.parent().rel;for(s.nextSibling.innerHTML=e+1+\" x \"+(t+1),u&&(e=9-e),o=0;o<10;o++)for(i=0;i<10;i++)l=s.rows[o].childNodes[i].firstChild,c=(u?i>=e:i<=e)&&o<=t,r.dom.toggleClass(l,\"mce-active\",c),c&&(a=l);return a.parentNode}function p(e){return r.dom.is(e,\"table\")&&r.getBody().contains(e)}function h(){return y}function v(e){y=e}var y,b,w=this,x=new i(r);!r.settings.object_resizing||!1===r.settings.table_resize_bars||!0!==r.settings.object_resizing&&\"table\"!==r.settings.object_resizing||(b=o(r)),!1===r.settings.table_grid?r.addMenuItem(\"inserttable\",{text:\"Table\",icon:\"table\",context:\"table\",onclick:x.table}):r.addMenuItem(\"inserttable\",{text:\"Table\",icon:\"table\",context:\"table\",ariaHideMenu:!0,onclick:function(e){e.aria&&(this.parent().hideAll(),e.stopImmediatePropagation(),x.table())},onshow:function(){g(0,0,this.menu.items()[0])},onhide:function(){var e=this.menu.items()[0].getEl().getElementsByTagName(\"a\");r.dom.removeClass(e,\"mce-active\"),r.dom.addClass(e[0],\"mce-active\")},menu:[{type:\"container\",html:function(){var e=\"\";e='<table role=\"grid\" class=\"mce-grid mce-grid-border\" aria-readonly=\"true\">';for(var t=0;t<10;t++){e+=\"<tr>\";for(var n=0;n<10;n++)e+='<td role=\"gridcell\" tabindex=\"-1\"><a id=\"mcegrid'+(10*t+n)+'\" href=\"#\" data-mce-x=\"'+n+'\" data-mce-y=\"'+t+'\"></a></td>';e+=\"</tr>\"}return e+=\"</table>\",e+='<div class=\"mce-text-center\" role=\"presentation\">1 x 1</div>'}(),onPostRender:function(){this.lastX=this.lastY=0},onmousemove:function(e){var t,n,i=e.target;\"A\"==i.tagName.toUpperCase()&&(t=parseInt(i.getAttribute(\"data-mce-x\"),10),n=parseInt(i.getAttribute(\"data-mce-y\"),10),(this.isRtl()||\"tl-tr\"==this.parent().rel)&&(t=9-t),t===this.lastX&&n===this.lastY||(g(t,n,e.control),this.lastX=t,this.lastY=n))},onclick:function(e){var t=this;\"A\"==e.target.tagName.toUpperCase()&&(e.preventDefault(),e.stopPropagation(),t.parent().cancel(),r.undoManager.transact(function(){c(t.lastX+1,t.lastY+1)}),r.addVisual())}}]}),r.addMenuItem(\"tableprops\",{text:\"Table properties\",context:\"table\",onPostRender:d,onclick:x.tableProps}),r.addMenuItem(\"deletetable\",{text:\"Delete table\",context:\"table\",onPostRender:d,cmd:\"mceTableDelete\"}),r.addMenuItem(\"cell\",{separator:\"before\",text:\"Cell\",context:\"table\",menu:[{text:\"Cell properties\",onclick:a(\"mceTableCellProps\"),onPostRender:f},{text:\"Merge cells\",onclick:a(\"mceTableMergeCells\"),onPostRender:m},{text:\"Split cell\",onclick:a(\"mceTableSplitCells\"),onPostRender:f}]}),r.addMenuItem(\"row\",{text:\"Row\",context:\"table\",menu:[{text:\"Insert row before\",onclick:a(\"mceTableInsertRowBefore\"),onPostRender:f},{text:\"Insert row after\",onclick:a(\"mceTableInsertRowAfter\"),onPostRender:f},{text:\"Delete row\",onclick:a(\"mceTableDeleteRow\"),onPostRender:f},{text:\"Row properties\",onclick:a(\"mceTableRowProps\"),onPostRender:f},{text:\"-\"},{text:\"Cut row\",onclick:a(\"mceTableCutRow\"),onPostRender:f},{text:\"Copy row\",onclick:a(\"mceTableCopyRow\"),onPostRender:f},{text:\"Paste row before\",onclick:a(\"mceTablePasteRowBefore\"),onPostRender:f},{text:\"Paste row after\",onclick:a(\"mceTablePasteRowAfter\"),onPostRender:f}]}),r.addMenuItem(\"column\",{text:\"Column\",context:\"table\",menu:[{text:\"Insert column before\",onclick:a(\"mceTableInsertColBefore\"),onPostRender:f},{text:\"Insert column after\",onclick:a(\"mceTableInsertColAfter\"),onPostRender:f},{text:\"Delete column\",onclick:a(\"mceTableDeleteCol\"),onPostRender:f}]});var C=[];u(\"inserttable tableprops deletetable | cell row column\".split(\" \"),function(e){\"|\"==e?C.push({text:\"-\"}):C.push(r.menuItems[e])}),r.addButton(\"table\",{type:\"menubutton\",title:\"Table\",menu:C}),l.isIE||r.on(\"click\",function(e){e=e.target,\"TABLE\"===e.nodeName&&(r.selection.select(e),r.nodeChanged())}),w.quirks=new t(r),r.on(\"Init\",function(){w.cellSelection=new n(r,function(e){e&&b&&b.clearBars()}),w.resizeBars=b}),r.on(\"PreInit\",function(){r.serializer.addAttributeFilter(\"data-mce-cell-padding,data-mce-border,data-mce-border-color\",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)})}),u({mceTableSplitCells:function(e){e.split()},mceTableMergeCells:function(e){var t;t=r.dom.getParent(r.selection.getStart(),\"th,td\"),r.dom.select(\"td[data-mce-selected],th[data-mce-selected]\").length?e.merge():x.merge(e,t)},mceTableInsertRowBefore:function(e){e.insertRows(!0)},mceTableInsertRowAfter:function(e){e.insertRows()},mceTableInsertColBefore:function(e){e.insertCols(!0)},mceTableInsertColAfter:function(e){e.insertCols()},mceTableDeleteCol:function(e){e.deleteCols()},mceTableDeleteRow:function(e){e.deleteRows()},mceTableCutRow:function(e){y=e.cutRows()},mceTableCopyRow:function(e){y=e.copyRows()},mceTablePasteRowBefore:function(e){e.pasteRows(y,!0)},mceTablePasteRowAfter:function(e){e.pasteRows(y)},mceSplitColsBefore:function(e){e.splitCols(!0)},mceSplitColsAfter:function(e){e.splitCols(!1)},mceTableDelete:function(e){b&&b.clearBars(),e.deleteTable()}},function(t,n){r.addCommand(n,function(){var n=new e(r);n&&(t(n),r.execCommand(\"mceRepaint\"),w.cellSelection.clear())})}),u({mceInsertTable:x.table,mceTableProps:function(){x.table(!0)},mceTableRowProps:x.row,mceTableCellProps:x.cell},function(e,t){r.addCommand(t,function(t,n){e(n)})}),function(){r.addButton(\"tableprops\",{title:\"Table properties\",onclick:x.tableProps,icon:\"table\"}),r.addButton(\"tabledelete\",{title:\"Delete table\",onclick:a(\"mceTableDelete\")}),r.addButton(\"tablecellprops\",{title:\"Cell properties\",onclick:a(\"mceTableCellProps\")}),r.addButton(\"tablemergecells\",{title:\"Merge cells\",onclick:a(\"mceTableMergeCells\")}),r.addButton(\"tablesplitcells\",{title:\"Split cell\",onclick:a(\"mceTableSplitCells\")}),r.addButton(\"tableinsertrowbefore\",{title:\"Insert row before\",onclick:a(\"mceTableInsertRowBefore\")}),r.addButton(\"tableinsertrowafter\",{title:\"Insert row after\",onclick:a(\"mceTableInsertRowAfter\")}),r.addButton(\"tabledeleterow\",{title:\"Delete row\",onclick:a(\"mceTableDeleteRow\")}),r.addButton(\"tablerowprops\",{title:\"Row properties\",onclick:a(\"mceTableRowProps\")}),r.addButton(\"tablecutrow\",{title:\"Cut row\",onclick:a(\"mceTableCutRow\")}),r.addButton(\"tablecopyrow\",{title:\"Copy row\",onclick:a(\"mceTableCopyRow\")}),r.addButton(\"tablepasterowbefore\",{title:\"Paste row before\",onclick:a(\"mceTablePasteRowBefore\")}),r.addButton(\"tablepasterowafter\",{title:\"Paste row after\",onclick:a(\"mceTablePasteRowAfter\")}),r.addButton(\"tableinsertcolbefore\",{title:\"Insert column before\",onclick:a(\"mceTableInsertColBefore\")}),r.addButton(\"tableinsertcolafter\",{title:\"Insert column after\",onclick:a(\"mceTableInsertColAfter\")}),r.addButton(\"tabledeletecol\",{title:\"Delete column\",onclick:a(\"mceTableDeleteCol\")})}(),function(){var e=r.settings.table_toolbar;\"\"!==e&&!1!==e&&(e||(e=\"tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol\"),r.addContextToolbar(p,e))}(),!1!==r.settings.table_tab_navigation&&r.on(\"keydown\",function(t){var n,i,o;9==t.keyCode&&(n=r.dom.getParent(r.selection.getStart(),\"th,td\"))&&(t.preventDefault(),i=new e(r),o=t.shiftKey?-1:1,r.undoManager.transact(function(){!i.moveRelIdx(n,o)&&o>0&&(i.insertRow(),i.refresh(),i.moveRelIdx(n,o))}))}),w.insertTable=c,w.setClipboardRows=v,w.getClipboardRows=h}var u=r.each;return c.add(\"table\",s),function(){}}),i(\"tinymce.plugins.table.Plugin\")()}()},{}],51:[function(e,t,n){e(\"./plugin.js\")},{\"./plugin.js\":52}],52:[function(e,t,n){!function(){var e={},t=function(t){for(var n=e[t],o=n.deps,r=n.defn,a=o.length,l=new Array(a),c=0;c<a;++c)l[c]=i(o[c]);var s=r.apply(null,l);if(void 0===s)throw\"module [\"+t+\"] returned undefined\";n.instance=s},n=function(t,n,i){if(\"string\"!=typeof t)throw\"module id must be a string\";if(void 0===n)throw\"no dependencies for \"+t;if(void 0===i)throw\"no definition function for \"+t;e[t]={deps:n,defn:i,instance:void 0}},i=function(n){var i=e[n];if(void 0===i)throw\"module [\"+n+\"] was undefined\";return void 0===i.instance&&t(n),i.instance},o=function(e,t){for(var n=e.length,o=new Array(n),r=0;r<n;++r)o.push(i(e[r]));t.apply(null,t)};({}).bolt={module:{api:{define:n,require:o,demand:i}}};var r=n;!function(e,t){r(e,[],function(){return t})}(\"global!tinymce.util.Tools.resolve\",tinymce.util.Tools.resolve),r(\"tinymce.core.dom.DOMUtils\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.dom.DOMUtils\")}),r(\"tinymce.core.PluginManager\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.PluginManager\")}),r(\"tinymce.core.util.JSON\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.util.JSON\")}),r(\"tinymce.core.util.Tools\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.util.Tools\")}),r(\"tinymce.core.util.XHR\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.util.XHR\")}),r(\"tinymce.plugins.template.Plugin\",[\"tinymce.core.dom.DOMUtils\",\"tinymce.core.PluginManager\",\"tinymce.core.util.JSON\",\"tinymce.core.util.Tools\",\"tinymce.core.util.XHR\"],function(e,t,n,i,o){return t.add(\"template\",function(t){function r(e){return function(){var i=t.settings.templates;if(\"function\"==typeof i)return void i(e);\"string\"==typeof i?o.send({url:i,success:function(t){e(n.parse(t))}}):e(i)}}function a(n){function r(e){function n(e){if(-1==e.indexOf(\"<html>\")){var n=\"\";i.each(t.contentCSS,function(e){n+='<link type=\"text/css\" rel=\"stylesheet\" href=\"'+t.documentBaseURI.toAbsolute(e)+'\">'});var o=t.settings.body_class||\"\";-1!=o.indexOf(\"=\")&&(o=t.getParam(\"body_class\",\"\",\"hash\"),o=o[t.id]||\"\"),e=\"<!DOCTYPE html><html><head>\"+n+'</head><body class=\"'+o+'\">'+e+\"</body></html>\"}e=s(e,\"template_preview_replace_values\");var r=a.find(\"iframe\")[0].getEl().contentWindow.document;r.open(),r.write(e),r.close()}var r=e.control.value();r.url?o.send({url:r.url,success:function(e){l=e,n(l)}}):(l=r.content,n(l)),a.find(\"#description\")[0].text(e.control.value().description)}var a,l,c=[];if(!n||0===n.length){var d=t.translate(\"No templates defined.\");return void t.notificationManager.open({text:d,type:\"info\"})}i.each(n,function(e){c.push({selected:!c.length,text:e.title,value:{url:e.url,content:e.content,description:e.description}})}),a=t.windowManager.open({title:\"Insert template\",layout:\"flex\",direction:\"column\",align:\"stretch\",padding:15,spacing:10,items:[{type:\"form\",flex:0,padding:0,items:[{type:\"container\",label:\"Templates\",items:{type:\"listbox\",label:\"Templates\",name:\"template\",values:c,onselect:r}}]},{type:\"label\",name:\"description\",label:\"Description\",text:\" \"},{type:\"iframe\",flex:1,border:1}],onsubmit:function(){u(!1,l)},minWidth:Math.min(e.DOM.getViewPort().w,t.getParam(\"template_popup_width\",600)),minHeight:Math.min(e.DOM.getViewPort().h,t.getParam(\"template_popup_height\",500))}),a.find(\"listbox\")[0].fire(\"select\")}function l(e,n){function i(e,t){if(e=\"\"+e,e.length<t)for(var n=0;n<t-e.length;n++)e=\"0\"+e;return e}var o=\"Sun Mon Tue Wed Thu Fri Sat Sun\".split(\" \"),r=\"Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday\".split(\" \"),a=\"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec\".split(\" \"),l=\"January February March April May June July August September October November December\".split(\" \");return n=n||new Date,e=e.replace(\"%D\",\"%m/%d/%Y\"),e=e.replace(\"%r\",\"%I:%M:%S %p\"),e=e.replace(\"%Y\",\"\"+n.getFullYear()),e=e.replace(\"%y\",\"\"+n.getYear()),e=e.replace(\"%m\",i(n.getMonth()+1,2)),e=e.replace(\"%d\",i(n.getDate(),2)),e=e.replace(\"%H\",\"\"+i(n.getHours(),2)),e=e.replace(\"%M\",\"\"+i(n.getMinutes(),2)),e=e.replace(\"%S\",\"\"+i(n.getSeconds(),2)),e=e.replace(\"%I\",\"\"+((n.getHours()+11)%12+1)),e=e.replace(\"%p\",n.getHours()<12?\"AM\":\"PM\"),e=e.replace(\"%B\",\"\"+t.translate(l[n.getMonth()])),e=e.replace(\"%b\",\"\"+t.translate(a[n.getMonth()])),e=e.replace(\"%A\",\"\"+t.translate(r[n.getDay()])),e=e.replace(\"%a\",\"\"+t.translate(o[n.getDay()])),e=e.replace(\"%%\",\"%\")}function c(e){var n=t.dom,o=t.getParam(\"template_replace_values\");i.each(n.select(\"*\",e),function(e){i.each(o,function(t,i){n.hasClass(e,i)&&\"function\"==typeof o[i]&&o[i](e)})})}function s(e,n){return i.each(t.getParam(n),function(t,n){\"function\"==typeof t&&(t=t(n)),e=e.replace(new RegExp(\"\\\\{\\\\$\"+n+\"\\\\}\",\"g\"),t)}),e}function u(e,n){function o(e,t){return new RegExp(\"\\\\b\"+t+\"\\\\b\",\"g\").test(e.className)}var r,a,u=t.dom,d=t.selection.getContent();n=s(n,\"template_replace_values\"),r=u.create(\"div\",null,n),a=u.select(\".mceTmpl\",r),a&&a.length>0&&(r=u.create(\"div\",null),r.appendChild(a[0].cloneNode(!0))),i.each(u.select(\"*\",r),function(e){o(e,t.getParam(\"template_cdate_classes\",\"cdate\").replace(/\\s+/g,\"|\"))&&(e.innerHTML=l(t.getParam(\"template_cdate_format\",t.getLang(\"template.cdate_format\")))),o(e,t.getParam(\"template_mdate_classes\",\"mdate\").replace(/\\s+/g,\"|\"))&&(e.innerHTML=l(t.getParam(\"template_mdate_format\",t.getLang(\"template.mdate_format\")))),o(e,t.getParam(\"template_selected_content_classes\",\"selcontent\").replace(/\\s+/g,\"|\"))&&(e.innerHTML=d)}),c(r),t.execCommand(\"mceInsertContent\",!1,r.innerHTML),t.addVisual()}t.addCommand(\"mceInsertTemplate\",u),t.addButton(\"template\",{title:\"Insert template\",onclick:r(a)}),t.addMenuItem(\"template\",{text:\"Template\",onclick:r(a),context:\"insert\"}),t.on(\"PreProcess\",function(e){var n=t.dom;i.each(n.select(\"div\",e.node),function(e){n.hasClass(e,\"mceTmpl\")&&(i.each(n.select(\"*\",e),function(e){n.hasClass(e,t.getParam(\"template_mdate_classes\",\"mdate\").replace(/\\s+/g,\"|\"))&&(e.innerHTML=l(t.getParam(\"template_mdate_format\",t.getLang(\"template.mdate_format\"))))}),c(e))})})}),function(){}}),i(\"tinymce.plugins.template.Plugin\")()}()},{}],53:[function(e,t,n){e(\"./plugin.js\")},{\"./plugin.js\":54}],54:[function(e,t,n){!function(){var e={},t=function(t){for(var n=e[t],o=n.deps,r=n.defn,a=o.length,l=new Array(a),c=0;c<a;++c)l[c]=i(o[c]);var s=r.apply(null,l);if(void 0===s)throw\"module [\"+t+\"] returned undefined\";n.instance=s},n=function(t,n,i){if(\"string\"!=typeof t)throw\"module id must be a string\";if(void 0===n)throw\"no dependencies for \"+t;if(void 0===i)throw\"no definition function for \"+t;e[t]={deps:n,defn:i,instance:void 0}},i=function(n){var i=e[n];if(void 0===i)throw\"module [\"+n+\"] was undefined\";return void 0===i.instance&&t(n),i.instance},o=function(e,t){for(var n=e.length,o=new Array(n),r=0;r<n;++r)o.push(i(e[r]));t.apply(null,t)};({}).bolt={module:{api:{define:n,require:o,demand:i}}};var r=n;!function(e,t){r(e,[],function(){return t})}(\"global!tinymce.util.Tools.resolve\",tinymce.util.Tools.resolve),r(\"tinymce.core.dom.DOMUtils\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.dom.DOMUtils\")}),r(\"tinymce.core.PluginManager\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.PluginManager\")}),r(\"tinymce.core.util.I18n\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.util.I18n\")}),r(\"tinymce.core.util.Tools\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.util.Tools\")}),r(\"tinymce.plugins.textcolor.Plugin\",[\"tinymce.core.dom.DOMUtils\",\"tinymce.core.PluginManager\",\"tinymce.core.util.I18n\",\"tinymce.core.util.Tools\"],function(e,t,n,i){var o=n.translate;return t.add(\"textcolor\",function(t){function n(e){var n;return t.dom.getParents(t.selection.getStart(),function(t){var i;(i=t.style[\"forecolor\"==e?\"color\":\"background-color\"])&&(n=i)}),n}function r(e){var n,i,o=[];for(i=[\"000000\",\"Black\",\"993300\",\"Burnt orange\",\"333300\",\"Dark olive\",\"003300\",\"Dark green\",\"003366\",\"Dark azure\",\"000080\",\"Navy Blue\",\"333399\",\"Indigo\",\"333333\",\"Very dark gray\",\"800000\",\"Maroon\",\"FF6600\",\"Orange\",\"808000\",\"Olive\",\"008000\",\"Green\",\"008080\",\"Teal\",\"0000FF\",\"Blue\",\"666699\",\"Grayish blue\",\"808080\",\"Gray\",\"FF0000\",\"Red\",\"FF9900\",\"Amber\",\"99CC00\",\"Yellow green\",\"339966\",\"Sea green\",\"33CCCC\",\"Turquoise\",\"3366FF\",\"Royal blue\",\"800080\",\"Purple\",\"999999\",\"Medium gray\",\"FF00FF\",\"Magenta\",\"FFCC00\",\"Gold\",\"FFFF00\",\"Yellow\",\"00FF00\",\"Lime\",\"00FFFF\",\"Aqua\",\"00CCFF\",\"Sky blue\",\"993366\",\"Red violet\",\"FFFFFF\",\"White\",\"FF99CC\",\"Pink\",\"FFCC99\",\"Peach\",\"FFFF99\",\"Light yellow\",\"CCFFCC\",\"Pale green\",\"CCFFFF\",\"Pale cyan\",\"99CCFF\",\"Light sky blue\",\"CC99FF\",\"Plum\"],i=t.settings.textcolor_map||i,i=t.settings[e+\"_map\"]||i,n=0;n<i.length;n+=2)o.push({text:i[n+1],color:\"#\"+i[n]});return o}function a(){function e(e,t){var n=\"transparent\"==e;return'<td class=\"mce-grid-cell'+(n?\" mce-colorbtn-trans\":\"\")+'\"><div id=\"'+p+\"-\"+h+++'\" data-mce-color=\"'+(e||\"\")+'\" role=\"option\" tabIndex=\"-1\" style=\"'+(e?\"background-color: \"+e:\"\")+'\" title=\"'+o(t)+'\">'+(n?\"&#215;\":\"\")+\"</div></td>\"}var n,i,a,l,c,s,u,m,g=this,p=g._id,h=0;for(m=g.settings.origin,n=r(m),n.push({text:o(\"No color\"),color:\"transparent\"}),a='<table class=\"mce-grid mce-grid-border mce-colorbutton-grid\" role=\"list\" cellspacing=\"0\"><tbody>',l=n.length-1,s=0;s<f[m];s++){for(a+=\"<tr>\",c=0;c<d[m];c++)u=s*d[m]+c,u>l?a+=\"<td></td>\":(i=n[u],a+=e(i.color,i.text));a+=\"</tr>\"}if(t.settings.color_picker_callback){for(a+='<tr><td colspan=\"'+d[m]+'\" class=\"mce-custom-color-btn\"><div id=\"'+p+'-c\" class=\"mce-widget mce-btn mce-btn-small mce-btn-flat\" role=\"button\" tabindex=\"-1\" aria-labelledby=\"'+p+'-c\" style=\"width: 100%\"><button type=\"button\" role=\"presentation\" tabindex=\"-1\">'+o(\"Custom...\")+\"</button></div></td></tr>\",a+=\"<tr>\",c=0;c<d[m];c++)a+=e(\"\",\"Custom color\");a+=\"</tr>\"}return a+=\"</tbody></table>\"}function l(e,n){t.undoManager.transact(function(){t.focus(),t.formatter.apply(e,{value:n}),t.nodeChanged()})}function c(e){t.undoManager.transact(function(){t.focus(),t.formatter.remove(e,{value:null},null,!0),t.nodeChanged()})}function s(o){function r(e){f.hidePanel(),f.color(e),l(f.settings.format,e)}function a(e,t){e.style.background=t,e.setAttribute(\"data-mce-color\",t)}var s,u,f=this.parent();u=f.settings.origin,e.DOM.getParent(o.target,\".mce-custom-color-btn\")&&(f.hidePanel(),t.settings.color_picker_callback.call(t,function(e){var t,n,o,l=f.panel.getEl().getElementsByTagName(\"table\")[0];for(t=i.map(l.rows[l.rows.length-1].childNodes,function(e){return e.firstChild}),o=0;o<t.length&&(n=t[o],n.getAttribute(\"data-mce-color\"));o++);if(o==d[u])for(o=0;o<d[u]-1;o++)a(t[o],t[o+1].getAttribute(\"data-mce-color\"));a(n,e),r(e)},n(f.settings.format))),s=o.target.getAttribute(\"data-mce-color\"),s?(this.lastId&&document.getElementById(this.lastId).setAttribute(\"aria-selected\",!1),o.target.setAttribute(\"aria-selected\",!0),this.lastId=o.target.id,\"transparent\"==s?function(){f.hidePanel(),f.resetColor(),c(f.settings.format)}():r(s)):null!==s&&f.hidePanel()}function u(){var e=this;e._color?l(e.settings.format,e._color):c(e.settings.format)}var d,f;f={forecolor:t.settings.forecolor_rows||t.settings.textcolor_rows||5,backcolor:t.settings.backcolor_rows||t.settings.textcolor_rows||5},d={forecolor:t.settings.forecolor_cols||t.settings.textcolor_cols||8,backcolor:t.settings.backcolor_cols||t.settings.textcolor_cols||8},t.addButton(\"forecolor\",{type:\"colorbutton\",tooltip:\"Text color\",format:\"forecolor\",panel:{origin:\"forecolor\",role:\"application\",ariaRemember:!0,html:a,onclick:s},onclick:u}),t.addButton(\"backcolor\",{type:\"colorbutton\",tooltip:\"Background color\",format:\"hilitecolor\",panel:{origin:\"backcolor\",role:\"application\",ariaRemember:!0,html:a,onclick:s},onclick:u})}),function(){}}),i(\"tinymce.plugins.textcolor.Plugin\")()}()},{}],55:[function(e,t,n){e(\"./plugin.js\")},{\"./plugin.js\":56}],56:[function(e,t,n){!function(){var e={},t=function(t){for(var n=e[t],o=n.deps,r=n.defn,a=o.length,l=new Array(a),c=0;c<a;++c)l[c]=i(o[c]);var s=r.apply(null,l);if(void 0===s)throw\"module [\"+t+\"] returned undefined\";n.instance=s},n=function(t,n,i){if(\"string\"!=typeof t)throw\"module id must be a string\";if(void 0===n)throw\"no dependencies for \"+t;if(void 0===i)throw\"no definition function for \"+t;e[t]={deps:n,defn:i,instance:void 0}},i=function(n){var i=e[n];if(void 0===i)throw\"module [\"+n+\"] was undefined\";return void 0===i.instance&&t(n),i.instance},o=function(e,t){for(var n=e.length,o=new Array(n),r=0;r<n;++r)o.push(i(e[r]));t.apply(null,t)};({}).bolt={module:{api:{define:n,require:o,demand:i}}};var r=n;!function(e,t){r(e,[],function(){return t})}(\"global!tinymce.util.Tools.resolve\",tinymce.util.Tools.resolve),r(\"tinymce.core.PluginManager\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.PluginManager\")}),r(\"tinymce.plugins.visualblocks.Plugin\",[\"tinymce.core.PluginManager\"],function(e){return e.add(\"visualblocks\",function(e,t){function n(){var t=this;t.active(r),e.on(\"VisualBlocks\",function(){t.active(e.dom.hasClass(e.getBody(),\"mce-visualblocks\"))})}var i,o,r;window.NodeList&&(e.addCommand(\"mceVisualBlocks\",function(){var n,a=e.dom;i||(i=a.uniqueId(),n=a.create(\"link\",{id:i,rel:\"stylesheet\",href:t+\"/css/visualblocks.css\"}),e.getDoc().getElementsByTagName(\"head\")[0].appendChild(n)),e.on(\"PreviewFormats AfterPreviewFormats\",function(t){r&&a.toggleClass(e.getBody(),\"mce-visualblocks\",\"afterpreviewformats\"==t.type)}),a.toggleClass(e.getBody(),\"mce-visualblocks\"),r=e.dom.hasClass(e.getBody(),\"mce-visualblocks\"),o&&o.active(a.hasClass(e.getBody(),\"mce-visualblocks\")),e.fire(\"VisualBlocks\")}),e.addButton(\"visualblocks\",{title:\"Show blocks\",cmd:\"mceVisualBlocks\",onPostRender:n}),e.addMenuItem(\"visualblocks\",{text:\"Show blocks\",cmd:\"mceVisualBlocks\",onPostRender:n,selectable:!0,context:\"view\",prependToContext:!0}),e.on(\"init\",function(){e.settings.visualblocks_default_state&&e.execCommand(\"mceVisualBlocks\",!1,null,{skip_focus:!0})}),e.on(\"remove\",function(){e.dom.removeClass(e.getBody(),\"mce-visualblocks\")}))}),function(){}}),i(\"tinymce.plugins.visualblocks.Plugin\")()}()},{}],57:[function(e,t,n){e(\"./plugin.js\")},{\"./plugin.js\":58}],58:[function(e,t,n){!function(){var e={},t=function(t){for(var n=e[t],o=n.deps,r=n.defn,a=o.length,l=new Array(a),c=0;c<a;++c)l[c]=i(o[c]);var s=r.apply(null,l);if(void 0===s)throw\"module [\"+t+\"] returned undefined\";n.instance=s},n=function(t,n,i){if(\"string\"!=typeof t)throw\"module id must be a string\";if(void 0===n)throw\"no dependencies for \"+t;if(void 0===i)throw\"no definition function for \"+t;e[t]={deps:n,defn:i,instance:void 0}},i=function(n){var i=e[n];if(void 0===i)throw\"module [\"+n+\"] was undefined\";return void 0===i.instance&&t(n),i.instance},o=function(e,t){for(var n=e.length,o=new Array(n),r=0;r<n;++r)o.push(i(e[r]));t.apply(null,t)};({}).bolt={module:{api:{define:n,require:o,demand:i}}};var r=n,a=function(e,t){r(e,[],function(){return t})};a(\"global!tinymce.util.Tools.resolve\",tinymce.util.Tools.resolve),r(\"tinymce.core.PluginManager\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.PluginManager\")}),r(\"tinymce.core.util.Delay\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.util.Delay\")}),a(\"global!Array\",Array),a(\"global!Error\",Error),r(\"ephox.katamari.api.Fun\",[\"global!Array\",\"global!Error\"],function(e,t){var n=function(){},i=function(e,t){return function(){return e(t.apply(null,arguments))}},o=function(e){return function(){return e}};return{noop:n,compose:i,constant:o,identity:function(e){return e},tripleEquals:function(e,t){return e===t},curry:function(t){for(var n=new e(arguments.length-1),i=1;i<arguments.length;i++)n[i-1]=arguments[i];return function(){for(var i=new e(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];var r=n.concat(i);return t.apply(null,r)}},not:function(e){return function(){return!e.apply(null,arguments)}},die:function(e){return function(){throw new t(e)}},apply:function(e){return e()},call:function(e){e()},never:o(!1),always:o(!0)}}),a(\"global!Object\",Object),r(\"ephox.katamari.api.Option\",[\"ephox.katamari.api.Fun\",\"global!Object\"],function(e,t){var n=e.never,i=e.always,o=function(){return r},r=function(){var r=function(e){return e.isNone()},a=function(e){return e()},l=function(e){return e},c=function(){},s={fold:function(e,t){return e()},is:n,isSome:n,isNone:i,getOr:l,getOrThunk:a,getOrDie:function(e){throw new Error(e||\"error: getOrDie called on none.\")},or:l,orThunk:a,map:o,ap:o,each:c,bind:o,flatten:o,exists:n,forall:i,filter:o,equals:r,equals_:r,toArray:function(){return[]},toString:e.constant(\"none()\")};return t.freeze&&t.freeze(s),s}(),a=function(e){var t=function(){return e},l=function(){return u},c=function(t){return a(t(e))},s=function(t){return t(e)},u={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:i,isNone:n,getOr:t,getOrThunk:t,getOrDie:t,or:l,orThunk:l,map:c,ap:function(t){return t.fold(o,function(t){return a(t(e))})},each:function(t){t(e)},bind:s,flatten:t,exists:s,forall:s,filter:function(t){return t(e)?u:r},equals:function(t){return t.is(e)},equals_:function(t,i){return t.fold(n,function(t){return i(e,t)})},toArray:function(){return[e]},toString:function(){return\"some(\"+e+\")\"}};return u};return{some:a,none:o,from:function(e){return null===e||void 0===e?r:a(e)}}}),a(\"global!String\",String),r(\"ephox.katamari.api.Arr\",[\"ephox.katamari.api.Option\",\"global!Array\",\"global!Error\",\"global!String\"],function(e,t,n,i){var o=function(){var e=t.prototype.indexOf,n=function(t,n){return e.call(t,n)},i=function(e,t){return w(e,t)};return void 0===e?i:n}(),r=function(t,n){var i=o(t,n);return-1===i?e.none():e.some(i)},a=function(e,t){return o(e,t)>-1},l=function(e,t){return b(e,t).isSome()},c=function(e,t){for(var n=[],i=0;i<e;i++)n.push(t(i));return n},s=function(e,t){for(var n=[],i=0;i<e.length;i+=t){var o=e.slice(i,i+t);n.push(o)}return n},u=function(e,n){for(var i=e.length,o=new t(i),r=0;r<i;r++){var a=e[r];o[r]=n(a,r,e)}return o},d=function(e,t){for(var n=0,i=e.length;n<i;n++){t(e[n],n,e)}},f=function(e,t){for(var n=e.length-1;n>=0;n--){t(e[n],n,e)}},m=function(e,t){for(var n=[],i=[],o=0,r=e.length;o<r;o++){var a=e[o];(t(a,o,e)?n:i).push(a)}return{pass:n,fail:i}},g=function(e,t){for(var n=[],i=0,o=e.length;i<o;i++){var r=e[i];t(r,i,e)&&n.push(r)}return n},p=function(e,t){if(0===e.length)return[];for(var n=t(e[0]),i=[],o=[],r=0,a=e.length;r<a;r++){var l=e[r],c=t(l);c!==n&&(i.push(o),o=[]),n=c,o.push(l)}return 0!==o.length&&i.push(o),i},h=function(e,t,n){return f(e,function(e){n=t(n,e)}),n},v=function(e,t,n){return d(e,function(e){n=t(n,e)}),n},y=function(t,n){for(var i=0,o=t.length;i<o;i++){var r=t[i];if(n(r,i,t))return e.some(r)}return e.none()},b=function(t,n){for(var i=0,o=t.length;i<o;i++){if(n(t[i],i,t))return e.some(i)}return e.none()},w=function(e,t){for(var n=0,i=e.length;n<i;++n)if(e[n]===t)return n;return-1},x=t.prototype.push,C=function(e){for(var i=[],o=0,r=e.length;o<r;++o){if(!t.prototype.isPrototypeOf(e[o]))throw new n(\"Arr.flatten item \"+o+\" was not an array, input: \"+e);x.apply(i,e[o])}return i},T=function(e,t){var n=u(e,t);return C(n)},N=function(e,t){for(var n=0,i=e.length;n<i;++n){if(!0!==t(e[n],n,e))return!1}return!0},k=function(e,t){return e.length===t.length&&N(e,function(e,n){return e===t[n]})},S=t.prototype.slice;return{map:u,each:d,eachr:f,partition:m,filter:g,groupBy:p,indexOf:r,foldr:h,foldl:v,find:y,findIndex:b,flatten:C,bind:T,forall:N,exists:l,contains:a,equal:k,reverse:function(e){var t=S.call(e,0);return t.reverse(),t},chunk:s,difference:function(e,t){return g(e,function(e){return!a(t,e)})},mapToObject:function(e,t){for(var n={},o=0,r=e.length;o<r;o++){var a=e[o];n[i(a)]=t(a,o)}return n},pure:function(e){return[e]},sort:function(e,t){var n=S.call(e,0);return n.sort(t),n},range:c}}),r(\"global!console\",[],function(){return\"undefined\"==typeof console&&(console={log:function(){}}),console}),a(\"global!document\",document),r(\"ephox.sugar.api.node.Element\",[\"ephox.katamari.api.Fun\",\"global!Error\",\"global!console\",\"global!document\"],function(e,t,n,i){var o=function(e,t){var o=t||i,r=o.createElement(\"div\");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1)throw n.error(\"HTML does not have a single root node\",e),\"HTML must have a single root node\";return l(r.childNodes[0])},r=function(e,t){var n=t||i,o=n.createElement(e);return l(o)},a=function(e,t){var n=t||i,o=n.createTextNode(e);return l(o)},l=function(n){if(null===n||void 0===n)throw new t(\"Node cannot be null or undefined\");return{dom:e.constant(n)}};return{fromHtml:o,fromTag:r,fromText:a,fromDom:l}}),r(\"tinymce.plugins.visualchars.core.Data\",[],function(){var e={\" \":\"nbsp\",\"­\":\"shy\"},t=function(e,t){var n,i=\"\";for(n in e)i+=n;return new RegExp(\"[\"+i+\"]\",t?\"g\":\"\")},n=function(e){var t,n=\"\";for(t in e)n&&(n+=\",\"),n+=\"span.mce-\"+e[t];return n};return{charMap:e,regExp:t(e),regExpGlobal:t(e,!0),selector:n(e),charMapToRegExp:t,charMapToSelector:n}}),\nr(\"ephox.sugar.api.node.NodeTypes\",[],function(){return{ATTRIBUTE:2,CDATA_SECTION:4,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,ELEMENT:1,TEXT:3,PROCESSING_INSTRUCTION:7,ENTITY_REFERENCE:5,ENTITY:6,NOTATION:12}}),r(\"ephox.sugar.api.node.Node\",[\"ephox.sugar.api.node.NodeTypes\"],function(e){var t=function(e){return e.dom().nodeName.toLowerCase()},n=function(e){return e.dom().nodeType},i=function(e){return e.dom().nodeValue},o=function(e){return function(t){return n(t)===e}},r=function(i){return n(i)===e.COMMENT||\"#comment\"===t(i)},a=o(e.ELEMENT),l=o(e.TEXT),c=o(e.DOCUMENT);return{name:t,type:n,value:i,isElement:a,isText:l,isDocument:c,isComment:r}}),r(\"tinymce.plugins.visualchars.core.Html\",[\"tinymce.plugins.visualchars.core.Data\"],function(e){return{wrapCharWithSpan:function(t){return'<span data-mce-bogus=\"1\" class=\"mce-'+e.charMap[t]+'\">'+t+\"</span>\"}}}),r(\"tinymce.plugins.visualchars.core.Nodes\",[\"ephox.katamari.api.Arr\",\"ephox.sugar.api.node.Element\",\"ephox.sugar.api.node.Node\",\"tinymce.plugins.visualchars.core.Data\",\"tinymce.plugins.visualchars.core.Html\"],function(e,t,n,i,o){var r=function(e){return n.isText(e)&&void 0!==n.value(e)&&i.regExp.test(n.value(e))},a=function(n,i){var o=[],r=n.dom(),l=e.map(r.childNodes,t.fromDom);return e.each(l,function(e){i(e)&&(o=o.concat([e])),o=o.concat(a(e,i))}),o};return{isMatch:r,filterDescendants:a,findParentElm:function(e,t){for(;e.parentNode;){if(e.parentNode===t)return e;e=e.parentNode}},replaceWithSpans:function(e){return e.replace(i.regExpGlobal,o.wrapCharWithSpan)}}}),r(\"tinymce.plugins.visualchars.core.VisualChars\",[\"tinymce.plugins.visualchars.core.Data\",\"tinymce.plugins.visualchars.core.Nodes\",\"ephox.katamari.api.Arr\",\"ephox.sugar.api.node.Element\",\"ephox.sugar.api.node.Node\"],function(e,t,n,i,o){var r=function(e,r){var a,l,c=t.filterDescendants(i.fromDom(r),t.isMatch);n.each(c,function(n){var i=t.replaceWithSpans(o.value(n));for(l=e.dom.create(\"div\",null,i);a=l.lastChild;)e.dom.insertAfter(a,n.dom());e.dom.remove(n.dom())})},a=function(t,i){var o=t.dom.select(e.selector,i);n.each(o,function(e){t.dom.remove(e,1)})};return{show:r,hide:a,toggle:function(e){var n=e.getBody(),i=e.selection.getBookmark(),o=t.findParentElm(e.selection.getNode(),n);o=void 0!==o?o:n,a(e,o),r(e,o),e.selection.moveToBookmark(i)}}}),r(\"tinymce.plugins.visualchars.Plugin\",[\"tinymce.core.PluginManager\",\"tinymce.core.util.Delay\",\"ephox.katamari.api.Arr\",\"ephox.sugar.api.node.Element\",\"tinymce.plugins.visualchars.core.VisualChars\"],function(e,t,n,i,o){return e.add(\"visualchars\",function(e){var n,i=this,r=function(){var t=this;e.on(\"VisualChars\",function(e){t.active(e.state)})},a=t.debounce(function(){o.toggle(e)},300);!1!==e.settings.forced_root_block&&e.on(\"keydown\",function(t){!0===i.state&&(13===t.keyCode?o.toggle(e):a())}),e.addCommand(\"mceVisualChars\",function(){var t,r=e.getBody(),a=e.selection;n=!n,i.state=n,e.fire(\"VisualChars\",{state:n}),t=a.getBookmark(),!0===n?o.show(e,r):o.hide(e,r),a.moveToBookmark(t)}),e.addButton(\"visualchars\",{title:\"Show invisible characters\",cmd:\"mceVisualChars\",onPostRender:r}),e.addMenuItem(\"visualchars\",{text:\"Show invisible characters\",cmd:\"mceVisualChars\",onPostRender:r,selectable:!0,context:\"view\",prependToContext:!0})}),function(){}}),i(\"tinymce.plugins.visualchars.Plugin\")()}()},{}],59:[function(e,t,n){e(\"./plugin.js\")},{\"./plugin.js\":60}],60:[function(e,t,n){!function(){var e={},t=function(t){for(var n=e[t],o=n.deps,r=n.defn,a=o.length,l=new Array(a),c=0;c<a;++c)l[c]=i(o[c]);var s=r.apply(null,l);if(void 0===s)throw\"module [\"+t+\"] returned undefined\";n.instance=s},n=function(t,n,i){if(\"string\"!=typeof t)throw\"module id must be a string\";if(void 0===n)throw\"no dependencies for \"+t;if(void 0===i)throw\"no definition function for \"+t;e[t]={deps:n,defn:i,instance:void 0}},i=function(n){var i=e[n];if(void 0===i)throw\"module [\"+n+\"] was undefined\";return void 0===i.instance&&t(n),i.instance},o=function(e,t){for(var n=e.length,o=new Array(n),r=0;r<n;++r)o.push(i(e[r]));t.apply(null,t)};({}).bolt={module:{api:{define:n,require:o,demand:i}}};var r=n;!function(e,t){r(e,[],function(){return t})}(\"global!tinymce.util.Tools.resolve\",tinymce.util.Tools.resolve),r(\"tinymce.core.PluginManager\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.PluginManager\")}),r(\"tinymce.core.util.Delay\",[\"global!tinymce.util.Tools.resolve\"],function(e){return e(\"tinymce.util.Delay\")}),r(\"tinymce.plugins.wordcount.text.UnicodeData\",[],function(){var e={aletter:\"[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]\",midnumlet:\"['\\\\.‘’․﹒＇．]\",midletter:\"[:··״‧︓﹕：]\",midnum:\"[,;;։،؍٬߸⁄︐︔﹐﹔，；]\",numeric:\"[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]\",cr:\"\\\\r\",lf:\"\\\\n\",newline:\"[\\v\\f\\u2028\\u2029]\",extend:\"[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]\",format:\"[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\\ufeff￹-￻]\",katakana:\"[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]\",extendnumlet:\"[_‿⁀⁔︳︴﹍-﹏＿]\",punctuation:\"[!-#%-*,-\\\\/:;?@\\\\[-\\\\]_{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]\"},t={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},n=[new RegExp(e.aletter),new RegExp(e.midnumlet),new RegExp(e.midletter),new RegExp(e.midnum),new RegExp(e.numeric),new RegExp(e.cr),new RegExp(e.lf),new RegExp(e.newline),new RegExp(e.extend),new RegExp(e.format),new RegExp(e.katakana),new RegExp(e.extendnumlet),new RegExp(\"@\")],i=new RegExp(\"^\"+e.punctuation+\"$\");return{characterIndices:t,SETS:n,EMPTY_STRING:\"\",PUNCTUATION:i,WHITESPACE:/\\s/}}),r(\"tinymce.plugins.wordcount.alien.Arr\",[],function(){var e=function(e,t,n){var i,o;if(!e)return 0;if(n=n||e,void 0!==e.length){for(i=0,o=e.length;i<o;i++)if(!1===t.call(n,e[i],i,e))return 0}else for(i in e)if(e.hasOwnProperty(i)&&!1===t.call(n,e[i],i,e))return 0;return 1};return{each:e,map:function(t,n){var i=[];return e(t,function(e,o){i.push(n(e,o,t))}),i}}}),r(\"tinymce.plugins.wordcount.text.StringMapper\",[\"tinymce.plugins.wordcount.text.UnicodeData\",\"tinymce.plugins.wordcount.alien.Arr\"],function(e,t){var n=e.SETS,i=e.characterIndices.OTHER,o=function(e){var t,o,r=i,a=n.length;for(t=0;t<a;++t)if((o=n[t])&&o.test(e)){r=t;break}return r},r=function(e){var t={};return function(n){if(t[n])return t[n];var i=e(n);return t[n]=i,i}};return{classify:function(e){var n=r(o);return t.map(e.split(\"\"),n)}}}),r(\"tinymce.plugins.wordcount.text.WordBoundary\",[\"tinymce.plugins.wordcount.text.UnicodeData\"],function(e){var t=e.characterIndices;return{isWordBoundary:function(e,n){var i,o,r=e[n],a=e[n+1];return!(n<0||n>e.length-1&&0!==n)&&((r!==t.ALETTER||a!==t.ALETTER)&&(o=e[n+2],(r!==t.ALETTER||a!==t.MIDLETTER&&a!==t.MIDNUMLET&&a!==t.AT||o!==t.ALETTER)&&(i=e[n-1],(r!==t.MIDLETTER&&r!==t.MIDNUMLET&&a!==t.AT||a!==t.ALETTER||i!==t.ALETTER)&&((r!==t.NUMERIC&&r!==t.ALETTER||a!==t.NUMERIC&&a!==t.ALETTER)&&((r!==t.MIDNUM&&r!==t.MIDNUMLET||a!==t.NUMERIC||i!==t.NUMERIC)&&((r!==t.NUMERIC||a!==t.MIDNUM&&a!==t.MIDNUMLET||o!==t.NUMERIC)&&(r!==t.EXTEND&&r!==t.FORMAT&&i!==t.EXTEND&&i!==t.FORMAT&&a!==t.EXTEND&&a!==t.FORMAT&&((r!==t.CR||a!==t.LF)&&(r===t.NEWLINE||r===t.CR||r===t.LF||(a===t.NEWLINE||a===t.CR||a===t.LF||(r!==t.KATAKANA||a!==t.KATAKANA)&&((a!==t.EXTENDNUMLET||r!==t.ALETTER&&r!==t.NUMERIC&&r!==t.KATAKANA&&r!==t.EXTENDNUMLET)&&((r!==t.EXTENDNUMLET||a!==t.ALETTER&&a!==t.NUMERIC&&a!==t.KATAKANA)&&r!==t.AT))))))))))))}}}),r(\"tinymce.plugins.wordcount.text.WordGetter\",[\"tinymce.plugins.wordcount.text.UnicodeData\",\"tinymce.plugins.wordcount.text.StringMapper\",\"tinymce.plugins.wordcount.text.WordBoundary\"],function(e,t,n){var i=e.EMPTY_STRING,o=e.WHITESPACE,r=e.PUNCTUATION,a=function(e){return\"http\"===e||\"https\"===e},l=function(e,t){var n;for(n=t;n<e.length;++n){var i=e.charAt(n);if(o.test(i))break}return n},c=function(e,t,n){var i=l(t,n+1),o=t.substring(n+1,i);return\"://\"===o.substr(0,3)?{word:e+o,index:i}:{word:e,index:n}};return{getWords:function(e,l){var s,u,d,f=0,m=t.classify(e),g=m.length,p=[],h=[];for(l||(l={}),l.ignoreCase&&(e=e.toLowerCase()),u=l.includePunctuation,d=l.includeWhitespace;f<g;++f)if(s=e.charAt(f),p.push(s),n.isWordBoundary(m,f)){if((p=p.join(i))&&(d||!o.test(p))&&(u||!r.test(p)))if(a(p)){var v=c(p,e,f);h.push(v.word),f=v.index}else h.push(p);p=[]}return h}}}),r(\"tinymce.plugins.wordcount.Plugin\",[\"tinymce.core.PluginManager\",\"tinymce.core.util.Delay\",\"tinymce.plugins.wordcount.text.WordGetter\"],function(e,t,n){return e.add(\"wordcount\",function(e){var i=function(e){return e.removed?\"\":e.getBody().innerText},o=function(){return n.getWords(i(e)).length},r=function(){e.theme.panel.find(\"#wordcount\").text([\"Words: {0}\",o()])};return e.on(\"init\",function(){var n=e.theme.panel&&e.theme.panel.find(\"#statusbar\")[0],i=t.debounce(r,300);n&&t.setEditorTimeout(e,function(){n.insert({type:\"label\",name:\"wordcount\",text:[\"Words: {0}\",o()],classes:\"wordcount\",disabled:e.settings.readonly},0),e.on(\"setcontent beforeaddundo undo redo keyup\",i)},0)}),{getCount:o}}),function(){}}),i(\"tinymce.plugins.wordcount.Plugin\")()}()},{}]},{},[1]);"],"file":"app.js"}